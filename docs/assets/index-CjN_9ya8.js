(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function LE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ym={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function fS(){if(Mv)return Bl;Mv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=t,Bl.jsx=e,Bl.jsxs=e,Bl}var Vv;function dS(){return Vv||(Vv=1,ym.exports=fS()),ym.exports}var C=dS(),_m={exports:{}},Hl={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function mS(){return Pv||(Pv=1,function(i){function t(W,lt){var mt=W.length;W.push(lt);t:for(;0<mt;){var Ht=mt-1>>>1,M=W[Ht];if(0<o(M,lt))W[Ht]=lt,W[mt]=M,mt=Ht;else break t}}function e(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var lt=W[0],mt=W.pop();if(mt!==lt){W[0]=mt;t:for(var Ht=0,M=W.length,rt=M>>>1;Ht<rt;){var ut=2*(Ht+1)-1,st=W[ut],yt=ut+1,xt=W[yt];if(0>o(st,mt))yt<M&&0>o(xt,st)?(W[Ht]=xt,W[yt]=mt,Ht=yt):(W[Ht]=st,W[ut]=mt,Ht=ut);else if(yt<M&&0>o(xt,mt))W[Ht]=xt,W[yt]=mt,Ht=yt;else break t}}return lt}function o(W,lt){var mt=W.sortIndex-lt.sortIndex;return mt!==0?mt:W.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,b=null,T=3,I=!1,x=!1,j=!1,V=!1,G=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function J(W){for(var lt=e(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=W)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=e(g)}}function at(W){if(j=!1,J(W),!x)if(e(p)!==null)x=!0,ft||(ft=!0,z());else{var lt=e(g);lt!==null&&ie(at,lt.startTime-W)}}var ft=!1,D=-1,A=5,R=-1;function k(){return V?!0:!(i.unstable_now()-R<A)}function L(){if(V=!1,ft){var W=i.unstable_now();R=W;var lt=!0;try{t:{x=!1,j&&(j=!1,U(D),D=-1),I=!0;var mt=T;try{e:{for(J(W),b=e(p);b!==null&&!(b.expirationTime>W&&k());){var Ht=b.callback;if(typeof Ht=="function"){b.callback=null,T=b.priorityLevel;var M=Ht(b.expirationTime<=W);if(W=i.unstable_now(),typeof M=="function"){b.callback=M,J(W),lt=!0;break e}b===e(p)&&s(p),J(W)}else s(p);b=e(p)}if(b!==null)lt=!0;else{var rt=e(g);rt!==null&&ie(at,rt.startTime-W),lt=!1}}break t}finally{b=null,T=mt,I=!1}lt=void 0}}finally{lt?z():ft=!1}}}var z;if(typeof Q=="function")z=function(){Q(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Re=O.port2;O.port1.onmessage=L,z=function(){Re.postMessage(null)}}else z=function(){G(L,0)};function ie(W,lt){D=G(function(){W(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(W){switch(T){case 1:case 2:case 3:var lt=3;break;default:lt=T}var mt=T;T=lt;try{return W()}finally{T=mt}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=T;T=W;try{return lt()}finally{T=mt}},i.unstable_scheduleCallback=function(W,lt,mt){var Ht=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ht+mt:Ht):mt=Ht,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=mt+M,W={id:E++,callback:lt,priorityLevel:W,startTime:mt,expirationTime:M,sortIndex:-1},mt>Ht?(W.sortIndex=mt,t(g,W),e(p)===null&&W===e(g)&&(j?(U(D),D=-1):j=!0,ie(at,mt-Ht))):(W.sortIndex=M,t(p,W),x||I||(x=!0,ft||(ft=!0,z()))),W},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(W){var lt=T;return function(){var mt=T;T=lt;try{return W.apply(this,arguments)}finally{T=mt}}}}(Em)),Em}var Lv;function pS(){return Lv||(Lv=1,vm.exports=mS()),vm.exports}var Tm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function gS(){if(Uv)return Rt;Uv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,j={};function V(M,rt,ut){this.props=M,this.context=rt,this.refs=j,this.updater=ut||I}V.prototype.isReactComponent={},V.prototype.setState=function(M,rt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,rt,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=V.prototype;function U(M,rt,ut){this.props=M,this.context=rt,this.refs=j,this.updater=ut||I}var Q=U.prototype=new G;Q.constructor=U,x(Q,V.prototype),Q.isPureReactComponent=!0;var J=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function D(M,rt,ut,st,yt,xt){return ut=xt.ref,{$$typeof:i,type:M,key:rt,ref:ut!==void 0?ut:null,props:xt}}function A(M,rt){return D(M.type,rt,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function k(M){var rt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return rt[ut]})}var L=/\/+/g;function z(M,rt){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):rt.toString(36)}function O(){}function Re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(rt){M.status==="pending"&&(M.status="fulfilled",M.value=rt)},function(rt){M.status==="pending"&&(M.status="rejected",M.reason=rt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ie(M,rt,ut,st,yt){var xt=typeof M;(xt==="undefined"||xt==="boolean")&&(M=null);var wt=!1;if(M===null)wt=!0;else switch(xt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(M.$$typeof){case i:case t:wt=!0;break;case E:return wt=M._init,ie(wt(M._payload),rt,ut,st,yt)}}if(wt)return yt=yt(M),wt=st===""?"."+z(M,0):st,J(yt)?(ut="",wt!=null&&(ut=wt.replace(L,"$&/")+"/"),ie(yt,rt,ut,"",function(Zn){return Zn})):yt!=null&&(R(yt)&&(yt=A(yt,ut+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(L,"$&/")+"/")+wt)),rt.push(yt)),1;wt=0;var Me=st===""?".":st+":";if(J(M))for(var te=0;te<M.length;te++)st=M[te],xt=Me+z(st,te),wt+=ie(st,rt,ut,xt,yt);else if(te=T(M),typeof te=="function")for(M=te.call(M),te=0;!(st=M.next()).done;)st=st.value,xt=Me+z(st,te++),wt+=ie(st,rt,ut,xt,yt);else if(xt==="object"){if(typeof M.then=="function")return ie(Re(M),rt,ut,st,yt);throw rt=String(M),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return wt}function W(M,rt,ut){if(M==null)return M;var st=[],yt=0;return ie(M,st,"","",function(xt){return rt.call(ut,xt,yt++)}),st}function lt(M){if(M._status===-1){var rt=M._result;rt=rt(),rt.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=rt)}if(M._status===1)return M._result.default;throw M._result}var mt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ht(){}return Rt.Children={map:W,forEach:function(M,rt,ut){W(M,function(){rt.apply(this,arguments)},ut)},count:function(M){var rt=0;return W(M,function(){rt++}),rt},toArray:function(M){return W(M,function(rt){return rt})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=V,Rt.Fragment=e,Rt.Profiler=o,Rt.PureComponent=U,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return at.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,rt,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=x({},M.props),yt=M.key,xt=void 0;if(rt!=null)for(wt in rt.ref!==void 0&&(xt=void 0),rt.key!==void 0&&(yt=""+rt.key),rt)!ft.call(rt,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&rt.ref===void 0||(st[wt]=rt[wt]);var wt=arguments.length-2;if(wt===1)st.children=ut;else if(1<wt){for(var Me=Array(wt),te=0;te<wt;te++)Me[te]=arguments[te+2];st.children=Me}return D(M.type,yt,void 0,void 0,xt,st)},Rt.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,rt,ut){var st,yt={},xt=null;if(rt!=null)for(st in rt.key!==void 0&&(xt=""+rt.key),rt)ft.call(rt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=rt[st]);var wt=arguments.length-2;if(wt===1)yt.children=ut;else if(1<wt){for(var Me=Array(wt),te=0;te<wt;te++)Me[te]=arguments[te+2];yt.children=Me}if(M&&M.defaultProps)for(st in wt=M.defaultProps,wt)yt[st]===void 0&&(yt[st]=wt[st]);return D(M,xt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:m,render:M}},Rt.isValidElement=R,Rt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:lt}},Rt.memo=function(M,rt){return{$$typeof:g,type:M,compare:rt===void 0?null:rt}},Rt.startTransition=function(M){var rt=at.T,ut={};at.T=ut;try{var st=M(),yt=at.S;yt!==null&&yt(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ht,mt)}catch(xt){mt(xt)}finally{at.T=rt}},Rt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Rt.use=function(M){return at.H.use(M)},Rt.useActionState=function(M,rt,ut){return at.H.useActionState(M,rt,ut)},Rt.useCallback=function(M,rt){return at.H.useCallback(M,rt)},Rt.useContext=function(M){return at.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,rt){return at.H.useDeferredValue(M,rt)},Rt.useEffect=function(M,rt,ut){var st=at.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(M,rt)},Rt.useId=function(){return at.H.useId()},Rt.useImperativeHandle=function(M,rt,ut){return at.H.useImperativeHandle(M,rt,ut)},Rt.useInsertionEffect=function(M,rt){return at.H.useInsertionEffect(M,rt)},Rt.useLayoutEffect=function(M,rt){return at.H.useLayoutEffect(M,rt)},Rt.useMemo=function(M,rt){return at.H.useMemo(M,rt)},Rt.useOptimistic=function(M,rt){return at.H.useOptimistic(M,rt)},Rt.useReducer=function(M,rt,ut){return at.H.useReducer(M,rt,ut)},Rt.useRef=function(M){return at.H.useRef(M)},Rt.useState=function(M){return at.H.useState(M)},Rt.useSyncExternalStore=function(M,rt,ut){return at.H.useSyncExternalStore(M,rt,ut)},Rt.useTransition=function(){return at.H.useTransition()},Rt.version="19.1.0",Rt}var jv;function pp(){return jv||(jv=1,Tm.exports=gS()),Tm.exports}var bm={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function yS(){if(zv)return We;zv=1;var i=pp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,We.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},We.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},We.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},We.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},We.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:I}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},We.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},We.requestFormReset=function(p){s.d.r(p)},We.unstable_batchedUpdates=function(p,g){return p(g)},We.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},We.useFormStatus=function(){return h.H.useHostTransitionStatus()},We.version="19.1.0",We}var Bv;function _S(){if(Bv)return bm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),bm.exports=yS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function vS(){if(Hv)return Hl;Hv=1;var i=pS(),t=pp(),e=_S();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case V:return"Profiler";case j:return"StrictMode";case at:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case U:return(n._context.displayName||"Context")+".Consumer";case J:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:Re(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return Re(n(r))}catch{}}return null}var ie=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ht=[],M=-1;function rt(n){return{current:n}}function ut(n){0>M||(n.current=Ht[M],Ht[M]=null,M--)}function st(n,r){M++,Ht[M]=n.current,n.current=r}var yt=rt(null),xt=rt(null),wt=rt(null),Me=rt(null);function te(n,r){switch(st(wt,r),st(xt,n),st(yt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?lv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=lv(r),n=uv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ut(yt),st(yt,n)}function Zn(){ut(yt),ut(xt),ut(wt)}function gr(n){n.memoizedState!==null&&st(Me,n);var r=yt.current,a=uv(r,n.type);r!==a&&(st(xt,n),st(yt,a))}function Ci(n){xt.current===n&&(ut(yt),ut(xt)),Me.current===n&&(ut(Me),Pl._currentValue=mt)}var ds=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ps=i.unstable_cancelCallback,ko=i.unstable_shouldYield,Du=i.unstable_requestPaint,In=i.unstable_now,yf=i.unstable_getCurrentPriorityLevel,Mo=i.unstable_ImmediatePriority,fa=i.unstable_UserBlockingPriority,gs=i.unstable_NormalPriority,_f=i.unstable_LowPriority,da=i.unstable_IdlePriority,Vo=i.log,Ou=i.unstable_setDisableYieldValue,ce=null,Yt=null;function gn(n){if(typeof Vo=="function"&&Ou(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ce,n)}catch{}}var Qe=Math.clz32?Math.clz32:ys,ku=Math.log,vf=Math.LN2;function ys(n){return n>>>=0,n===0?32:31-(ku(n)/vf|0)|0}var _s=256,vs=4194304;function Hn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ma(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=Hn(l):(v&=w,v!==0?f=Hn(v):a||(a=w&~n,a!==0&&(f=Hn(a))))):(w=l&~d,w!==0?f=Hn(w):v!==0?f=Hn(v):a||(a=l&~n,a!==0&&(f=Hn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Es(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Po(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var n=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),n}function Uo(){var n=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),n}function xi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ni(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jo(n,r,a,l,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,Y=n.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Qe(a),nt=1<<Z;w[Z]=0,N[Z]=-1;var $=Y[Z];if($!==null)for(Y[Z]=null,Z=0;Z<$.length;Z++){var K=$[Z];K!==null&&(K.lane&=-536870913)}a&=~nt}l!==0&&ti(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function ti(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Qe(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function zo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Qe(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function yr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _r(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:Cv(n.type))}function Mu(n,r){var a=lt.p;try{return lt.p=n,r()}finally{lt.p=a}}var se=Math.random().toString(36).slice(2),Ie="__reactFiber$"+se,ve="__reactProps$"+se,Cn="__reactContainer$"+se,Bo="__reactEvents$"+se,Ef="__reactListeners$"+se,vr="__reactHandles$"+se,Vu="__reactResources$"+se,Ts="__reactMarker$"+se;function Er(n){delete n[Ie],delete n[ve],delete n[Bo],delete n[Ef],delete n[vr]}function Di(n){var r=n[Ie];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Cn]||a[Ie]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=dv(n);n!==null;){if(a=n[Ie])return a;n=dv(n)}return r}n=a,a=n.parentNode}return null}function ei(n){if(n=n[Ie]||n[Cn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ni(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[Vu];return r||(r=n[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function me(n){n[Ts]=!0}var Ho=new Set,ga={};function qn(n,r){Oi(n,r),Oi(n+"Capture",r)}function Oi(n,r){for(ga[n]=r,n=0;n<r.length;n++)Ho.add(r[n])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},bs={};function Uu(n){return ds.call(bs,n)?!0:ds.call(Lu,n)?!1:Pu.test(n)?bs[n]=!0:(Lu[n]=!0,!1)}function Tr(n,r,a){if(Uu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ii(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Be(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ws,ju;function ki(n){if(ws===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ws=r&&r[1]||"",ju=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+n+ju}var ya=!1;function _a(n,r){if(!n||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var $=K}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(K){$=K}n.call(nt.prototype)}}else{try{throw Error()}catch(K){$=K}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var N=v.split(`
`),Y=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===Y.length)for(l=N.length-1,f=Y.length-1;1<=l&&0<=f&&N[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==Y[f]){var Z=`
`+N[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ki(a):""}function qo(n){switch(n.tag){case 26:case 27:case 5:return ki(n.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return _a(n.type,!1);case 11:return _a(n.type.render,!1);case 1:return _a(n.type,!0);case 31:return ki("Activity");default:return""}}function va(n){try{var r="";do r+=qo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tf(n){var r=Fo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ea(n){n._valueTracker||(n._valueTracker=Tf(n))}function Go(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Fo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bf=/[\n"\\]/g;function Ee(n){return n.replace(bf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yn(n,r,a,l,f,d,v,w){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?br(n,v,an(r)):a!=null?br(n,v,an(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+an(w):n.removeAttribute("name")}function As(n,r,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function br(n,r,a){r==="number"&&Ss(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Qt(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function Rs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function xn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Is.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Yo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&zu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&zu(n,d,r[d])}function $o(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return Sf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vi=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,Li=null;function Ko(n){var r=ei(n);if(r&&(n=r.stateNode)){var a=n[ve]||null;t:switch(n=r.stateNode,r.type){case"input":if(yn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[ve]||null;if(!f)throw Error(s(90));yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Go(l)}break t;case"textarea":Qt(n,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Mi(n,!!a.multiple,r,!1)}}}var ri=!1;function Bu(n,r,a){if(ri)return n(r,a);ri=!0;try{var l=n(r);return l}finally{if(ri=!1,(Pi!==null||Li!==null)&&(Mc(),Pi&&(r=Pi,n=Li,Li=Pi=null,Ko(r),n)))for(r=0;r<n.length;r++)Ko(n[r])}}function Cs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Fn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Dn=!1}var si=null,wr=null,Ui=null;function Qo(){if(Ui)return Ui;var n,r=wr,a=r.length,l,f="value"in si?si.value:si.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Ui=f.slice(n,1<l?1-l:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function Xo(){return!1}function Ve(n){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Xo,this.isPropagationStopped=Xo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Ve(Ft),Ns=E({},Ft,{view:0,detail:0}),Hu=Ve(Ns),wa,Sa,li,Ds=E({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(wa=n.screenX-li.screenX,Sa=n.screenY-li.screenY):Sa=wa=0,li=n),wa)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),On=Ve(Ds),qu=E({},Ds,{dataTransfer:0}),Af=Ve(qu),Os=E({},Ns,{relatedTarget:0}),Aa=Ve(Os),Wo=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Ve(Wo),Fu=E({},Ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ia=Ve(Fu),Rf=E({},Ft,{data:0}),Jo=Ve(Rf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Yu[n])?!!r[n]:!1}function Ms(){return Zo}var $u=E({},Ns,{key:function(n){if(n.key){var r=ks[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ca=Ve($u),Ku=E({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Ve(Ku),ji=E({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),Qu=Ve(ji),Xu=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Ve(Xu),Ju=E({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ve(Ju),on=E({},Ft,{newState:0,oldState:0}),Zu=Ve(on),tc=[9,13,27,32],ui=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var y=Fn&&"TextEvent"in window&&!c,_=Fn&&(!ui||c&&8<c&&11>=c),S=" ",q=!1;function X(n,r){switch(n){case"keyup":return tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pt=!1;function Ce(n,r){switch(n){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return n=r.data,n===S&&q?null:n;default:return null}}function Lt(n,r){if(Pt)return n==="compositionend"||!ui&&X(n,r)?(n=Qo(),Ui=wr=si=null,Pt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pe[n.type]:r==="textarea"}function zi(n,r,a,l){Pi?Li?Li.push(l):Li=[l]:Pi=l,r=zc(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var He=null,ci=null;function el(n){iv(n,0)}function ec(n){var r=ni(n);if(Go(r))return n}function Sg(n,r){if(n==="change")return r}var Ag=!1;if(Fn){var If;if(Fn){var Cf="oninput"in document;if(!Cf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Cf=typeof Rg.oninput=="function"}If=Cf}else If=!1;Ag=If&&(!document.documentMode||9<document.documentMode)}function Ig(){He&&(He.detachEvent("onpropertychange",Cg),ci=He=null)}function Cg(n){if(n.propertyName==="value"&&ec(ci)){var r=[];zi(r,ci,n,Nn(n)),Bu(el,r)}}function Hb(n,r,a){n==="focusin"?(Ig(),He=r,ci=a,He.attachEvent("onpropertychange",Cg)):n==="focusout"&&Ig()}function qb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ec(ci)}function Fb(n,r){if(n==="click")return ec(r)}function Gb(n,r){if(n==="input"||n==="change")return ec(r)}function Yb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var _n=typeof Object.is=="function"?Object.is:Yb;function nl(n,r){if(_n(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ds.call(r,f)||!_n(n[f],r[f]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ng(n,r){var a=xg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xg(a)}}function Dg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Dg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Og(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ss(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ss(n.document)}return r}function xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var $b=Fn&&"documentMode"in document&&11>=document.documentMode,Na=null,Nf=null,il=null,Df=!1;function kg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||Na==null||Na!==Ss(l)||(l=Na,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=zc(Nf,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Na)))}function Vs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Da={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Of={},Mg={};Fn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Ps(n){if(Of[n])return Of[n];if(!Da[n])return n;var r=Da[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mg)return Of[n]=r[a];return n}var Vg=Ps("animationend"),Pg=Ps("animationiteration"),Lg=Ps("animationstart"),Kb=Ps("transitionrun"),Qb=Ps("transitionstart"),Xb=Ps("transitioncancel"),Ug=Ps("transitionend"),jg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function Gn(n,r){jg.set(n,r),qn(r,[n])}var zg=new WeakMap;function kn(n,r){if(typeof n=="object"&&n!==null){var a=zg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:va(r)},zg.set(n,r),r)}return{value:n,source:r,stack:va(r)}}var Mn=[],Oa=0,Mf=0;function nc(){for(var n=Oa,r=Mf=Oa=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Bg(a,f,d)}}function ic(n,r,a,l){Mn[Oa++]=n,Mn[Oa++]=r,Mn[Oa++]=a,Mn[Oa++]=l,Mf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Vf(n,r,a,l){return ic(n,r,a,l),rc(n)}function ka(n,r){return ic(n,null,null,r),rc(n)}function Bg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Qe(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function rc(n){if(50<Cl)throw Cl=0,Bd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ma={};function Wb(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,r,a,l){return new Wb(n,r,a,l)}function Pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bi(n,r){var a=n.alternate;return a===null?(a=vn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Hg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function sc(n,r,a,l,f,d){var v=0;if(l=n,typeof n=="function")Pf(n)&&(v=1);else if(typeof n=="string")v=Zw(n,a,yt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=vn(31,a,r,f),n.elementType=R,n.lanes=d,n;case x:return Ls(a.children,f,d,r);case j:v=8,f|=24;break;case V:return n=vn(12,a,r,f|2),n.elementType=V,n.lanes=d,n;case at:return n=vn(13,a,r,f),n.elementType=at,n.lanes=d,n;case ft:return n=vn(19,a,r,f),n.elementType=ft,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:case Q:v=10;break t;case U:v=9;break t;case J:v=11;break t;case D:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=vn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ls(n,r,a,l){return n=vn(7,n,l,r),n.lanes=a,n}function Lf(n,r,a){return n=vn(6,n,null,r),n.lanes=a,n}function Uf(n,r,a){return r=vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Va=[],Pa=0,ac=null,oc=0,Vn=[],Pn=0,Us=null,Hi=1,qi="";function js(n,r){Va[Pa++]=oc,Va[Pa++]=ac,ac=n,oc=r}function qg(n,r,a){Vn[Pn++]=Hi,Vn[Pn++]=qi,Vn[Pn++]=Us,Us=n;var l=Hi;n=qi;var f=32-Qe(l)-1;l&=~(1<<f),a+=1;var d=32-Qe(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Hi=1<<32-Qe(r)+f|a<<f|l,qi=d+n}else Hi=1<<d|a<<f|l,qi=n}function jf(n){n.return!==null&&(js(n,1),qg(n,1,0))}function zf(n){for(;n===ac;)ac=Va[--Pa],Va[Pa]=null,oc=Va[--Pa],Va[Pa]=null;for(;n===Us;)Us=Vn[--Pn],Vn[Pn]=null,qi=Vn[--Pn],Vn[Pn]=null,Hi=Vn[--Pn],Vn[Pn]=null}var ln=null,he=null,qt=!1,zs=null,hi=!1,Bf=Error(s(519));function Bs(n){var r=Error(s(418,""));throw al(kn(r,n)),Bf}function Fg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ie]=n,r[ve]=l,a){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ot(Nl[a],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),As(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Rs(r,l.value,l.defaultValue,l.children),Ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||ov(r.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||Bs(n)}function Gg(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function rl(n){if(n!==ln)return!1;if(!qt)return Gg(n),qt=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||im(n.type,n.memoizedProps)),a=!a),a&&he&&Bs(n),Gg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){he=$n(n.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}he=null}}else r===27?(r=he,jr(n.type)?(n=om,om=null,he=n):he=r):he=ln?$n(n.stateNode.nextSibling):null;return!0}function sl(){he=ln=null,qt=!1}function Yg(){var n=zs;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),zs=null),n}function al(n){zs===null?zs=[n]:zs.push(n)}var Hf=rt(null),Hs=null,Fi=null;function Sr(n,r,a){st(Hf,r._currentValue),r._currentValue=a}function Gi(n){n._currentValue=Hf.current,ut(Hf)}function qf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Ff(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),qf(d.return,a,n),l||(v=null);break t}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ol(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;_n(f.pendingProps.value,v.value)||(n!==null?n.push(w):n=[w])}}else if(f===Me.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}f=f.return}n!==null&&Ff(r,n,a,l),r.flags|=262144}function lc(n){for(n=n.firstContext;n!==null;){if(!_n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qs(n){Hs=n,Fi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xe(n){return $g(Hs,n)}function uc(n,r){return Hs===null&&qs(n),$g(n,r)}function $g(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(n===null)throw Error(s(308));Fi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Fi=Fi.next=r;return a}var Jb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Zb=i.unstable_scheduleCallback,tw=i.unstable_NormalPriority,Ne={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new Jb,data:new Map,refCount:0}}function ll(n){n.refCount--,n.refCount===0&&Zb(tw,function(){n.controller.abort()})}var ul=null,Yf=0,La=0,Ua=null;function ew(n,r){if(ul===null){var a=ul=[];Yf=0,La=Kd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yf++,r.then(Kg,Kg),r}function Kg(){if(--Yf===0&&ul!==null){Ua!==null&&(Ua.status="fulfilled");var n=ul;ul=null,La=0,Ua=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function nw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Qg=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ew(n,r),Qg!==null&&Qg(n,r)};var Fs=rt(null);function $f(){var n=Fs.current;return n!==null?n:ee.pooledCache}function cc(n,r){r===null?st(Fs,Fs.current):st(Fs,r.pool)}function Xg(){var n=$f();return n===null?null:{parent:Ne._currentValue,pool:n}}var cl=Error(s(460)),Wg=Error(s(474)),hc=Error(s(542)),Kf={then:function(){}};function Jg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fc(){}function Zg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(fc,fc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ey(n),n;default:if(typeof r.status=="string")r.then(fc,fc);else{if(n=ee,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ey(n),n}throw hl=r,cl}}var hl=null;function ty(){if(hl===null)throw Error(s(459));var n=hl;return hl=null,n}function ey(n){if(n===cl||n===hc)throw Error(s(483))}var Ar=!1;function Qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Rr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ir(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=rc(n),Bg(n,null,a),r}return ic(n,l,r,a),rc(n)}function fl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,zo(n,a)}}function Wf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Jf=!1;function dl(){if(Jf){var n=Ua;if(n!==null)throw n}}function ml(n,r,a,l){Jf=!1;var f=n.updateQueue;Ar=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,Y=N.next;N.next=null,v===null?d=Y:v.next=Y,v=N;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==v&&(w===null?Z.firstBaseUpdate=Y:w.next=Y,Z.lastBaseUpdate=N))}if(d!==null){var nt=f.baseState;v=0,Z=Y=N=null,w=d;do{var $=w.lane&-536870913,K=$!==w.lane;if(K?(Ut&$)===$:(l&$)===$){$!==0&&$===La&&(Jf=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=n,_t=w;$=r;var Jt=a;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){nt=bt.call(Jt,nt,$);break t}nt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,$=typeof bt=="function"?bt.call(Jt,nt,$):bt,$==null)break t;nt=E({},nt,$);break t;case 2:Ar=!0}}$=w.callback,$!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[$]:K.push($))}else K={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(Y=Z=K,N=nt):Z=Z.next=K,v|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Z===null&&(N=nt),f.baseState=N,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Vr|=v,n.lanes=v,n.memoizedState=nt}}function ny(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function iy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ny(a[n],r)}var ja=rt(null),dc=rt(0);function ry(n,r){n=Ji,st(dc,n),st(ja,r),Ji=n|r.baseLanes}function Zf(){st(dc,Ji),st(ja,ja.current)}function td(){Ji=dc.current,ut(ja),ut(dc)}var Cr=0,It=null,Xt=null,Te=null,mc=!1,za=!1,Gs=!1,pc=0,pl=0,Ba=null,iw=0;function pe(){throw Error(s(321))}function ed(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!_n(n[a],r[a]))return!1;return!0}function nd(n,r,a,l,f,d){return Cr=d,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?By:Hy,Gs=!1,d=a(l,f),Gs=!1,za&&(d=ay(r,a,l,f)),sy(n),d}function sy(n){W.H=Tc;var r=Xt!==null&&Xt.next!==null;if(Cr=0,Te=Xt=It=null,mc=!1,pl=0,Ba=null,r)throw Error(s(300));n===null||Le||(n=n.dependencies,n!==null&&lc(n)&&(Le=!0))}function ay(n,r,a,l){It=n;var f=0;do{if(za&&(Ba=null),pl=0,za=!1,25<=f)throw Error(s(301));if(f+=1,Te=Xt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=cw,d=r(a,l)}while(za);return d}function rw(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?gl(r):r,n=n.useState()[0],(Xt!==null?Xt.memoizedState:null)!==n&&(It.flags|=1024),r}function id(){var n=pc!==0;return pc=0,n}function rd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function sd(n){if(mc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}mc=!1}Cr=0,Te=Xt=It=null,za=!1,pl=pc=0,Ba=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?It.memoizedState=Te=n:Te=Te.next=n,Te}function be(){if(Xt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var r=Te===null?It.memoizedState:Te.next;if(r!==null)Te=r,Xt=n;else{if(n===null)throw It.alternate===null?Error(s(467)):Error(s(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?It.memoizedState=Te=n:Te=Te.next=n}return Te}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(n){var r=pl;return pl+=1,Ba===null&&(Ba=[]),n=Zg(Ba,n,r),r=It,(Te===null?r.memoizedState:Te.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?By:Hy),n}function gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gl(n);if(n.$$typeof===Q)return Xe(n)}throw Error(s(438,String(n)))}function od(n){var r=null,a=It.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ad(),It.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function Yi(n,r){return typeof r=="function"?r(n):r}function yc(n){var r=be();return ld(r,Xt,n)}function ld(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var w=v=null,N=null,Y=r,Z=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Ut&nt)===nt:(Cr&nt)===nt){var $=Y.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===La&&(Z=!0);else if((Cr&$)===$){Y=Y.next,$===La&&(Z=!0);continue}else nt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(w=N=nt,v=d):N=N.next=nt,It.lanes|=$,Vr|=$;nt=Y.action,Gs&&a(d,nt),d=Y.hasEagerState?Y.eagerState:a(d,nt)}else $={lane:nt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(w=N=$,v=d):N=N.next=$,It.lanes|=nt,Vr|=nt;Y=Y.next}while(Y!==null&&Y!==r);if(N===null?v=d:N.next=w,!_n(d,n.memoizedState)&&(Le=!0,Z&&(a=Ua,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ud(n){var r=be(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);_n(d,r.memoizedState)||(Le=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function oy(n,r,a){var l=It,f=be(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!_n((Xt||f).memoizedState,a);v&&(f.memoizedState=a,Le=!0),f=f.queue;var w=cy.bind(null,l,f,n);if(yl(2048,8,w,[n]),f.getSnapshot!==r||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Ha(9,_c(),uy.bind(null,l,f,a,r),null),ee===null)throw Error(s(349));d||(Cr&124)!==0||ly(l,r,a)}return a}function ly(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=It.updateQueue,r===null?(r=ad(),It.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function uy(n,r,a,l){r.value=a,r.getSnapshot=l,hy(r)&&fy(n)}function cy(n,r,a){return a(function(){hy(r)&&fy(n)})}function hy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!_n(n,a)}catch{return!0}}function fy(n){var r=ka(n,2);r!==null&&Sn(r,n,2)}function cd(n){var r=cn();if(typeof n=="function"){var a=n;if(n=a(),Gs){gn(!0);try{a()}finally{gn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},r}function dy(n,r,a,l){return n.baseState=a,ld(n,Xt,typeof l=="function"?l:Yi)}function sw(n,r,a,l,f){if(Ec(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,my(r,d)):(d.next=a.next,r.pending=a.next=d)}}function my(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var w=a(f,l),N=W.S;N!==null&&N(v,w),py(n,r,w)}catch(Y){hd(n,r,Y)}finally{W.T=d}}else try{d=a(f,l),py(n,r,d)}catch(Y){hd(n,r,Y)}}function py(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(n,r,l)},function(l){return hd(n,r,l)}):gy(n,r,a)}function gy(n,r,a){r.status="fulfilled",r.value=a,yy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,my(n,a)))}function hd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yy(r),r=r.next;while(r!==l)}n.action=null}function yy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function _y(n,r){return r}function vy(n,r){if(qt){var a=ee.formState;if(a!==null){t:{var l=It;if(qt){if(he){e:{for(var f=he,d=hi;f.nodeType!==8;){if(!d){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){he=$n(f.nextSibling),l=f.data==="F!";break t}}Bs(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},a.queue=l,a=Uy.bind(null,It,l),l.dispatch=a,l=cd(!1),d=gd.bind(null,It,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=sw.bind(null,It,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Ey(n){var r=be();return Ty(r,Xt,n)}function Ty(n,r,a){if(r=ld(n,r,_y)[0],n=yc(Yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(v){throw v===cl?hc:v}else l=r;r=be();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(It.flags|=2048,Ha(9,_c(),aw.bind(null,f,a),null)),[l,d,n]}function aw(n,r){n.action=r}function by(n){var r=be(),a=Xt;if(a!==null)return Ty(r,a,n);be(),r=r.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ha(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=ad(),It.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function _c(){return{destroy:void 0,resource:void 0}}function wy(){return be().memoizedState}function vc(n,r,a,l){var f=cn();l=l===void 0?null:l,It.flags|=n,f.memoizedState=Ha(1|r,_c(),a,l)}function yl(n,r,a,l){var f=be();l=l===void 0?null:l;var d=f.memoizedState.inst;Xt!==null&&l!==null&&ed(l,Xt.memoizedState.deps)?f.memoizedState=Ha(r,d,a,l):(It.flags|=n,f.memoizedState=Ha(1|r,d,a,l))}function Sy(n,r){vc(8390656,8,n,r)}function Ay(n,r){yl(2048,8,n,r)}function Ry(n,r){return yl(4,2,n,r)}function Iy(n,r){return yl(4,4,n,r)}function Cy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function xy(n,r,a){a=a!=null?a.concat([n]):null,yl(4,4,Cy.bind(null,r,n),a)}function fd(){}function Ny(n,r){var a=be();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ed(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Dy(n,r){var a=be();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ed(r,l[1]))return l[0];if(l=n(),Gs){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,r],l}function dd(n,r,a){return a===void 0||(Cr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=M_(),It.lanes|=n,Vr|=n,a)}function Oy(n,r,a,l){return _n(a,r)?a:ja.current!==null?(n=dd(n,a,l),_n(n,r)||(Le=!0),n):(Cr&42)===0?(Le=!0,n.memoizedState=a):(n=M_(),It.lanes|=n,Vr|=n,r)}function ky(n,r,a,l,f){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=W.T,w={};W.T=w,gd(n,!1,r,a);try{var N=f(),Y=W.S;if(Y!==null&&Y(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=nw(N,l);_l(n,r,Z,wn(n))}else _l(n,r,l,wn(n))}catch(nt){_l(n,r,{then:function(){},status:"rejected",reason:nt},wn())}finally{lt.p=d,W.T=v}}function ow(){}function md(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=My(n).queue;ky(n,f,r,mt,a===null?ow:function(){return Vy(n),a(l)})}function My(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:mt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Vy(n){var r=My(n).next.queue;_l(n,r,{},wn())}function pd(){return Xe(Pl)}function Py(){return be().memoizedState}function Ly(){return be().memoizedState}function lw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();n=Rr(a);var l=Ir(r,n,a);l!==null&&(Sn(l,r,a),fl(l,r,a)),r={cache:Gf()},n.payload=r;return}r=r.return}}function uw(n,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(n)?jy(r,a):(a=Vf(n,r,a,l),a!==null&&(Sn(a,n,l),zy(a,r,l)))}function Uy(n,r,a){var l=wn();_l(n,r,a,l)}function _l(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(n))jy(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,_n(w,v))return ic(n,r,f,0),ee===null&&nc(),!1}catch{}finally{}if(a=Vf(n,r,f,l),a!==null)return Sn(a,n,l),zy(a,r,l),!0}return!1}function gd(n,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(n)){if(r)throw Error(s(479))}else r=Vf(n,a,l,2),r!==null&&Sn(r,n,2)}function Ec(n){var r=n.alternate;return n===It||r!==null&&r===It}function jy(n,r){za=mc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function zy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,zo(n,a)}}var Tc={readContext:Xe,use:gc,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},By={readContext:Xe,use:gc,useCallback:function(n,r){return cn().memoizedState=[n,r===void 0?null:r],n},useContext:Xe,useEffect:Sy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,vc(4194308,4,Cy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return vc(4194308,4,n,r)},useInsertionEffect:function(n,r){vc(4,2,n,r)},useMemo:function(n,r){var a=cn();r=r===void 0?null:r;var l=n();if(Gs){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=cn();if(a!==void 0){var f=a(r);if(Gs){gn(!0);try{a(r)}finally{gn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=uw.bind(null,It,n),[l.memoizedState,n]},useRef:function(n){var r=cn();return n={current:n},r.memoizedState=n},useState:function(n){n=cd(n);var r=n.queue,a=Uy.bind(null,It,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(n,r){var a=cn();return dd(a,n,r)},useTransition:function(){var n=cd(!1);return n=ky.bind(null,It,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=It,f=cn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(Ut&124)!==0||ly(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Sy(cy.bind(null,l,d,n),[n]),l.flags|=2048,Ha(9,_c(),uy.bind(null,l,d,a,r),null),a},useId:function(){var n=cn(),r=ee.identifierPrefix;if(qt){var a=qi,l=Hi;a=(l&~(1<<32-Qe(l)-1)).toString(32)+a,r=""+r+"R"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=iw++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:pd,useFormState:vy,useActionState:vy,useOptimistic:function(n){var r=cn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=gd.bind(null,It,!0,a),a.dispatch=r,[n,r]},useMemoCache:od,useCacheRefresh:function(){return cn().memoizedState=lw.bind(null,It)}},Hy={readContext:Xe,use:gc,useCallback:Ny,useContext:Xe,useEffect:Ay,useImperativeHandle:xy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Dy,useReducer:yc,useRef:wy,useState:function(){return yc(Yi)},useDebugValue:fd,useDeferredValue:function(n,r){var a=be();return Oy(a,Xt.memoizedState,n,r)},useTransition:function(){var n=yc(Yi)[0],r=be().memoizedState;return[typeof n=="boolean"?n:gl(n),r]},useSyncExternalStore:oy,useId:Py,useHostTransitionStatus:pd,useFormState:Ey,useActionState:Ey,useOptimistic:function(n,r){var a=be();return dy(a,Xt,n,r)},useMemoCache:od,useCacheRefresh:Ly},cw={readContext:Xe,use:gc,useCallback:Ny,useContext:Xe,useEffect:Ay,useImperativeHandle:xy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Dy,useReducer:ud,useRef:wy,useState:function(){return ud(Yi)},useDebugValue:fd,useDeferredValue:function(n,r){var a=be();return Xt===null?dd(a,n,r):Oy(a,Xt.memoizedState,n,r)},useTransition:function(){var n=ud(Yi)[0],r=be().memoizedState;return[typeof n=="boolean"?n:gl(n),r]},useSyncExternalStore:oy,useId:Py,useHostTransitionStatus:pd,useFormState:by,useActionState:by,useOptimistic:function(n,r){var a=be();return Xt!==null?dy(a,Xt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Ly},qa=null,vl=0;function bc(n){var r=vl;return vl+=1,qa===null&&(qa=[]),Zg(qa,n,r)}function El(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function wc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function qy(n){var r=n._init;return r(n._payload)}function Fy(n){function r(B,P){if(n){var F=B.deletions;F===null?(B.deletions=[P],B.flags|=16):F.push(P)}}function a(B,P){if(!n)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=Bi(B,P),B.index=0,B.sibling=null,B}function d(B,P,F){return B.index=F,n?(F=B.alternate,F!==null?(F=F.index,F<P?(B.flags|=67108866,P):F):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function v(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function w(B,P,F,tt){return P===null||P.tag!==6?(P=Lf(F,B.mode,tt),P.return=B,P):(P=f(P,F),P.return=B,P)}function N(B,P,F,tt){var dt=F.type;return dt===x?Z(B,P,F.props.children,tt,F.key):P!==null&&(P.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&qy(dt)===P.type)?(P=f(P,F.props),El(P,F),P.return=B,P):(P=sc(F.type,F.key,F.props,null,B.mode,tt),El(P,F),P.return=B,P)}function Y(B,P,F,tt){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=Uf(F,B.mode,tt),P.return=B,P):(P=f(P,F.children||[]),P.return=B,P)}function Z(B,P,F,tt,dt){return P===null||P.tag!==7?(P=Ls(F,B.mode,tt,dt),P.return=B,P):(P=f(P,F),P.return=B,P)}function nt(B,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Lf(""+P,B.mode,F),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return F=sc(P.type,P.key,P.props,null,B.mode,F),El(F,P),F.return=B,F;case I:return P=Uf(P,B.mode,F),P.return=B,P;case A:var tt=P._init;return P=tt(P._payload),nt(B,P,F)}if(ie(P)||z(P))return P=Ls(P,B.mode,F,null),P.return=B,P;if(typeof P.then=="function")return nt(B,bc(P),F);if(P.$$typeof===Q)return nt(B,uc(B,P),F);wc(B,P)}return null}function $(B,P,F,tt){var dt=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return dt!==null?null:w(B,P,""+F,tt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===dt?N(B,P,F,tt):null;case I:return F.key===dt?Y(B,P,F,tt):null;case A:return dt=F._init,F=dt(F._payload),$(B,P,F,tt)}if(ie(F)||z(F))return dt!==null?null:Z(B,P,F,tt,null);if(typeof F.then=="function")return $(B,P,bc(F),tt);if(F.$$typeof===Q)return $(B,P,uc(B,F),tt);wc(B,F)}return null}function K(B,P,F,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return B=B.get(F)||null,w(P,B,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case T:return B=B.get(tt.key===null?F:tt.key)||null,N(P,B,tt,dt);case I:return B=B.get(tt.key===null?F:tt.key)||null,Y(P,B,tt,dt);case A:var Nt=tt._init;return tt=Nt(tt._payload),K(B,P,F,tt,dt)}if(ie(tt)||z(tt))return B=B.get(F)||null,Z(P,B,tt,dt,null);if(typeof tt.then=="function")return K(B,P,F,bc(tt),dt);if(tt.$$typeof===Q)return K(B,P,F,uc(P,tt),dt);wc(P,tt)}return null}function bt(B,P,F,tt){for(var dt=null,Nt=null,pt=P,vt=P=0,je=null;pt!==null&&vt<F.length;vt++){pt.index>vt?(je=pt,pt=null):je=pt.sibling;var zt=$(B,pt,F[vt],tt);if(zt===null){pt===null&&(pt=je);break}n&&pt&&zt.alternate===null&&r(B,pt),P=d(zt,P,vt),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt,pt=je}if(vt===F.length)return a(B,pt),qt&&js(B,vt),dt;if(pt===null){for(;vt<F.length;vt++)pt=nt(B,F[vt],tt),pt!==null&&(P=d(pt,P,vt),Nt===null?dt=pt:Nt.sibling=pt,Nt=pt);return qt&&js(B,vt),dt}for(pt=l(pt);vt<F.length;vt++)je=K(pt,B,vt,F[vt],tt),je!==null&&(n&&je.alternate!==null&&pt.delete(je.key===null?vt:je.key),P=d(je,P,vt),Nt===null?dt=je:Nt.sibling=je,Nt=je);return n&&pt.forEach(function(Fr){return r(B,Fr)}),qt&&js(B,vt),dt}function _t(B,P,F,tt){if(F==null)throw Error(s(151));for(var dt=null,Nt=null,pt=P,vt=P=0,je=null,zt=F.next();pt!==null&&!zt.done;vt++,zt=F.next()){pt.index>vt?(je=pt,pt=null):je=pt.sibling;var Fr=$(B,pt,zt.value,tt);if(Fr===null){pt===null&&(pt=je);break}n&&pt&&Fr.alternate===null&&r(B,pt),P=d(Fr,P,vt),Nt===null?dt=Fr:Nt.sibling=Fr,Nt=Fr,pt=je}if(zt.done)return a(B,pt),qt&&js(B,vt),dt;if(pt===null){for(;!zt.done;vt++,zt=F.next())zt=nt(B,zt.value,tt),zt!==null&&(P=d(zt,P,vt),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt);return qt&&js(B,vt),dt}for(pt=l(pt);!zt.done;vt++,zt=F.next())zt=K(pt,B,vt,zt.value,tt),zt!==null&&(n&&zt.alternate!==null&&pt.delete(zt.key===null?vt:zt.key),P=d(zt,P,vt),Nt===null?dt=zt:Nt.sibling=zt,Nt=zt);return n&&pt.forEach(function(hS){return r(B,hS)}),qt&&js(B,vt),dt}function Jt(B,P,F,tt){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:t:{for(var dt=F.key;P!==null;){if(P.key===dt){if(dt=F.type,dt===x){if(P.tag===7){a(B,P.sibling),tt=f(P,F.props.children),tt.return=B,B=tt;break t}}else if(P.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&qy(dt)===P.type){a(B,P.sibling),tt=f(P,F.props),El(tt,F),tt.return=B,B=tt;break t}a(B,P);break}else r(B,P);P=P.sibling}F.type===x?(tt=Ls(F.props.children,B.mode,tt,F.key),tt.return=B,B=tt):(tt=sc(F.type,F.key,F.props,null,B.mode,tt),El(tt,F),tt.return=B,B=tt)}return v(B);case I:t:{for(dt=F.key;P!==null;){if(P.key===dt)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){a(B,P.sibling),tt=f(P,F.children||[]),tt.return=B,B=tt;break t}else{a(B,P);break}else r(B,P);P=P.sibling}tt=Uf(F,B.mode,tt),tt.return=B,B=tt}return v(B);case A:return dt=F._init,F=dt(F._payload),Jt(B,P,F,tt)}if(ie(F))return bt(B,P,F,tt);if(z(F)){if(dt=z(F),typeof dt!="function")throw Error(s(150));return F=dt.call(F),_t(B,P,F,tt)}if(typeof F.then=="function")return Jt(B,P,bc(F),tt);if(F.$$typeof===Q)return Jt(B,P,uc(B,F),tt);wc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(a(B,P.sibling),tt=f(P,F),tt.return=B,B=tt):(a(B,P),tt=Lf(F,B.mode,tt),tt.return=B,B=tt),v(B)):a(B,P)}return function(B,P,F,tt){try{vl=0;var dt=Jt(B,P,F,tt);return qa=null,dt}catch(pt){if(pt===cl||pt===hc)throw pt;var Nt=vn(29,pt,null,B.mode);return Nt.lanes=tt,Nt.return=B,Nt}finally{}}}var Fa=Fy(!0),Gy=Fy(!1),Ln=rt(null),fi=null;function xr(n){var r=n.alternate;st(De,De.current&1),st(Ln,n),fi===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(fi=n)}function Yy(n){if(n.tag===22){if(st(De,De.current),st(Ln,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else Nr()}function Nr(){st(De,De.current),st(Ln,Ln.current)}function $i(n){ut(Ln),fi===n&&(fi=null),ut(De)}var De=rt(0);function Sc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||am(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function yd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _d={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=wn(),f=Rr(l);f.payload=r,a!=null&&(f.callback=a),r=Ir(n,f,l),r!==null&&(Sn(r,n,l),fl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=wn(),f=Rr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ir(n,f,l),r!==null&&(Sn(r,n,l),fl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=wn(),l=Rr(a);l.tag=2,r!=null&&(l.callback=r),r=Ir(n,l,a),r!==null&&(Sn(r,n,a),fl(r,n,a))}};function $y(n,r,a,l,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(f,d):!0}function Ky(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&_d.enqueueReplaceState(r,r.state,null)}function Ys(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Ac=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Qy(n){Ac(n)}function Xy(n){console.error(n)}function Wy(n){Ac(n)}function Rc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vd(n,r,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(n,r)},a}function Zy(n){return n=Rr(n),n.tag=3,n}function t_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Jy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Jy(r,a,l),typeof f!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function hw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ol(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fi===null?qd():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Gd(n,l,f)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Gd(n,l,f)),!1}throw Error(s(435,a.tag))}return Gd(n,l,f),qd(),!1}if(qt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Bf&&(n=Error(s(422),{cause:l}),al(kn(n,a)))):(l!==Bf&&(r=Error(s(423),{cause:l}),al(kn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=vd(n.stateNode,l,f),Wf(n,f),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Il===null?Il=[d]:Il.push(d),fe!==4&&(fe=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=vd(a.stateNode,l,n),Wf(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),t_(f,n,a,l),Wf(a,f),!1}a=a.return}while(a!==null);return!1}var e_=Error(s(461)),Le=!1;function qe(n,r,a,l){r.child=n===null?Gy(r,null,a,l):Fa(r,n.child,a,l)}function n_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return qs(r),l=nd(n,r,a,v,d,f),w=id(),n!==null&&!Le?(rd(n,r,f),Ki(n,r,f)):(qt&&w&&jf(r),r.flags|=1,qe(n,r,l,f),r.child)}function i_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,r_(n,r,d,l,f)):(n=sc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Id(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(v,l)&&n.ref===r.ref)return Ki(n,r,f)}return r.flags|=1,n=Bi(d,l),n.ref=r.ref,n.return=r,r.child=n}function r_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(nl(d,l)&&n.ref===r.ref)if(Le=!1,r.pendingProps=l=d,Id(n,f))(n.flags&131072)!==0&&(Le=!0);else return r.lanes=n.lanes,Ki(n,r,f)}return Ed(n,r,a,l,f)}function s_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return a_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&cc(r,d!==null?d.cachePool:null),d!==null?ry(r,d):Zf(),Yy(r);else return r.lanes=r.childLanes=536870912,a_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(cc(r,d.cachePool),ry(r,d),Nr(),r.memoizedState=null):(n!==null&&cc(r,null),Zf(),Nr());return qe(n,r,f,a),r.child}function a_(n,r,a,l){var f=$f();return f=f===null?null:{parent:Ne._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&cc(r,null),Zf(),Yy(r),n!==null&&ol(n,r,l,!0),null}function Ic(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Ed(n,r,a,l,f){return qs(r),a=nd(n,r,a,l,void 0,f),l=id(),n!==null&&!Le?(rd(n,r,f),Ki(n,r,f)):(qt&&l&&jf(r),r.flags|=1,qe(n,r,a,f),r.child)}function o_(n,r,a,l,f,d){return qs(r),r.updateQueue=null,a=ay(r,l,a,f),sy(n),l=id(),n!==null&&!Le?(rd(n,r,d),Ki(n,r,d)):(qt&&l&&jf(r),r.flags|=1,qe(n,r,a,d),r.child)}function l_(n,r,a,l,f){if(qs(r),r.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xe(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Qf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xe(v):Ma,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),ml(r,l,d,f),dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var w=r.memoizedProps,N=Ys(a,w);d.props=N;var Y=d.context,Z=a.contextType;v=Ma,typeof Z=="object"&&Z!==null&&(v=Xe(Z));var nt=a.getDerivedStateFromProps;Z=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Y!==v)&&Ky(r,d,l,v),Ar=!1;var $=r.memoizedState;d.state=$,ml(r,l,d,f),dl(),Y=r.memoizedState,w||$!==Y||Ar?(typeof nt=="function"&&(yd(r,a,nt,l),Y=r.memoizedState),(N=Ar||$y(r,a,N,l,$,Y,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Xf(n,r),v=r.memoizedProps,Z=Ys(a,v),d.props=Z,nt=r.pendingProps,$=d.context,Y=a.contextType,N=Ma,typeof Y=="object"&&Y!==null&&(N=Xe(Y)),w=a.getDerivedStateFromProps,(Y=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==nt||$!==N)&&Ky(r,d,l,N),Ar=!1,$=r.memoizedState,d.state=$,ml(r,l,d,f),dl();var K=r.memoizedState;v!==nt||$!==K||Ar||n!==null&&n.dependencies!==null&&lc(n.dependencies)?(typeof w=="function"&&(yd(r,a,w,l),K=r.memoizedState),(Z=Ar||$y(r,a,Z,l,$,K,N)||n!==null&&n.dependencies!==null&&lc(n.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Fa(r,n.child,null,f),r.child=Fa(r,null,a,f)):qe(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Ki(n,r,f),n}function u_(n,r,a,l){return sl(),r.flags|=256,qe(n,r,a,l),r.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(n){return{baseLanes:n,cachePool:Xg()}}function wd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Un),n}function c_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(De.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(qt){if(f?xr(r):Nr(),qt){var w=he,N;if(N=w){t:{for(N=w,w=hi;N.nodeType!==8;){if(!w){w=null;break t}if(N=$n(N.nextSibling),N===null){w=null;break t}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:Us!==null?{id:Hi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},N=vn(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,ln=r,he=null,N=!0):N=!1}N||Bs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return am(w)?r.lanes=32:r.lanes=536870912,null;$i(r)}return w=l.children,l=l.fallback,f?(Nr(),f=r.mode,w=Cc({mode:"hidden",children:w},f),l=Ls(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,f=r.child,f.memoizedState=bd(a),f.childLanes=wd(n,v,a),r.memoizedState=Td,l):(xr(r),Sd(r,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(d)r.flags&256?(xr(r),r.flags&=-257,r=Ad(n,r,a)):r.memoizedState!==null?(Nr(),r.child=n.child,r.flags|=128,r=null):(Nr(),f=l.fallback,w=r.mode,l=Cc({mode:"visible",children:l.children},w),f=Ls(f,w,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Fa(r,n.child,null,a),l=r.child,l.memoizedState=bd(a),l.childLanes=wd(n,v,a),r.memoizedState=Td,r=f);else if(xr(r),am(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),r=Ad(n,r,a)}else if(Le||ol(n,r,a,!1),v=(a&n.childLanes)!==0,Le||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:yr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,ka(n,l),Sn(v,n,l),e_;w.data==="$?"||qd(),r=Ad(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,he=$n(w.nextSibling),ln=r,qt=!0,zs=null,hi=!1,n!==null&&(Vn[Pn++]=Hi,Vn[Pn++]=qi,Vn[Pn++]=Us,Hi=n.id,qi=n.overflow,Us=r),r=Sd(r,l.children),r.flags|=4096);return r}return f?(Nr(),f=l.fallback,w=r.mode,N=n.child,Y=N.sibling,l=Bi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Y!==null?f=Bi(Y,f):(f=Ls(f,w,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,w=n.child.memoizedState,w===null?w=bd(a):(N=w.cachePool,N!==null?(Y=Ne._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=Xg(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=wd(n,v,a),r.memoizedState=Td,l):(xr(r),a=n.child,n=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Sd(n,r){return r=Cc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Cc(n,r){return n=vn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ad(n,r,a){return Fa(r,n.child,null,a),n=Sd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function h_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),qf(n.return,r,a)}function Rd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function f_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(qe(n,r,l.children,a),l=De.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&h_(n,a,r);else if(n.tag===19)h_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(st(De,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Sc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Rd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Rd(r,!0,a,null,d);break;case"together":Rd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ki(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Vr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(ol(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Bi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Bi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Id(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&lc(n)))}function fw(n,r,a){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),Sr(r,Ne,n.memoizedState.cache),sl();break;case 27:case 5:gr(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:Sr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?c_(n,r,a):(xr(r),n=Ki(n,r,a),n!==null?n.sibling:null);xr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ol(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return f_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(De,De.current),l)break;return null;case 22:case 23:return r.lanes=0,s_(n,r,a);case 24:Sr(r,Ne,n.memoizedState.cache)}return Ki(n,r,a)}function d_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Le=!0;else{if(!Id(n,a)&&(r.flags&128)===0)return Le=!1,fw(n,r,a);Le=(n.flags&131072)!==0}else Le=!1,qt&&(r.flags&1048576)!==0&&qg(r,oc,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Pf(l)?(n=Ys(l,n),r.tag=1,r=l_(null,r,l,n,a)):(r.tag=0,r=Ed(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===J){r.tag=11,r=n_(null,r,l,n,a);break t}else if(f===D){r.tag=14,r=i_(null,r,l,n,a);break t}}throw r=Re(l)||l,Error(s(306,r,""))}}return r;case 0:return Ed(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ys(l,r.pendingProps),l_(n,r,l,f,a);case 3:t:{if(te(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Xf(n,r),ml(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Sr(r,Ne,l),l!==d.cache&&Ff(r,[Ne],a,!0),dl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=u_(n,r,l,a);break t}else if(l!==f){f=kn(Error(s(424)),r),al(f),r=u_(n,r,l,a);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(he=$n(n.firstChild),ln=r,qt=!0,zs=null,hi=!0,a=Gy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===f){r=Ki(n,r,a);break t}qe(n,r,l,a)}r=r.child}return r;case 26:return Ic(n,r),n===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,n=r.pendingProps,l=Hc(wt.current).createElement(a),l[Ie]=r,l[ve]=n,Ge(l,a,n),me(l),r.stateNode=l):r.memoizedState=yv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return gr(r),n===null&&qt&&(l=r.stateNode=mv(r.type,r.pendingProps,wt.current),ln=r,hi=!0,f=he,jr(r.type)?(om=f,he=$n(l.firstChild)):he=f),qe(n,r,r.pendingProps.children,a),Ic(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&qt&&((f=l=he)&&(l=zw(l,r.type,r.pendingProps,hi),l!==null?(r.stateNode=l,ln=r,he=$n(l.firstChild),hi=!1,f=!0):f=!1),f||Bs(r)),gr(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,im(f,d)?l=null:v!==null&&im(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=nd(n,r,rw,null,null,a),Pl._currentValue=f),Ic(n,r),qe(n,r,l,a),r.child;case 6:return n===null&&qt&&((n=a=he)&&(a=Bw(a,r.pendingProps,hi),a!==null?(r.stateNode=a,ln=r,he=null,n=!0):n=!1),n||Bs(r)),null;case 13:return c_(n,r,a);case 4:return te(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Fa(r,null,l,a):qe(n,r,l,a),r.child;case 11:return n_(n,r,r.type,r.pendingProps,a);case 7:return qe(n,r,r.pendingProps,a),r.child;case 8:return qe(n,r,r.pendingProps.children,a),r.child;case 12:return qe(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Sr(r,r.type,l.value),qe(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,qs(r),f=Xe(f),l=l(f),r.flags|=1,qe(n,r,l,a),r.child;case 14:return i_(n,r,r.type,r.pendingProps,a);case 15:return r_(n,r,r.type,r.pendingProps,a);case 19:return f_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Bi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return s_(n,r,a);case 24:return qs(r),l=Xe(Ne),n===null?(f=$f(),f===null&&(f=ee,d=Gf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Qf(r),Sr(r,Ne,f)):((n.lanes&a)!==0&&(Xf(n,r),ml(r,null,null,a),dl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Sr(r,Ne,l)):(l=d.cache,Sr(r,Ne,l),l!==f.cache&&Ff(r,[Ne],a,!0))),qe(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qi(n){n.flags|=4}function m_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!bv(r)){if(r=Ln.current,r!==null&&((Ut&4194048)===Ut?fi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==fi))throw hl=Kf,Wg;n.flags|=8192}}function xc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Uo():536870912,n.lanes|=r,Ka|=r)}function Tl(n,r){if(!qt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function le(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function dw(n,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(r),null;case 1:return le(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gi(Ne),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(rl(r)?Qi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yg())),le(r),null;case 26:return a=r.memoizedState,n===null?(Qi(r),a!==null?(le(r),m_(r,a)):(le(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Qi(r),le(r),m_(r,a)):(le(r),r.flags&=-16777217):(n.memoizedProps!==l&&Qi(r),le(r),r.flags&=-16777217),null;case 27:Ci(r),a=wt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return le(r),null}n=yt.current,rl(r)?Fg(r):(n=mv(f,l,a),r.stateNode=n,Qi(r))}return le(r),null;case 5:if(Ci(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return le(r),null}if(n=yt.current,rl(r))Fg(r);else{switch(f=Hc(wt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ie]=r,n[ve]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;t:switch(Ge(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Qi(r)}}return le(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=wt.current,rl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ie]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ov(n.nodeValue,a)),n||Bs(r)}else n=Hc(n).createTextNode(l),n[Ie]=r,r.stateNode=n}return le(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=rl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ie]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;le(r),f=!1}else f=Yg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),le(r),null;case 4:return Zn(),n===null&&Jd(r.stateNode.containerInfo),le(r),null;case 10:return Gi(r.type),le(r),null;case 19:if(ut(De),f=r.memoizedState,f===null)return le(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Tl(f,!1);else{if(fe!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Sc(n),d!==null){for(r.flags|=128,Tl(f,!1),n=d.updateQueue,r.updateQueue=n,xc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Hg(a,n),a=a.sibling;return st(De,De.current&1|2),r.child}n=n.sibling}f.tail!==null&&In()>Oc&&(r.flags|=128,l=!0,Tl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Sc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,xc(r,n),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qt)return le(r),null}else 2*In()-f.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,l=!0,Tl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,n=De.current,st(De,l?n&1|2:n&1),r):(le(r),null);case 22:case 23:return $i(r),td(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(le(r),r.subtreeFlags&6&&(r.flags|=8192)):le(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ut(Fs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gi(Ne),le(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function mw(n,r){switch(zf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Gi(Ne),Zn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ut(De),null;case 4:return Zn(),null;case 10:return Gi(r.type),null;case 22:case 23:return $i(r),td(),n!==null&&ut(Fs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Gi(Ne),null;case 25:return null;default:return null}}function p_(n,r){switch(zf(r),r.tag){case 3:Gi(Ne),Zn();break;case 26:case 27:case 5:Ci(r);break;case 4:Zn();break;case 13:$i(r);break;case 19:ut(De);break;case 10:Gi(r.type);break;case 22:case 23:$i(r),td(),n!==null&&ut(Fs);break;case 24:Gi(Ne)}}function bl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){Zt(r,r.return,w)}}function Dr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=r;var N=a,Y=w;try{Y()}catch(Z){Zt(f,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){Zt(r,r.return,Z)}}function g_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{iy(r,a)}catch(l){Zt(n,n.return,l)}}}function y_(n,r,a){a.props=Ys(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(n,r,l)}}function wl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Zt(n,r,f)}}function di(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Zt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(n,r,f)}else a.current=null}function __(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Zt(n,n.return,f)}}function Cd(n,r,a){try{var l=n.stateNode;Vw(l,n.type,a,r),l[ve]=r}catch(f){Zt(n,n.return,f)}}function v_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jr(n.type)||n.tag===4}function xd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||v_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&(l===27&&jr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Nd(n,r,a),n=n.sibling;n!==null;)Nd(n,r,a),n=n.sibling}function Nc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&jr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Nc(n,r,a),n=n.sibling;n!==null;)Nc(n,r,a),n=n.sibling}function E_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ge(r,l,a),r[Ie]=n,r[ve]=a}catch(d){Zt(n,n.return,d)}}var Xi=!1,ge=!1,Dd=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function pw(n,r){if(n=n.containerInfo,em=Kc,n=Og(n),xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,w=-1,N=-1,Y=0,Z=0,nt=n,$=null;e:for(;;){for(var K;nt!==a||f!==0&&nt.nodeType!==3||(w=v+f),nt!==d||l!==0&&nt.nodeType!==3||(N=v+l),nt.nodeType===3&&(v+=nt.nodeValue.length),(K=nt.firstChild)!==null;)$=nt,nt=K;for(;;){if(nt===n)break e;if($===a&&++Y===f&&(w=v),$===d&&++Z===l&&(N=v),(K=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=K}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:n,selectionRange:a},Kc=!1,Ue=r;Ue!==null;)if(r=Ue,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ue=n;else for(;Ue!==null;){switch(r=Ue,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var bt=Ys(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(bt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_t){Zt(a,a.return,_t)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)sm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ue=n;break}Ue=r.return}}function b_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Or(n,a),l&4&&bl(5,a);break;case 1:if(Or(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var f=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&g_(a),l&512&&wl(a,a.return);break;case 3:if(Or(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{iy(n,r)}catch(v){Zt(a,a.return,v)}}break;case 27:r===null&&l&4&&E_(a);case 26:case 5:Or(n,a),r===null&&l&4&&__(a),l&512&&wl(a,a.return);break;case 12:Or(n,a);break;case 13:Or(n,a),l&4&&A_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Sw.bind(null,a),Hw(n,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){r=r!==null&&r.memoizedState!==null||ge,f=Xi;var d=ge;Xi=l,(ge=r)&&!d?kr(n,a,(a.subtreeFlags&8772)!==0):Or(n,a),Xi=f,ge=d}break;case 30:break;default:Or(n,a)}}function w_(n){var r=n.alternate;r!==null&&(n.alternate=null,w_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Er(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ae=null,hn=!1;function Wi(n,r,a){for(a=a.child;a!==null;)S_(n,r,a),a=a.sibling}function S_(n,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:ge||di(a,r),Wi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||di(a,r);var l=ae,f=hn;jr(a.type)&&(ae=a.stateNode,hn=!1),Wi(n,r,a),Ol(a.stateNode),ae=l,hn=f;break;case 5:ge||di(a,r);case 6:if(l=ae,f=hn,ae=null,Wi(n,r,a),ae=l,hn=f,ae!==null)if(hn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Zt(a,r,d)}else try{ae.removeChild(a.stateNode)}catch(d){Zt(a,r,d)}break;case 18:ae!==null&&(hn?(n=ae,fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),zl(n)):fv(ae,a.stateNode));break;case 4:l=ae,f=hn,ae=a.stateNode.containerInfo,hn=!0,Wi(n,r,a),ae=l,hn=f;break;case 0:case 11:case 14:case 15:ge||Dr(2,a,r),ge||Dr(4,a,r),Wi(n,r,a);break;case 1:ge||(di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y_(a,r,l)),Wi(n,r,a);break;case 21:Wi(n,r,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,Wi(n,r,a),ge=l;break;default:Wi(n,r,a)}}function A_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zl(n)}catch(a){Zt(r,r.return,a)}}function gw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new T_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new T_),r;default:throw Error(s(435,n.tag))}}function Od(n,r){var a=gw(n);r.forEach(function(l){var f=Aw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function En(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,v=r,w=v;t:for(;w!==null;){switch(w.tag){case 27:if(jr(w.type)){ae=w.stateNode,hn=!1;break t}break;case 5:ae=w.stateNode,hn=!1;break t;case 3:case 4:ae=w.stateNode.containerInfo,hn=!0;break t}w=w.return}if(ae===null)throw Error(s(160));S_(d,v,f),ae=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,n),r=r.sibling}var Yn=null;function R_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(r,n),Tn(n),l&4&&(Dr(3,n,n.return),bl(3,n),Dr(5,n,n.return));break;case 1:En(r,n),Tn(n),l&512&&(ge||a===null||di(a,a.return)),l&64&&Xi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(En(r,n),Tn(n),l&512&&(ge||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ts]||d[Ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ge(d,l,a),d[Ie]=n,me(d),l=d;break t;case"link":var v=Ev("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Ev("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ie]=n,me(d),l=d}n.stateNode=l}else Tv(f,n.type,n.stateNode);else n.stateNode=vv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Tv(f,n.type,n.stateNode):vv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Cd(n,n.memoizedProps,a.memoizedProps)}break;case 27:En(r,n),Tn(n),l&512&&(ge||a===null||di(a,a.return)),a!==null&&l&4&&Cd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(En(r,n),Tn(n),l&512&&(ge||a===null||di(a,a.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch(K){Zt(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Cd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(En(r,n),Tn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){Zt(n,n.return,K)}}break;case 3:if(Gc=null,f=Yn,Yn=qc(r.containerInfo),En(r,n),Yn=f,Tn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(r.containerInfo)}catch(K){Zt(n,n.return,K)}Dd&&(Dd=!1,I_(n));break;case 4:l=Yn,Yn=qc(n.stateNode.containerInfo),En(r,n),Tn(n),Yn=l;break;case 12:En(r,n),Tn(n);break;case 13:En(r,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ud=In()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Od(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,Y=Xi,Z=ge;if(Xi=Y||f,ge=Z||N,En(r,n),ge=Z,Xi=Y,Tn(n),l&8192)t:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Xi||ge||$s(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=N.stateNode;var nt=N.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){Zt(N,N.return,K)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(K){Zt(N,N.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(n,a))));break;case 19:En(r,n),Tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Od(n,l)));break;case 30:break;case 21:break;default:En(r,n),Tn(n)}}function Tn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=xd(n);Nc(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var w=xd(n);Nc(n,w,v);break;case 3:case 4:var N=a.stateNode.containerInfo,Y=xd(n);Nd(n,Y,N);break;default:throw Error(s(161))}}catch(Z){Zt(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function I_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;I_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Or(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b_(n,r.alternate,r),r=r.sibling}function $s(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Dr(4,r,r.return),$s(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y_(r,r.return,a),$s(r);break;case 27:Ol(r.stateNode);case 26:case 5:di(r,r.return),$s(r);break;case 22:r.memoizedState===null&&$s(r);break;case 30:$s(r);break;default:$s(r)}n=n.sibling}}function kr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:kr(f,d,a),bl(4,d);break;case 1:if(kr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Zt(l,l.return,Y)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ny(N[f],w)}catch(Y){Zt(l,l.return,Y)}}a&&v&64&&g_(d),wl(d,d.return);break;case 27:E_(d);case 26:case 5:kr(f,d,a),a&&l===null&&v&4&&__(d),wl(d,d.return);break;case 12:kr(f,d,a);break;case 13:kr(f,d,a),a&&v&4&&A_(f,d);break;case 22:d.memoizedState===null&&kr(f,d,a),wl(d,d.return);break;case 30:break;default:kr(f,d,a)}r=r.sibling}}function kd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ll(a))}function Md(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ll(n))}function mi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(n,r,a,l),r=r.sibling}function C_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(n,r,a,l),f&2048&&bl(9,r);break;case 1:mi(n,r,a,l);break;case 3:mi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ll(n)));break;case 12:if(f&2048){mi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Zt(r,r.return,N)}}else mi(n,r,a,l);break;case 13:mi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?mi(n,r,a,l):Sl(n,r):d._visibility&2?mi(n,r,a,l):(d._visibility|=2,Ga(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&kd(v,r);break;case 24:mi(n,r,a,l),f&2048&&Md(r.alternate,r);break;default:mi(n,r,a,l)}}function Ga(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,w=a,N=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:Ga(d,v,w,N,f),bl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Ga(d,v,w,N,f):Sl(d,v):(Z._visibility|=2,Ga(d,v,w,N,f)),f&&Y&2048&&kd(v.alternate,v);break;case 24:Ga(d,v,w,N,f),f&&Y&2048&&Md(v.alternate,v);break;default:Ga(d,v,w,N,f)}r=r.sibling}}function Sl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&kd(l.alternate,l);break;case 24:Sl(a,l),f&2048&&Md(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var Al=8192;function Ya(n){if(n.subtreeFlags&Al)for(n=n.child;n!==null;)x_(n),n=n.sibling}function x_(n){switch(n.tag){case 26:Ya(n),n.flags&Al&&n.memoizedState!==null&&eS(Yn,n.memoizedState,n.memoizedProps);break;case 5:Ya(n);break;case 3:case 4:var r=Yn;Yn=qc(n.stateNode.containerInfo),Ya(n),Yn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,Ya(n),Al=r):Ya(n));break;default:Ya(n)}}function N_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Rl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ue=l,O_(l,n)}N_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)D_(n),n=n.sibling}function D_(n){switch(n.tag){case 0:case 11:case 15:Rl(n),n.flags&2048&&Dr(9,n,n.return);break;case 3:Rl(n);break;case 12:Rl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Dc(n)):Rl(n);break;default:Rl(n)}}function Dc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ue=l,O_(l,n)}N_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Dr(8,r,r.return),Dc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(r));break;default:Dc(r)}n=n.sibling}}function O_(n,r){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Dr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=n;Ue!==null;){l=Ue;var f=l.sibling,d=l.return;if(w_(l),l===a){Ue=null;break t}if(f!==null){f.return=d,Ue=f;break t}Ue=d}}}var yw={getCacheForType:function(n){var r=Xe(Ne),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},_w=typeof WeakMap=="function"?WeakMap:Map,$t=0,ee=null,Dt=null,Ut=0,Kt=0,bn=null,Mr=!1,$a=!1,Vd=!1,Ji=0,fe=0,Vr=0,Ks=0,Pd=0,Un=0,Ka=0,Il=null,fn=null,Ld=!1,Ud=0,Oc=1/0,kc=null,Pr=null,Fe=0,Lr=null,Qa=null,Xa=0,jd=0,zd=null,k_=null,Cl=0,Bd=null;function wn(){if(($t&2)!==0&&Ut!==0)return Ut&-Ut;if(W.T!==null){var n=La;return n!==0?n:Kd()}return _r()}function M_(){Un===0&&(Un=(Ut&536870912)===0||qt?Lo():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function Sn(n,r,a){(n===ee&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),Ur(n,Ut,Un,!1)),Ni(n,a),(($t&2)===0||n!==ee)&&(n===ee&&(($t&2)===0&&(Ks|=a),fe===4&&Ur(n,Ut,Un,!1)),pi(n))}function V_(n,r,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Es(n,r),f=l?Tw(n,r):Fd(n,r,!0),d=l;do{if(f===0){$a&&!l&&Ur(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!vw(a)){f=Fd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var w=n;f=Il;var N=w.current.memoizedState.isDehydrated;if(N&&(Wa(w,v).flags|=256),v=Fd(w,v,!1),v!==2){if(Vd&&!N){w.errorRecoveryDisabledLanes|=d,Ks|=d,f=4;break t}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Wa(n,0),Ur(n,r,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ur(l,r,Un,!Mr);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ud+300-In(),10<f)){if(Ur(l,r,Un,!Mr),ma(l,0,!0)!==0)break t;l.timeoutHandle=cv(P_.bind(null,l,a,fn,kc,Ld,r,Un,Ks,Ka,Mr,d,2,-0,0),f);break t}P_(l,a,fn,kc,Ld,r,Un,Ks,Ka,Mr,d,0,-0,0)}}break}while(!0);pi(n)}function P_(n,r,a,l,f,d,v,w,N,Y,Z,nt,$,K){if(n.timeoutHandle=-1,nt=r.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:tS},x_(r),nt=nS(),nt!==null)){n.cancelPendingCommit=nt(q_.bind(null,n,r,d,a,l,f,v,w,N,Z,1,$,K)),Ur(n,d,v,!Y);return}q_(n,r,d,a,l,f,v,w,N)}function vw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(n,r,a,l){r&=~Pd,r&=~Ks,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Qe(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ti(n,a,r)}function Mc(){return($t&6)===0?(xl(0),!1):!0}function Hd(){if(Dt!==null){if(Kt===0)var n=Dt.return;else n=Dt,Fi=Hs=null,sd(n),qa=null,vl=0,n=Dt;for(;n!==null;)p_(n.alternate,n),n=n.return;Dt=null}}function Wa(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Lw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Hd(),ee=n,Dt=a=Bi(n.current,null),Ut=r,Kt=0,bn=null,Mr=!1,$a=Es(n,r),Vd=!1,Ka=Un=Pd=Ks=Vr=fe=0,fn=Il=null,Ld=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Qe(l),d=1<<f;r|=n[f],l&=~d}return Ji=r,nc(),a}function L_(n,r){It=null,W.H=Tc,r===cl||r===hc?(r=ty(),Kt=3):r===Wg?(r=ty(),Kt=4):Kt=r===e_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Dt===null&&(fe=1,Rc(n,kn(r,n.current)))}function U_(){var n=W.H;return W.H=Tc,n===null?Tc:n}function j_(){var n=W.A;return W.A=yw,n}function qd(){fe=4,Mr||(Ut&4194048)!==Ut&&Ln.current!==null||($a=!0),(Vr&134217727)===0&&(Ks&134217727)===0||ee===null||Ur(ee,Ut,Un,!1)}function Fd(n,r,a){var l=$t;$t|=2;var f=U_(),d=j_();(ee!==n||Ut!==r)&&(kc=null,Wa(n,r)),r=!1;var v=fe;t:do try{if(Kt!==0&&Dt!==null){var w=Dt,N=bn;switch(Kt){case 8:Hd(),v=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var Y=Kt;if(Kt=0,bn=null,Ja(n,w,N,Y),a&&$a){v=0;break t}break;default:Y=Kt,Kt=0,bn=null,Ja(n,w,N,Y)}}Ew(),v=fe;break}catch(Z){L_(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Fi=Hs=null,$t=l,W.H=f,W.A=d,Dt===null&&(ee=null,Ut=0,nc()),v}function Ew(){for(;Dt!==null;)z_(Dt)}function Tw(n,r){var a=$t;$t|=2;var l=U_(),f=j_();ee!==n||Ut!==r?(kc=null,Oc=In()+500,Wa(n,r)):$a=Es(n,r);t:do try{if(Kt!==0&&Dt!==null){r=Dt;var d=bn;e:switch(Kt){case 1:Kt=0,bn=null,Ja(n,r,d,1);break;case 2:case 9:if(Jg(d)){Kt=0,bn=null,B_(r);break}r=function(){Kt!==2&&Kt!==9||ee!==n||(Kt=7),pi(n)},d.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Jg(d)?(Kt=0,bn=null,B_(r)):(Kt=0,bn=null,Ja(n,r,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var w=Dt;if(!v||bv(v)){Kt=0,bn=null;var N=w.sibling;if(N!==null)Dt=N;else{var Y=w.return;Y!==null?(Dt=Y,Vc(Y)):Dt=null}break e}}Kt=0,bn=null,Ja(n,r,d,5);break;case 6:Kt=0,bn=null,Ja(n,r,d,6);break;case 8:Hd(),fe=6;break t;default:throw Error(s(462))}}bw();break}catch(Z){L_(n,Z)}while(!0);return Fi=Hs=null,W.H=l,W.A=f,$t=a,Dt!==null?0:(ee=null,Ut=0,nc(),fe)}function bw(){for(;Dt!==null&&!ko();)z_(Dt)}function z_(n){var r=d_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Vc(n):Dt=r}function B_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=o_(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=o_(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:sd(r);default:p_(a,r),r=Dt=Hg(r,Ji),r=d_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Vc(n):Dt=r}function Ja(n,r,a,l){Fi=Hs=null,sd(r),qa=null,vl=0;var f=r.return;try{if(hw(n,f,r,a,Ut)){fe=1,Rc(n,kn(a,n.current)),Dt=null;return}}catch(d){if(f!==null)throw Dt=f,d;fe=1,Rc(n,kn(a,n.current)),Dt=null;return}r.flags&32768?(qt||l===1?n=!0:$a||(Ut&536870912)!==0?n=!1:(Mr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(r,n)):Vc(r)}function Vc(n){var r=n;do{if((r.flags&32768)!==0){H_(r,Mr);return}n=r.return;var a=dw(r.alternate,r,Ji);if(a!==null){Dt=a;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=n}while(r!==null);fe===0&&(fe=5)}function H_(n,r){do{var a=mw(n.alternate,n);if(a!==null){a.flags&=32767,Dt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Dt=n;return}Dt=n=a}while(n!==null);fe=6,Dt=null}function q_(n,r,a,l,f,d,v,w,N){n.cancelPendingCommit=null;do Pc();while(Fe!==0);if(($t&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Mf,jo(n,a,d,v,w,N),n===ee&&(Dt=ee=null,Ut=0),Qa=r,Lr=n,Xa=a,jd=d,zd=f,k_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Rw(gs,function(){return K_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=lt.p,lt.p=2,v=$t,$t|=4;try{pw(n,r,a)}finally{$t=v,lt.p=f,W.T=l}}Fe=1,F_(),G_(),Y_()}}function F_(){if(Fe===1){Fe=0;var n=Lr,r=Qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=lt.p;lt.p=2;var f=$t;$t|=4;try{R_(r,n);var d=nm,v=Og(n.containerInfo),w=d.focusedElem,N=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Dg(w.ownerDocument.documentElement,w)){if(N!==null&&xf(w)){var Y=N.start,Z=N.end;if(Z===void 0&&(Z=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(Z,w.value.length);else{var nt=w.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var K=$.getSelection(),bt=w.textContent.length,_t=Math.min(N.start,bt),Jt=N.end===void 0?_t:Math.min(N.end,bt);!K.extend&&_t>Jt&&(v=Jt,Jt=_t,_t=v);var B=Ng(w,_t),P=Ng(w,Jt);if(B&&P&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var F=nt.createRange();F.setStart(B.node,B.offset),K.removeAllRanges(),_t>Jt?(K.addRange(F),K.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),K.addRange(F))}}}}for(nt=[],K=w;K=K.parentNode;)K.nodeType===1&&nt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var tt=nt[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Kc=!!em,nm=em=null}finally{$t=f,lt.p=l,W.T=a}}n.current=r,Fe=2}}function G_(){if(Fe===2){Fe=0;var n=Lr,r=Qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=lt.p;lt.p=2;var f=$t;$t|=4;try{b_(n,r.alternate,r)}finally{$t=f,lt.p=l,W.T=a}}Fe=3}}function Y_(){if(Fe===4||Fe===3){Fe=0,Du();var n=Lr,r=Qa,a=Xa,l=k_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,Qa=Lr=null,$_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Pr=null),pa(a),r=r.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ce,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=lt.p,lt.p=2,W.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{W.T=r,lt.p=f}}(Xa&3)!==0&&Pc(),pi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Bd?Cl++:(Cl=0,Bd=n):Cl=0,xl(0)}}function $_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ll(r)))}function Pc(n){return F_(),G_(),Y_(),K_()}function K_(){if(Fe!==5)return!1;var n=Lr,r=jd;jd=0;var a=pa(Xa),l=W.T,f=lt.p;try{lt.p=32>a?32:a,W.T=null,a=zd,zd=null;var d=Lr,v=Xa;if(Fe=0,Qa=Lr=null,Xa=0,($t&6)!==0)throw Error(s(331));var w=$t;if($t|=4,D_(d.current),C_(d,d.current,v,a),$t=w,xl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ce,d)}catch{}return!0}finally{lt.p=f,W.T=l,$_(n,r)}}function Q_(n,r,a){r=kn(a,r),r=vd(n.stateNode,r,2),n=Ir(n,r,2),n!==null&&(Ni(n,2),pi(n))}function Zt(n,r,a){if(n.tag===3)Q_(n,n,a);else for(;r!==null;){if(r.tag===3){Q_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){n=kn(a,n),a=Zy(2),l=Ir(r,a,2),l!==null&&(t_(a,l,r,n),Ni(l,2),pi(l));break}}r=r.return}}function Gd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new _w;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Vd=!0,f.add(a),n=ww.bind(null,n,r,a),r.then(n,n))}function ww(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ee===n&&(Ut&a)===a&&(fe===4||fe===3&&(Ut&62914560)===Ut&&300>In()-Ud?($t&2)===0&&Wa(n,0):Pd|=a,Ka===Ut&&(Ka=0)),pi(n)}function X_(n,r){r===0&&(r=Uo()),n=ka(n,r),n!==null&&(Ni(n,r),pi(n))}function Sw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),X_(n,a)}function Aw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),X_(n,a)}function Rw(n,r){return ms(n,r)}var Lc=null,Za=null,Yd=!1,Uc=!1,$d=!1,Qs=0;function pi(n){n!==Za&&n.next===null&&(Za===null?Lc=Za=n:Za=Za.next=n),Uc=!0,Yd||(Yd=!0,Cw())}function xl(n,r){if(!$d&&Uc){$d=!0;do for(var a=!1,l=Lc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Qe(42|n)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,tv(l,d))}else d=Ut,d=ma(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Es(l,d)||(a=!0,tv(l,d));l=l.next}while(a);$d=!1}}function Iw(){W_()}function W_(){Uc=Yd=!1;var n=0;Qs!==0&&(Pw()&&(n=Qs),Qs=0);for(var r=In(),a=null,l=Lc;l!==null;){var f=l.next,d=J_(l,r);d===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(Za=a)):(a=l,(n!==0||(d&3)!==0)&&(Uc=!0)),l=f}xl(n)}function J_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Qe(d),w=1<<v,N=f[v];N===-1?((w&a)===0||(w&l)!==0)&&(f[v]=Po(w,r)):N<=r&&(n.expiredLanes|=w),d&=~w}if(r=ee,a=Ut,a=ma(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Es(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ps(l),pa(a)){case 2:case 8:a=fa;break;case 32:a=gs;break;case 268435456:a=da;break;default:a=gs}return l=Z_.bind(null,n),a=ms(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ps(l),n.callbackPriority=2,n.callbackNode=null,2}function Z_(n,r){if(Fe!==0&&Fe!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Pc()&&n.callbackNode!==a)return null;var l=Ut;return l=ma(n,n===ee?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(V_(n,l,r),J_(n,In()),n.callbackNode!=null&&n.callbackNode===a?Z_.bind(null,n):null)}function tv(n,r){if(Pc())return null;V_(n,r,!0)}function Cw(){Uw(function(){($t&6)!==0?ms(Mo,Iw):W_()})}function Kd(){return Qs===0&&(Qs=Lo()),Qs}function ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function nv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function xw(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=ev((f[ve]||null).action),v=l.submitter;v&&(r=(r=v[ve]||null)?ev(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new ba("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var N=v?nv(f,v):new FormData(f);md(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=v?nv(f,v):new FormData(f),md(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Qd=0;Qd<kf.length;Qd++){var Xd=kf[Qd],Nw=Xd.toLowerCase(),Dw=Xd[0].toUpperCase()+Xd.slice(1);Gn(Nw,"on"+Dw)}Gn(Vg,"onAnimationEnd"),Gn(Pg,"onAnimationIteration"),Gn(Lg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Kb,"onTransitionRun"),Gn(Qb,"onTransitionStart"),Gn(Xb,"onTransitionCancel"),Gn(Ug,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function iv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],N=w.instance,Y=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=Y;try{d(f)}catch(Z){Ac(Z)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(w=l[v],N=w.instance,Y=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=Y;try{d(f)}catch(Z){Ac(Z)}f.currentTarget=null,d=N}}}}function Ot(n,r){var a=r[Bo];a===void 0&&(a=r[Bo]=new Set);var l=n+"__bubble";a.has(l)||(rv(r,n,2,!1),a.add(l))}function Wd(n,r,a){var l=0;r&&(l|=4),rv(a,n,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Jd(n){if(!n[jc]){n[jc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Ow.has(a)||Wd(a,!1,n),Wd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[jc]||(r[jc]=!0,Wd("selectionchange",!1,r))}}function rv(n,r,a,l){switch(Cv(r)){case 2:var f=sS;break;case 8:f=aS;break;default:f=fm}a=f.bind(null,r,a,n),f=void 0,!Dn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Zd(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=Di(w),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue t}w=w.parentNode}}l=l.return}Bu(function(){var Y=d,Z=Nn(a),nt=[];t:{var $=jg.get(n);if($!==void 0){var K=ba,bt=n;switch(n){case"keypress":if(ai(a)===0)break t;case"keydown":case"keyup":K=Ca;break;case"focusin":bt="focus",K=Aa;break;case"focusout":bt="blur",K=Aa;break;case"beforeblur":case"afterblur":K=Aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Qu;break;case Vg:case Pg:case Lg:K=Ra;break;case Ug:K=Wu;break;case"scroll":case"scrollend":K=Hu;break;case"wheel":K=xa;break;case"copy":case"cut":case"paste":K=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=tl;break;case"toggle":case"beforetoggle":K=Zu}var _t=(r&4)!==0,Jt=!_t&&(n==="scroll"||n==="scrollend"),B=_t?$!==null?$+"Capture":null:$;_t=[];for(var P=Y,F;P!==null;){var tt=P;if(F=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||F===null||B===null||(tt=Cs(P,B),tt!=null&&_t.push(Dl(P,tt,F))),Jt)break;P=P.return}0<_t.length&&($=new K($,bt,null,a,Z),nt.push({event:$,listeners:_t}))}}if((r&7)===0){t:{if($=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",$&&a!==Vi&&(bt=a.relatedTarget||a.fromElement)&&(Di(bt)||bt[Cn]))break t;if((K||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,K?(bt=a.relatedTarget||a.toElement,K=Y,bt=bt?Di(bt):null,bt!==null&&(Jt=u(bt),_t=bt.tag,bt!==Jt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(K=null,bt=Y),K!==bt)){if(_t=On,tt="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(_t=tl,tt="onPointerLeave",B="onPointerEnter",P="pointer"),Jt=K==null?$:ni(K),F=bt==null?$:ni(bt),$=new _t(tt,P+"leave",K,a,Z),$.target=Jt,$.relatedTarget=F,tt=null,Di(Z)===Y&&(_t=new _t(B,P+"enter",bt,a,Z),_t.target=F,_t.relatedTarget=Jt,tt=_t),Jt=tt,K&&bt)e:{for(_t=K,B=bt,P=0,F=_t;F;F=to(F))P++;for(F=0,tt=B;tt;tt=to(tt))F++;for(;0<P-F;)_t=to(_t),P--;for(;0<F-P;)B=to(B),F--;for(;P--;){if(_t===B||B!==null&&_t===B.alternate)break e;_t=to(_t),B=to(B)}_t=null}else _t=null;K!==null&&sv(nt,$,K,_t,!1),bt!==null&&Jt!==null&&sv(nt,Jt,bt,_t,!0)}}t:{if($=Y?ni(Y):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var dt=Sg;else if(xe($))if(Ag)dt=Gb;else{dt=qb;var Nt=Hb}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&$o(Y.elementType)&&(dt=Sg):dt=Fb;if(dt&&(dt=dt(n,Y))){zi(nt,dt,a,Z);break t}Nt&&Nt(n,$,Y),n==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&br($,"number",$.value)}switch(Nt=Y?ni(Y):window,n){case"focusin":(xe(Nt)||Nt.contentEditable==="true")&&(Na=Nt,Nf=Y,il=null);break;case"focusout":il=Nf=Na=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,kg(nt,a,Z);break;case"selectionchange":if($b)break;case"keydown":case"keyup":kg(nt,a,Z)}var pt;if(ui)t:{switch(n){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Pt?X(n,a)&&(vt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Pt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Pt&&(pt=Qo()):(si=Z,wr="value"in si?si.value:si.textContent,Pt=!0)),Nt=zc(Y,vt),0<Nt.length&&(vt=new Jo(vt,n,null,a,Z),nt.push({event:vt,listeners:Nt}),pt?vt.data=pt:(pt=ot(a),pt!==null&&(vt.data=pt)))),(pt=y?Ce(n,a):Lt(n,a))&&(vt=zc(Y,"onBeforeInput"),0<vt.length&&(Nt=new Jo("onBeforeInput","beforeinput",null,a,Z),nt.push({event:Nt,listeners:vt}),Nt.data=pt)),xw(nt,n,Y,a,Z)}iv(nt,r)})}function Dl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function zc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Cs(n,a),f!=null&&l.unshift(Dl(n,f,d)),f=Cs(n,r),f!=null&&l.push(Dl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function to(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function sv(n,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,N=w.alternate,Y=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||Y===null||(N=Y,f?(Y=Cs(a,d),Y!=null&&v.unshift(Dl(a,Y,N))):f||(Y=Cs(a,d),Y!=null&&v.push(Dl(a,Y,N)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var kw=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function av(n){return(typeof n=="string"?n:""+n).replace(kw,`
`).replace(Mw,"")}function ov(n,r){return r=av(r),av(n)===r}function Bc(){}function Wt(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(n,""+l);break;case"className":ii(n,"class",l);break;case"tabIndex":ii(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(n,a,l);break;case"style":Yo(n,l,d);break;case"data":if(r!=="object"){ii(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Wt(n,r,"name",f.name,f,null),Wt(n,r,"formEncType",f.formEncType,f,null),Wt(n,r,"formMethod",f.formMethod,f,null),Wt(n,r,"formTarget",f.formTarget,f,null)):(Wt(n,r,"encType",f.encType,f,null),Wt(n,r,"method",f.method,f,null),Wt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&Ot("scroll",n);break;case"onScrollEnd":l!=null&&Ot("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ta(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ot("beforetoggle",n),Ot("toggle",n),Tr(n,"popover",l);break;case"xlinkActuate":Be(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Be(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Be(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Be(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Be(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Be(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Be(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Be(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Be(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,Tr(n,a,l))}}function tm(n,r,a,l,f,d){switch(a){case"style":Yo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?xn(n,l):(typeof l=="number"||typeof l=="bigint")&&xn(n,""+l);break;case"onScroll":l!=null&&Ot("scroll",n);break;case"onScrollEnd":l!=null&&Ot("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Tr(n,a,l)}}}function Ge(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",n),Ot("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(n,r,d,v,a,null)}}f&&Wt(n,r,"srcSet",a.srcSet,a,null),l&&Wt(n,r,"src",a.src,a,null);return;case"input":Ot("invalid",n);var w=d=v=f=null,N=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":v=Z;break;case"checked":N=Z;break;case"defaultChecked":Y=Z;break;case"value":d=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Wt(n,r,l,Z,a,null)}}As(n,d,w,N,Y,v,f,!1),Ea(n);return;case"select":Ot("invalid",n),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Wt(n,r,f,w,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Mi(n,!!l,r,!1):a!=null&&Mi(n,!!l,a,!0);return;case"textarea":Ot("invalid",n),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Wt(n,r,v,w,a,null)}Rs(n,l,f,d),Ea(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(n,r,N,l,a,null)}return;case"dialog":Ot("beforetoggle",n),Ot("toggle",n),Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":Ot("load",n);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ot(Nl[l],n);break;case"image":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"embed":case"source":case"link":Ot("error",n),Ot("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(n,r,Y,l,a,null)}return;default:if($o(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&tm(n,r,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Wt(n,r,w,l,a,null))}function Vw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,N=null,Y=null,Z=null;for(K in a){var nt=a[K];if(a.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=nt;default:l.hasOwnProperty(K)||Wt(n,r,K,null,l,nt)}}for(var $ in l){var K=l[$];if(nt=a[$],l.hasOwnProperty($)&&(K!=null||nt!=null))switch($){case"type":d=K;break;case"name":f=K;break;case"checked":Y=K;break;case"defaultChecked":Z=K;break;case"value":v=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==nt&&Wt(n,r,$,K,l,nt)}}yn(n,v,w,N,Y,Z,d,f);return;case"select":K=v=w=$=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Wt(n,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":$=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==N&&Wt(n,r,f,d,l,N)}r=w,a=v,l=K,$!=null?Mi(n,!!a,$,!1):!!l!=!!a&&(r!=null?Mi(n,!!a,r,!0):Mi(n,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Wt(n,r,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":$=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Wt(n,r,v,f,l,d)}Qt(n,$,K);return;case"option":for(var bt in a)if($=a[bt],a.hasOwnProperty(bt)&&$!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:Wt(n,r,bt,null,l,$)}for(N in l)if($=l[N],K=a[N],l.hasOwnProperty(N)&&$!==K&&($!=null||K!=null))switch(N){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Wt(n,r,N,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)$=a[_t],a.hasOwnProperty(_t)&&$!=null&&!l.hasOwnProperty(_t)&&Wt(n,r,_t,null,l,$);for(Y in l)if($=l[Y],K=a[Y],l.hasOwnProperty(Y)&&$!==K&&($!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Wt(n,r,Y,$,l,K)}return;default:if($o(r)){for(var Jt in a)$=a[Jt],a.hasOwnProperty(Jt)&&$!==void 0&&!l.hasOwnProperty(Jt)&&tm(n,r,Jt,void 0,l,$);for(Z in l)$=l[Z],K=a[Z],!l.hasOwnProperty(Z)||$===K||$===void 0&&K===void 0||tm(n,r,Z,$,l,K);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&Wt(n,r,B,null,l,$);for(nt in l)$=l[nt],K=a[nt],!l.hasOwnProperty(nt)||$===K||$==null&&K==null||Wt(n,r,nt,$,l,K)}var em=null,nm=null;function Hc(n){return n.nodeType===9?n:n.ownerDocument}function lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function im(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rm=null;function Pw(){var n=window.event;return n&&n.type==="popstate"?n===rm?!1:(rm=n,!0):(rm=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(n){return hv.resolve(null).then(n).catch(jw)}:cv;function jw(n){setTimeout(function(){throw n})}function jr(n){return n==="head"}function fv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Ol(v.documentElement),a&2&&Ol(v.body),a&4)for(a=v.head,Ol(a),v=a.firstChild;v;){var w=v.nextSibling,N=v.nodeName;v[Ts]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(f===0){n.removeChild(d),zl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);zl(r)}function sm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function zw(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ts])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function Bw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=$n(n.nextSibling),n===null))return null;return n}function am(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Hw(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function $n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var om=null;function dv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function mv(n,r,a){switch(r=Hc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ol(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Er(n)}var jn=new Map,pv=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=lt.d;lt.d={f:qw,r:Fw,D:Gw,C:Yw,L:$w,m:Kw,X:Xw,S:Qw,M:Ww};function qw(){var n=Zi.f(),r=Mc();return n||r}function Fw(n){var r=ei(n);r!==null&&r.tag===5&&r.type==="form"?Vy(r):Zi.r(n)}var eo=typeof document>"u"?null:document;function gv(n,r,a){var l=eo;if(l&&typeof r=="string"&&r){var f=Ee(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),pv.has(f)||(pv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ge(r,"link",n),me(r),l.head.appendChild(r)))}}function Gw(n){Zi.D(n),gv("dns-prefetch",n,null)}function Yw(n,r){Zi.C(n,r),gv("preconnect",n,r)}function $w(n,r,a){Zi.L(n,r,a);var l=eo;if(l&&n&&r){var f='link[rel="preload"][as="'+Ee(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ee(a.imageSizes)+'"]')):f+='[href="'+Ee(n)+'"]';var d=f;switch(r){case"style":d=no(n);break;case"script":d=io(n)}jn.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),jn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),Ge(r,"link",n),me(r),l.head.appendChild(r)))}}function Kw(n,r){Zi.m(n,r);var a=eo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(n)}if(!jn.has(d)&&(n=E({rel:"modulepreload",href:n},r),jn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Ge(l,"link",n),me(l),a.head.appendChild(l)}}}function Qw(n,r,a){Zi.S(n,r,a);var l=eo;if(l&&n){var f=sn(l).hoistableStyles,d=no(n);r=r||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(kl(d)))w.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=jn.get(d))&&lm(n,a);var N=v=l.createElement("link");me(N),Ge(N,"link",n),N._p=new Promise(function(Y,Z){N.onload=Y,N.onerror=Z}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function Xw(n,r){Zi.X(n,r);var a=eo;if(a&&n){var l=sn(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(n=E({src:n,async:!0},r),(r=jn.get(f))&&um(n,r),d=a.createElement("script"),me(d),Ge(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ww(n,r){Zi.M(n,r);var a=eo;if(a&&n){var l=sn(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=jn.get(f))&&um(n,r),d=a.createElement("script"),me(d),Ge(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function yv(n,r,a,l){var f=(f=wt.current)?qc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=sn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=no(a.href);var d=sn(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(kl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),d||Jw(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=sn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function no(n){return'href="'+Ee(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function _v(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function Jw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ge(r,"link",a),me(r),n.head.appendChild(r))}function io(n){return'[src="'+Ee(n)+'"]'}function Ml(n){return"script[async]"+n}function vv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(l)return r.instance=l,me(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),me(l),Ge(l,"style",f),Fc(l,a.precedence,n),r.instance=l;case"stylesheet":f=no(a.href);var d=n.querySelector(kl(f));if(d)return r.state.loading|=4,r.instance=d,me(d),d;l=_v(a),(f=jn.get(f))&&lm(l,f),d=(n.ownerDocument||n).createElement("link"),me(d);var v=d;return v._p=new Promise(function(w,N){v.onload=w,v.onerror=N}),Ge(d,"link",l),r.state.loading|=4,Fc(d,a.precedence,n),r.instance=d;case"script":return d=io(a.src),(f=n.querySelector(Ml(d)))?(r.instance=f,me(f),f):(l=a,(f=jn.get(d))&&(l=E({},a),um(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),me(f),Ge(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,n));return r.instance}function Fc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function lm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function um(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Gc=null;function Ev(n,r,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Ts]||d[Ie]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function Tv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Zw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Vl=null;function tS(){}function eS(n,r,a){if(Vl===null)throw Error(s(475));var l=Vl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=no(a.href),d=n.querySelector(kl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Yc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,me(d);return}d=n.ownerDocument||n,a=_v(a),(f=jn.get(f))&&lm(a,f),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(w,N){v.onload=w,v.onerror=N}),Ge(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Yc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function nS(){if(Vl===null)throw Error(s(475));var n=Vl;return n.stylesheets&&n.count===0&&cm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&cm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)cm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $c=null;function cm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$c=new Map,r.forEach(iS,n),$c=null,Yc.call(n))}function iS(n,r){if(!(r.state.loading&4)){var a=$c.get(n);if(a)var l=a.get(null);else{a=new Map,$c.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Yc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Pl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function rS(n,r,a,l,f,d,v,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function wv(n,r,a,l,f,d,v,w,N,Y,Z,nt){return n=new rS(n,r,a,v,w,N,Y,nt),r=1,d===!0&&(r|=24),d=vn(3,null,null,r),n.current=d,d.stateNode=n,r=Gf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Qf(d),n}function Sv(n){return n?(n=Ma,n):Ma}function Av(n,r,a,l,f,d){f=Sv(f),l.context===null?l.context=f:l.pendingContext=f,l=Rr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(n,l,r),a!==null&&(Sn(a,n,r),fl(a,n,r))}function Rv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function hm(n,r){Rv(n,r),(n=n.alternate)&&Rv(n,r)}function Iv(n){if(n.tag===13){var r=ka(n,67108864);r!==null&&Sn(r,n,67108864),hm(n,67108864)}}var Kc=!0;function sS(n,r,a,l){var f=W.T;W.T=null;var d=lt.p;try{lt.p=2,fm(n,r,a,l)}finally{lt.p=d,W.T=f}}function aS(n,r,a,l){var f=W.T;W.T=null;var d=lt.p;try{lt.p=8,fm(n,r,a,l)}finally{lt.p=d,W.T=f}}function fm(n,r,a,l){if(Kc){var f=dm(l);if(f===null)Zd(n,r,l,Qc,a),xv(n,l);else if(lS(f,n,r,a,l))l.stopPropagation();else if(xv(n,l),r&4&&-1<oS.indexOf(n)){for(;f!==null;){var d=ei(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var N=1<<31-Qe(v);w.entanglements[1]|=N,v&=~N}pi(d),($t&6)===0&&(Oc=In()+500,xl(0))}}break;case 13:w=ka(d,2),w!==null&&Sn(w,d,2),Mc(),hm(d,2)}if(d=dm(l),d===null&&Zd(n,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Zd(n,r,l,null,a)}}function dm(n){return n=Nn(n),mm(n)}var Qc=null;function mm(n){if(Qc=null,n=Di(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Qc=n,null}function Cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yf()){case Mo:return 2;case fa:return 8;case gs:case _f:return 32;case da:return 268435456;default:return 32}default:return 32}}var pm=!1,zr=null,Br=null,Hr=null,Ll=new Map,Ul=new Map,qr=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(n,r){switch(n){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function jl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ei(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function lS(n,r,a,l,f){switch(r){case"focusin":return zr=jl(zr,n,r,a,l,f),!0;case"dragenter":return Br=jl(Br,n,r,a,l,f),!0;case"mouseover":return Hr=jl(Hr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,jl(Ll.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,jl(Ul.get(d)||null,n,r,a,l,f)),!0}return!1}function Nv(n){var r=Di(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Mu(n.priority,function(){if(a.tag===13){var l=wn();l=yr(l);var f=ka(a,l);f!==null&&Sn(f,a,l),hm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=dm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return r=ei(a),r!==null&&Iv(r),n.blockedOn=a,!1;r.shift()}return!0}function Dv(n,r,a){Xc(n)&&a.delete(r)}function uS(){pm=!1,zr!==null&&Xc(zr)&&(zr=null),Br!==null&&Xc(Br)&&(Br=null),Hr!==null&&Xc(Hr)&&(Hr=null),Ll.forEach(Dv),Ul.forEach(Dv)}function Wc(n,r){n.blockedOn===r&&(n.blockedOn=null,pm||(pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uS)))}var Jc=null;function Ov(n){Jc!==n&&(Jc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===n&&(Jc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var d=ei(a);d!==null&&(n.splice(r,3),r-=3,md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function zl(n){function r(N){return Wc(N,n)}zr!==null&&Wc(zr,n),Br!==null&&Wc(Br,n),Hr!==null&&Wc(Hr,n),Ll.forEach(r),Ul.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[ve]||null;if(typeof d=="function")v||Ov(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[ve]||null)w=v.formAction;else if(mm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Ov(a)}}}function gm(n){this._internalRoot=n}Zc.prototype.render=gm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();Av(a,l,n,r,null,null)},Zc.prototype.unmount=gm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Av(n.current,2,null,n,null,null),Mc(),r[Cn]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var r=_r();n={blockedOn:null,target:n,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,n),a===0&&Nv(n)}};var kv=t.version;if(kv!=="19.1.0")throw Error(s(527,kv,"19.1.0"));lt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var cS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{ce=th.inject(cS),Yt=th}catch{}}return Hl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Qy,d=Xy,v=Wy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=wv(n,1,!1,null,null,a,l,f,d,v,w,null),n[Cn]=r.current,Jd(n),new gm(r)},Hl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=Qy,v=Xy,w=Wy,N=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),r=wv(n,1,!0,r,a??null,l,f,d,v,w,N,Y),r.context=Sv(null),a=r.current,l=wn(),l=yr(l),f=Rr(l),f.callback=null,Ir(a,f,l),a=l,r.current.lanes=a,Ni(r,a),pi(r),n[Cn]=r.current,Jd(n),new Zc(r)},Hl.version="19.1.0",Hl}var qv;function ES(){if(qv)return _m.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_m.exports=vS(),_m.exports}var TS=ES();const bS=LE(TS);var H=pp();const Vt=LE(H);var ql={},Fv;function wS(){if(Fv)return ql;Fv=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=h,ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,I){const x=new u,j=T.length;if(j<2)return x;const V=(I==null?void 0:I.decode)||E;let G=0;do{const U=T.indexOf("=",G);if(U===-1)break;const Q=T.indexOf(";",G),J=Q===-1?j:Q;if(U>J){G=T.lastIndexOf(";",U-1)+1;continue}const at=m(T,G,U),ft=p(T,U,at),D=T.slice(at,ft);if(x[D]===void 0){let A=m(T,U+1,J),R=p(T,J,A);const k=V(T.slice(A,R));x[D]=k}G=J+1}while(G<j);return x}function m(T,I,x){do{const j=T.charCodeAt(I);if(j!==32&&j!==9)return I}while(++I<x);return x}function p(T,I,x){for(;I>x;){const j=T.charCodeAt(--I);if(j!==32&&j!==9)return I+1}return x}function g(T,I,x){const j=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const V=j(I);if(!t.test(V))throw new TypeError(`argument val is invalid: ${I}`);let G=T+"="+V;if(!x)return G;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);G+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);G+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);G+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);G+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(G+="; HttpOnly"),x.secure&&(G+="; Secure"),x.partitioned&&(G+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return G}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return ql}wS();var Gv="popstate";function SS(i={}){function t(s,o){let{pathname:u,search:h,hash:m}=s.location;return Pm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(s,o){return typeof o=="string"?o:ru(o)}return RS(t,e,null,i)}function oe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Xn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AS(){return Math.random().toString(36).substring(2,10)}function Yv(i,t){return{usr:i.state,key:i.key,idx:t}}function Pm(i,t,e=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?bo(t):t,state:e,key:t&&t.key||s||AS()}}function ru({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function bo(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function RS(i,t,e,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let V=E(),G=V==null?null:V-g;g=V,p&&p({action:m,location:j.location,delta:G})}function T(V,G){m="PUSH";let U=Pm(j.location,V,G);g=E()+1;let Q=Yv(U,g),J=j.createHref(U);try{h.pushState(Q,"",J)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(J)}u&&p&&p({action:m,location:j.location,delta:1})}function I(V,G){m="REPLACE";let U=Pm(j.location,V,G);g=E();let Q=Yv(U,g),J=j.createHref(U);h.replaceState(Q,"",J),u&&p&&p({action:m,location:j.location,delta:0})}function x(V){return IS(V)}let j={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,b),p=V,()=>{o.removeEventListener(Gv,b),p=null}},createHref(V){return t(o,V)},createURL:x,encodeLocation(V){let G=x(V);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:I,go(V){return h.go(V)}};return j}function IS(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ru(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function UE(i,t,e="/"){return CS(i,t,e,!1)}function CS(i,t,e,s){let o=typeof t=="string"?bo(t):t,u=ar(o.pathname||"/",e);if(u==null)return null;let h=jE(i);xS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=zS(u);m=US(h[p],g,s)}return m}function jE(i,t=[],e=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(oe(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),E=e.concat(p);u.children&&u.children.length>0&&(oe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jE(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:PS(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of zE(u.path))o(u,h,p)}),t}function zE(i){let t=i.split("/");if(t.length===0)return[];let[e,...s]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=zE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function xS(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:LS(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var NS=/^:[\w-]+$/,DS=3,OS=2,kS=1,MS=10,VS=-2,$v=i=>i==="*";function PS(i,t){let e=i.split("/"),s=e.length;return e.some($v)&&(s+=VS),t&&(s+=OS),e.filter(o=>!$v(o)).reduce((o,u)=>o+(NS.test(u)?DS:u===""?kS:MS),s)}function LS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function US(i,t,e=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),T=p.route;if(!b&&g&&e&&!s[s.length-1].route.index&&(b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:nr([u,b.pathname]),pathnameBase:FS(nr([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=nr([u,b.pathnameBase]))}return h}function Eh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,s]=jS(i.path,i.caseSensitive,i.end),o=t.match(e);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},T)=>{if(E==="*"){let x=m[T]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const I=m[T];return b&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function jS(i,t=!1,e=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function zS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function ar(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=i.charAt(e);return s&&s!=="/"?null:i.slice(e)||"/"}function BS(i,t="/"){let{pathname:e,search:s="",hash:o=""}=typeof i=="string"?bo(i):i;return{pathname:e?e.startsWith("/")?e:HS(e,t):t,search:GS(s),hash:YS(o)}}function HS(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function wm(i,t,e,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qS(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function gp(i){let t=qS(i);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function yp(i,t,e,s=!1){let o;typeof i=="string"?o=bo(i):(o={...i},oe(!o.pathname||!o.pathname.includes("?"),wm("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),wm("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),wm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=e;else{let b=t.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}m=b>=0?t[b]:"/"}let p=BS(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),FS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),GS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function $S(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var KS=["GET",...BE];new Set(KS);var wo=H.createContext(null);wo.displayName="DataRouter";var Fh=H.createContext(null);Fh.displayName="DataRouterState";var HE=H.createContext({isTransitioning:!1});HE.displayName="ViewTransition";var QS=H.createContext(new Map);QS.displayName="Fetchers";var XS=H.createContext(null);XS.displayName="Await";var Jn=H.createContext(null);Jn.displayName="Navigation";var du=H.createContext(null);du.displayName="Location";var Ri=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var _p=H.createContext(null);_p.displayName="RouteError";function WS(i,{relative:t}={}){oe(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=H.useContext(Jn),{hash:o,pathname:u,search:h}=mu(i,{relative:t}),m=u;return e!=="/"&&(m=u==="/"?e:nr([e,u])),s.createHref({pathname:m,search:h,hash:o})}function So(){return H.useContext(du)!=null}function mr(){return oe(So(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(du).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(i){H.useContext(Jn).static||H.useLayoutEffect(i)}function GE(){let{isDataRoute:i}=H.useContext(Ri);return i?cA():JS()}function JS(){oe(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(wo),{basename:t,navigator:e}=H.useContext(Jn),{matches:s}=H.useContext(Ri),{pathname:o}=mr(),u=JSON.stringify(gp(s)),h=H.useRef(!1);return FE(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(Xn(h.current,qE),!h.current)return;if(typeof p=="number"){e.go(p);return}let E=yp(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:nr([t,E.pathname])),(g.replace?e.replace:e.push)(E,g.state,g)},[t,e,u,o,i])}H.createContext(null);function mu(i,{relative:t}={}){let{matches:e}=H.useContext(Ri),{pathname:s}=mr(),o=JSON.stringify(gp(e));return H.useMemo(()=>yp(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function ZS(i,t){return YE(i,t)}function YE(i,t,e,s){var G;oe(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(Jn),{matches:u}=H.useContext(Ri),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let U=E&&E.path||"";$E(p,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=mr(),T;if(t){let U=typeof t=="string"?bo(t):t;oe(g==="/"||((G=U.pathname)==null?void 0:G.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=b;let I=T.pathname||"/",x=I;if(g!=="/"){let U=g.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let j=UE(i,{pathname:x});Xn(E||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=rA(j&&j.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:nr([g,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:nr([g,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,e,s);return t&&V?H.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function tA(){let i=uA(),t=$S(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),e?H.createElement("pre",{style:o},e):null,h)}var eA=H.createElement(tA,null),nA=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?H.createElement(Ri.Provider,{value:this.props.routeContext},H.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iA({routeContext:i,match:t,children:e}){let s=H.useContext(wo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Ri.Provider,{value:i},e)}function rA(i,t=[],e=null,s=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let o=i,u=e==null?void 0:e.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);oe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(e)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=e,T=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,T=!1,I=null,x=null;e&&(b=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||eA,h&&(m<0&&E===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):m===E&&(T=!0,x=g.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,E+1)),V=()=>{let G;return b?G=I:T?G=x:g.route.Component?G=H.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,H.createElement(iA,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:e!=null},children:G})};return e&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(nA,{location:e.location,revalidation:e.revalidation,component:I,error:b,children:V(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):V()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sA(i){let t=H.useContext(wo);return oe(t,vp(i)),t}function aA(i){let t=H.useContext(Fh);return oe(t,vp(i)),t}function oA(i){let t=H.useContext(Ri);return oe(t,vp(i)),t}function Ep(i){let t=oA(i),e=t.matches[t.matches.length-1];return oe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function lA(){return Ep("useRouteId")}function uA(){var s;let i=H.useContext(_p),t=aA("useRouteError"),e=Ep("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[e]}function cA(){let{router:i}=sA("useNavigate"),t=Ep("useNavigate"),e=H.useRef(!1);return FE(()=>{e.current=!0}),H.useCallback(async(o,u={})=>{Xn(e.current,qE),e.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Kv={};function $E(i,t,e){!t&&!Kv[i]&&(Kv[i]=!0,Xn(!1,e))}H.memo(hA);function hA({routes:i,future:t,state:e}){return YE(i,void 0,e,t)}function Qv({to:i,replace:t,state:e,relative:s}){oe(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Jn);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Ri),{pathname:h}=mr(),m=GE(),p=yp(i,gp(u),h,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:t,state:e,relative:s})},[m,g,s,t,e]),null}function dn(i){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fA({basename:i="/",children:t=null,location:e,navigationType:s="POP",navigator:o,static:u=!1}){oe(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof e=="string"&&(e=bo(e));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:T="default"}=e,I=H.useMemo(()=>{let x=ar(p,h);return x==null?null:{location:{pathname:x,search:g,hash:E,state:b,key:T},navigationType:s}},[h,p,g,E,b,T,s]);return Xn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:H.createElement(Jn.Provider,{value:m},H.createElement(du.Provider,{children:t,value:I}))}function Xv({children:i,location:t}){return ZS(Lm(i),t)}function Lm(i,t=[]){let e=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...t,o];if(s.type===H.Fragment){e.push.apply(e,Lm(s.props.children,u));return}oe(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Lm(s.props.children,u)),e.push(h)}),e}var lh="get",uh="application/x-www-form-urlencoded";function Gh(i){return i!=null&&typeof i.tagName=="string"}function dA(i){return Gh(i)&&i.tagName.toLowerCase()==="button"}function mA(i){return Gh(i)&&i.tagName.toLowerCase()==="form"}function pA(i){return Gh(i)&&i.tagName.toLowerCase()==="input"}function gA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function yA(i,t){return i.button===0&&(!t||t==="_self")&&!gA(i)}var eh=null;function _A(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!vA.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):i}function EA(i,t){let e,s,o,u,h;if(mA(i)){let m=i.getAttribute("action");s=m?ar(m,t):null,e=i.getAttribute("method")||lh,o=Sm(i.getAttribute("enctype"))||uh,u=new FormData(i)}else if(dA(i)||pA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,t):null,e=i.getAttribute("formmethod")||m.getAttribute("method")||lh,o=Sm(i.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||uh,u=new FormData(m,i),!_A()){let{name:g,type:E,value:b}=i;if(E==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,b)}}else{if(Gh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=lh,s=null,o=uh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:e.toLowerCase(),encType:o,formData:u,body:h}}function Tp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function TA(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function wA(i,t,e){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await TA(u,e);return h.links?h.links():[]}return[]}));return IA(s.flat(1).filter(bA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wv(i,t,e,s,o,u){let h=(p,g)=>e[g]?p.route.id!==e[g].route.id:!0,m=(p,g)=>{var E;return e[g].pathname!==p.pathname||((E=e[g].route.path)==null?void 0:E.endsWith("*"))&&e[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function SA(i,t,{includeHydrateFallback:e}={}){return AA(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AA(i){return[...new Set(i)]}function RA(i){let t={},e=Object.keys(i).sort();for(let s of e)t[s]=i[s];return t}function IA(i,t){let e=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(RA(o));return e.has(u)||(e.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CA=new Set([100,101,204,205]);function xA(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&ar(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function KE(){let i=H.useContext(wo);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function NA(){let i=H.useContext(Fh);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bp=H.createContext(void 0);bp.displayName="FrameworkContext";function QE(){let i=H.useContext(bp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function DA(i,t){let e=H.useContext(bp),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=t,T=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let j=G=>{G.forEach(U=>{h(U.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return T.current&&V.observe(T.current),()=>{V.disconnect()}}},[i]),H.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let I=()=>{o(!0)},x=()=>{o(!1),h(!1)};return e?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Fl(m,I),onBlur:Fl(p,x),onMouseEnter:Fl(g,I),onMouseLeave:Fl(E,x),onTouchStart:Fl(b,I)}]:[!1,T,{}]}function Fl(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function OA({page:i,...t}){let{router:e}=KE(),s=H.useMemo(()=>UE(e.routes,i,e.basename),[e.routes,i,e.basename]);return s?H.createElement(MA,{page:i,matches:s,...t}):null}function kA(i){let{manifest:t,routeModules:e}=QE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return wA(i,t,e).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,e]),s}function MA({page:i,matches:t,...e}){let s=mr(),{manifest:o,routeModules:u}=QE(),{basename:h}=KE(),{loaderData:m,matches:p}=NA(),g=H.useMemo(()=>Wv(i,t,p,o,s,"data"),[i,t,p,o,s]),E=H.useMemo(()=>Wv(i,t,p,o,s,"assets"),[i,t,p,o,s]),b=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,j=!1;if(t.forEach(G=>{var Q;let U=o.routes[G.route.id];!U||!U.hasLoader||(!g.some(J=>J.route.id===G.route.id)&&G.route.id in m&&((Q=u[G.route.id])!=null&&Q.shouldRevalidate)||U.hasClientLoader?j=!0:x.add(G.route.id))}),x.size===0)return[];let V=xA(i,h);return j&&x.size>0&&V.searchParams.set("_routes",t.filter(G=>x.has(G.route.id)).map(G=>G.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,g,t,i,u]),T=H.useMemo(()=>SA(E,o),[E,o]),I=kA(E);return H.createElement(H.Fragment,null,b.map(x=>H.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),T.map(x=>H.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),I.map(({key:x,link:j})=>H.createElement("link",{key:x,...j})))}function VA(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.6.2")}catch{}function PA({basename:i,children:t,window:e}){let s=H.useRef();s.current==null&&(s.current=SS({window:e,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(fA,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=H.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...T},I){let{basename:x}=H.useContext(Jn),j=typeof g=="string"&&WE.test(g),V,G=!1;if(typeof g=="string"&&j&&(V=g,XE))try{let R=new URL(window.location.href),k=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=ar(k.pathname,x);k.origin===R.origin&&L!=null?g=L+k.search+k.hash:G=!0}catch{Xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=WS(g,{relative:o}),[Q,J,at]=DA(s,T),ft=zA(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function D(R){t&&t(R),R.defaultPrevented||ft(R)}let A=H.createElement("a",{...T,...at,href:V||U,onClick:G||u?t:D,ref:VA(I,J),target:p,"data-discover":!j&&e==="render"?"true":void 0});return Q&&!j?H.createElement(H.Fragment,null,A,H.createElement(OA,{page:U})):A});yi.displayName="Link";var LA=H.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let b=mu(h,{relative:g.relative}),T=mr(),I=H.useContext(Fh),{navigator:x,basename:j}=H.useContext(Jn),V=I!=null&&GA(b)&&m===!0,G=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,U=T.pathname,Q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;e||(U=U.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&j&&(Q=ar(Q,j)||Q);const J=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let at=U===G||!o&&U.startsWith(G)&&U.charAt(J)==="/",ft=Q!=null&&(Q===G||!o&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),D={isActive:at,isPending:ft,isTransitioning:V},A=at?t:void 0,R;typeof s=="function"?R=s(D):R=[s,at?"active":null,ft?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return H.createElement(yi,{...g,"aria-current":A,className:R,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(D):p)});LA.displayName="NavLink";var UA=H.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:o,state:u,method:h=lh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...T},I)=>{let x=qA(),j=FA(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&WE.test(m),U=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let J=Q.nativeEvent.submitter,at=(J==null?void 0:J.getAttribute("formmethod"))||h;x(J||Q.currentTarget,{fetcherKey:t,method:at,navigate:e,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return H.createElement("form",{ref:I,method:V,action:j,onSubmit:s?p:U,...T,"data-discover":!G&&i==="render"?"true":void 0})});UA.displayName="Form";function jA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(i){let t=H.useContext(wo);return oe(t,jA(i)),t}function zA(i,{target:t,replace:e,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=GE(),p=mr(),g=mu(i,{relative:u});return H.useCallback(E=>{if(yA(E,t)){E.preventDefault();let b=e!==void 0?e:ru(p)===ru(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,e,s,t,i,o,u,h])}var BA=0,HA=()=>`__${String(++BA)}__`;function qA(){let{router:i}=JE("useSubmit"),{basename:t}=H.useContext(Jn),e=lA();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=EA(s,t);if(o.navigate===!1){let E=o.fetcherKey||HA();await i.fetch(E,e,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:e,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,e])}function FA(i,{relative:t}={}){let{basename:e}=H.useContext(Jn),s=H.useContext(Ri);oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(i||".",{relative:t})},h=mr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:nr([e,u.pathname])),ru(u)}function GA(i,t={}){let e=H.useContext(HE);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),o=mu(i,{relative:t.relative});if(!e.isTransitioning)return!1;let u=ar(e.currentLocation.pathname,s)||e.currentLocation.pathname,h=ar(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,u)!=null}[...CA];const YA=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},$A=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const o=i[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[e++],h=i[e++],m=i[e++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[e++],h=i[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(T=64)),s.push(e[E],e[b],e[T],e[I])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(ZE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):$A(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=e[i.charAt(o++)],m=o<i.length?e[i.charAt(o)]:0;++o;const g=o<i.length?e[i.charAt(o)]:64;++o;const b=o<i.length?e[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new KA;const T=u<<2|m>>4;if(s.push(T),g!==64){const I=m<<4&240|g>>2;if(s.push(I),b!==64){const x=g<<6&192|b;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QA=function(i){const t=ZE(i);return tT.encodeByteArray(t,!0)},Th=function(i){return QA(i).replace(/\./g,"")},eT=function(i){try{return tT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=()=>XA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof Jv>"u")return;const i=Jv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&eT(i[1]);return t&&JSON.parse(t)},Yh=()=>{try{return YA()||WA()||JA()||ZA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nT=i=>{var t,e;return(e=(t=Yh())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},tR=i=>{const t=nT(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},iT=()=>{var i;return(i=Yh())===null||i===void 0?void 0:i.config},rT=i=>{var t;return(t=Yh())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Th(JSON.stringify(e)),Th(JSON.stringify(h)),""].join(".")}const Wl={};function iR(){const i={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?i.emulator.push(t):i.prod.push(t);return i}function rR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let Zv=!1;function aT(i,t){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Wl[i]===t||Wl[i]||Zv)return;Wl[i]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=iR().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Zv=!0,h()},T}function E(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=rR(s),I=e("text"),x=document.getElementById(I)||document.createElement("span"),j=e("learnmore"),V=document.getElementById(j)||document.createElement("a"),G=e("preprendIcon"),U=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;m(Q),E(V,j);const J=g();p(U,G),Q.append(U,x,V,J),document.body.appendChild(Q)}u?(x.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function aR(){var i;const t=(i=Yh())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function uR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cR(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function hR(){return!aR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="FirebaseError";class pr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=mR,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?pR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new pr(o,m,s)}}function pR(i,t){return i.replace(gR,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const gR=/\{\$([^}]+)}/g;function yR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function or(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(t0(u)&&t0(h)){if(!or(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function t0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Gl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Yl(i){const t=i.indexOf("?");if(!t)return"";const e=i.indexOf("#",t);return i.substring(t,e>0?e:void 0)}function _R(i,t){const e=new vR(i,t);return e.subscribe.bind(e)}class vR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");ER(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(i){return i&&i._delegate?i._delegate:i}class ea{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new eR;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wR(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,e){var s;const o=this.normalizeInstanceIdentifier(e),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bR(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bR(i){return i===Xs?void 0:i}function wR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new TR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(kt||(kt={}));const AR={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},RR=kt.INFO,IR={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},CR=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=IR[t];if(o)console[o](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wp{constructor(t){this.name=t,this._logLevel=RR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const xR=(i,t)=>t.some(e=>i instanceof e);let e0,n0;function NR(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DR(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oT=new WeakMap,Um=new WeakMap,lT=new WeakMap,Rm=new WeakMap,Sp=new WeakMap;function OR(i){const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{e(Xr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(e=>{e instanceof IDBCursor&&oT.set(e,i)}).catch(()=>{}),Sp.set(t,i),t}function kR(i){if(Um.has(i))return;const t=new Promise((e,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{e(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Um.set(i,t)}let jm={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Um.get(i);if(t==="objectStoreNames")return i.objectStoreNames||lT.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Xr(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function MR(i){jm=i(jm)}function VR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Im(this),t,...e);return lT.set(s,t.sort?t.sort():[t]),Xr(s)}:DR().includes(i)?function(...t){return i.apply(Im(this),t),Xr(oT.get(this))}:function(...t){return Xr(i.apply(Im(this),t))}}function PR(i){return typeof i=="function"?VR(i):(i instanceof IDBTransaction&&kR(i),xR(i,NR())?new Proxy(i,jm):i)}function Xr(i){if(i instanceof IDBRequest)return OR(i);if(Rm.has(i))return Rm.get(i);const t=PR(i);return t!==i&&(Rm.set(i,t),Sp.set(t,i)),t}const Im=i=>Sp.get(i);function LR(i,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=Xr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Xr(h.result),p.oldVersion,p.newVersion,Xr(h.transaction),p)}),e&&h.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],Cm=new Map;function i0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=jR.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(e)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[e](...m),o&&p.done]))[0]};return Cm.set(t,u),u}MR(i=>({...i,get:(t,e,s)=>i0(t,e)||i.get(t,e,s),has:(t,e)=>!!i0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(BR(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function BR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zm="@firebase/app",r0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new wp("@firebase/app"),HR="@firebase/app-compat",qR="@firebase/analytics-compat",FR="@firebase/analytics",GR="@firebase/app-check-compat",YR="@firebase/app-check",$R="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",XR="@firebase/data-connect",WR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",t2="@firebase/installations",e2="@firebase/installations-compat",n2="@firebase/messaging",i2="@firebase/messaging-compat",r2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",o2="@firebase/remote-config-compat",l2="@firebase/storage",u2="@firebase/storage-compat",c2="@firebase/firestore",h2="@firebase/ai",f2="@firebase/firestore-compat",d2="firebase",m2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",p2={[zm]:"fire-core",[HR]:"fire-core-compat",[FR]:"fire-analytics",[qR]:"fire-analytics-compat",[YR]:"fire-app-check",[GR]:"fire-app-check-compat",[$R]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[XR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[t2]:"fire-iid",[e2]:"fire-iid-compat",[n2]:"fire-fcm",[i2]:"fire-fcm-compat",[r2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[o2]:"fire-rc-compat",[l2]:"fire-gcs",[u2]:"fire-gcs-compat",[c2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,g2=new Map,Hm=new Map;function s0(i,t){try{i.container.addComponent(t)}catch(e){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function mo(i){const t=i.name;if(Hm.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;Hm.set(t,i);for(const e of bh.values())s0(e,i);for(const e of g2.values())s0(e,i);return!0}function Ap(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new pu("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=m2;function $h(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Bm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(e||(e=iT()),!e)throw Wr.create("no-options");const u=bh.get(o);if(u){if(or(e,u.options)&&or(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const h=new SR(o);for(const p of Hm.values())h.addComponent(p);const m=new _2(e,s,h);return bh.set(o,m),m}function uT(i=Bm){const t=bh.get(i);if(!t&&i===Bm&&iT())return $h();if(!t)throw Wr.create("no-app",{appName:i});return t}function Jr(i,t,e){var s;let o=(s=p2[i])!==null&&s!==void 0?s:i;e&&(o+=`-${e}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(m.join(" "));return}mo(new ea(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",E2=1,su="firebase-heartbeat-store";let xm=null;function cT(){return xm||(xm=LR(v2,E2,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(su)}catch(e){console.warn(e)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),xm}async function T2(i){try{const e=(await cT()).transaction(su),s=await e.objectStore(su).get(hT(i));return await e.done,s}catch(t){if(t instanceof pr)lr.warn(t.message);else{const e=Wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});lr.warn(e.message)}}}async function a0(i,t){try{const s=(await cT()).transaction(su,"readwrite");await s.objectStore(su).put(t,hT(i)),await s.done}catch(e){if(e instanceof pr)lr.warn(e.message);else{const s=Wr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});lr.warn(s.message)}}}function hT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1024,w2=30;class S2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new R2(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=o0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>w2){const h=I2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o0(),{heartbeatsToSend:s,unsentEntries:o}=A2(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return lr.warn(e),""}}}function o0(){return new Date().toISOString().substring(0,10)}function A2(i,t=b2){const e=[];let s=i.slice();for(const o of i){const u=e.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),l0(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),l0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class R2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await T2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const o=await this.read();return a0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function l0(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function I2(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){mo(new ea("platform-logger",t=>new zR(t),"PRIVATE")),mo(new ea("heartbeat",t=>new S2(t),"PRIVATE")),Jr(zm,r0,i),Jr(zm,r0,"esm2017"),Jr("fire-js","")}C2("");var x2="firebase",N2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(x2,N2,"app");function Rp(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(e[s[o]]=i[s[o]]);return e}function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=fT,dT=new pu("auth","Firebase",fT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new wp("@firebase/auth");function O2(i,...t){wh.logLevel<=kt.WARN&&wh.warn(`Auth (${Ro}): ${i}`,...t)}function ch(i,...t){wh.logLevel<=kt.ERROR&&wh.error(`Auth (${Ro}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(i,...t){throw Cp(i,...t)}function Qn(i,...t){return Cp(i,...t)}function Ip(i,t,e){const s=Object.assign(Object.assign({},D2()),{[t]:e});return new pu("auth","Firebase",s).create(t,{appName:i.name})}function ir(i){return Ip(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k2(i,t,e){const s=e;if(!(t instanceof s))throw s.name!==t.constructor.name&&Bn(i,"argument-error"),Ip(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return dT.create(i,...t)}function Et(i,t,...e){if(!i)throw Cp(t,...e)}function tr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw ch(t),new Error(t)}function ur(i,t){i||tr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function M2(){return u0()==="http:"||u0()==="https:"}function u0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||lR()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ur(e>t,"Short delay should be less than long delay!"),this.isMobile=sR()||uR()}get(){return V2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i,t){ur(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new yu(3e4,6e4);function ls(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function us(i,t,e,s,o={}){return pT(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return oR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ao(i.emulatorConfig.host)&&(g.credentials="include"),mT.fetch()(await gT(i,i.config.apiHost,e,m),g)})}async function pT(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},L2),t);try{const o=new B2(i),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ip(i,E,g);Bn(i,E)}}catch(o){if(o instanceof pr)throw o;Bn(i,"network-request-failed",{message:String(o)})}}async function _u(i,t,e,s,o={}){const u=await us(i,t,e,s,o);return"mfaPendingCredential"in u&&Bn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function gT(i,t,e,s){const o=`${t}${e}?${s}`,u=i,h=u.config.emulator?xp(i.config,o):`${i.config.apiScheme}://${o}`;return U2.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function z2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),j2.get())})}}function nh(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Qn(i,t,s);return o.customData._tokenResponse=e,o}function c0(i){return i!==void 0&&i.enterprise!==void 0}class H2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return z2(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q2(i,t){return us(i,"GET","/v2/recaptchaConfig",ls(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(i,t){return us(i,"POST","/v1/accounts:delete",t)}async function Sh(i,t){return us(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function G2(i,t=!1){const e=rn(i),s=await e.getIdToken(t),o=Np(s);Et(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Nm(o.auth_time)),issuedAtTime:Jl(Nm(o.iat)),expirationTime:Jl(Nm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(i){return Number(i)*1e3}function Np(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=eT(e);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function h0(i){const t=Np(i);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof pr&&Y2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Y2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){var t;const e=i.auth,s=await i.getIdToken(),o=await au(i,Sh(e,{idToken:s}));Et(o==null?void 0:o.users.length,e,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?yT(u.providerUserInfo):[],m=Q2(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Fm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function K2(i){const t=rn(i);await Ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Q2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function yT(i){return i.map(t=>{var{providerId:e}=t,s=Rp(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(i,t){const e=await pT(i,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await gT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ao(i.emulatorConfig.host)&&(p.credentials="include"),mT.fetch()(h,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function W2(i,t){return us(i,"POST","/v2/accounts:revokeToken",ls(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=h0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await X2(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,h=new lo;return s&&(Et(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(i,t){Et(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Kn{constructor(t){var{uid:e,auth:s,stsTokenManager:o}=t,u=Rp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Fm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await au(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return G2(this,t)}reload(){return K2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await au(this,F2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,o,u,h,m,p,g,E;const b=(s=e.displayName)!==null&&s!==void 0?s:void 0,T=(o=e.email)!==null&&o!==void 0?o:void 0,I=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=e.photoURL)!==null&&h!==void 0?h:void 0,j=(m=e.tenantId)!==null&&m!==void 0?m:void 0,V=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=e.createdAt)!==null&&g!==void 0?g:void 0,U=(E=e.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:J,isAnonymous:at,providerData:ft,stsTokenManager:D}=e;Et(Q&&D,t,"internal-error");const A=lo.fromJSON(this.name,D);Et(typeof Q=="string",t,"internal-error"),Gr(b,t.name),Gr(T,t.name),Et(typeof J=="boolean",t,"internal-error"),Et(typeof at=="boolean",t,"internal-error"),Gr(I,t.name),Gr(x,t.name),Gr(j,t.name),Gr(V,t.name),Gr(G,t.name),Gr(U,t.name);const R=new Kn({uid:Q,auth:t,email:T,emailVerified:J,displayName:b,isAnonymous:at,photoURL:x,phoneNumber:I,tenantId:j,stsTokenManager:A,createdAt:G,lastLoginAt:U});return ft&&Array.isArray(ft)&&(R.providerData=ft.map(k=>Object.assign({},k))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(t,e,s=!1){const o=new lo;o.updateFromServerResponse(e);const u=new Kn({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new lo;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function er(i){ur(i instanceof Function,"Expected a class definition");let t=f0.get(i);return t?(ur(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,f0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}_T.type="NONE";const d0=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,t,e){return`firebase:${i}:${t}:${e}`}class uo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Sh(this.auth,{idToken:t}).catch(()=>{});return e?Kn._fromGetAccountInfoResponse(this.auth,e,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new uo(er(d0),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||er(d0);const h=hh(s,t.config.apiKey,t.name);let m=null;for(const g of e)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const T=await Sh(t,{idToken:E}).catch(()=>{});if(!T)break;b=await Kn._fromGetAccountInfoResponse(t,T,E)}else b=Kn._fromJSON(t,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new uo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ST(t))return"Blackberry";if(AT(t))return"Webos";if(ET(t))return"Safari";if((t.includes("chrome/")||TT(t))&&!t.includes("edge/"))return"Chrome";if(wT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vT(i=nn()){return/firefox\//i.test(i)}function ET(i=nn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TT(i=nn()){return/crios\//i.test(i)}function bT(i=nn()){return/iemobile/i.test(i)}function wT(i=nn()){return/android/i.test(i)}function ST(i=nn()){return/blackberry/i.test(i)}function AT(i=nn()){return/webos/i.test(i)}function Dp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function J2(i=nn()){var t;return Dp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Z2(){return cR()&&document.documentMode===10}function RT(i=nn()){return Dp(i)||wT(i)||AT(i)||ST(i)||/windows phone/i.test(i)||bT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i,t=[]){let e;switch(i){case"Browser":e=m0(nn());break;case"Worker":e=`${m0(nn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(i,t={}){return us(i,"GET","/v2/passwordPolicy",ls(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=6;class iI{constructor(t){var e,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=h.minPasswordLength)!==null&&e!==void 0?e:nI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=er(e)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Sh(this,{idToken:t}),s=await Kn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ah(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(ir(this));const e=t?rn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eI(this),e=new iI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await W2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&er(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[er(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(e);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e}async _getAppCheckToken(){var t;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&O2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cs(i){return rn(i)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=_R(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(i){Kh=i}function CT(i){return Kh.loadJS(i)}function aI(){return Kh.recaptchaEnterpriseScript}function oI(){return Kh.gapiScript}function lI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class uI{constructor(){this.enterprise=new cI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class cI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const hI="recaptcha-enterprise",xT="NO_RECAPTCHA";class fI{constructor(t){this.type=hI,this.auth=cs(t)}async verify(t="verify",e=!1){async function s(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{q2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new H2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;c0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(xT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!e&&c0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=aI();p.length!==0&&(p+=m),CT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function g0(i,t,e,s=!1,o=!1){const u=new fI(i);let h;if(o)h=xT;else try{h=await u.verify(e)}catch{h=await u.verify(e,!0)}const m=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Gm(i,t,e,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await g0(i,t,e,e==="getOobCode");return s(i,h)}else return s(i,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await g0(i,t,e,e==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(i,t){const e=Ap(i,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(or(u,t??{}))return o;Bn(o,"already-initialized")}return e.initialize({options:t})}function mI(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(er);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function pI(i,t,e){const s=cs(i);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=NT(t),{host:h,port:m}=gI(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(or(g,s.config.emulator)&&or(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ao(h)?(sT(`${u}//${h}${p}`),aT("Auth",!0)):yI()}function NT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function gI(i){const t=NT(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:y0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:y0(h)}}}function y0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function yI(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,e){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function _I(i,t){return us(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(i,t){return _u(i,"POST","/v1/accounts:signInWithPassword",ls(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,t){return _u(i,"POST","/v1/accounts:signInWithEmailLink",ls(i,t))}async function TI(i,t){return _u(i,"POST","/v1/accounts:signInWithEmailLink",ls(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Op{constructor(t,e,s,o=null){super("password",s),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new ou(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new ou(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(t,e,"signInWithPassword",vI);case"emailLink":return EI(t,{email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(t,s,"signUpPassword",_I);case"emailLink":return TI(t,{idToken:e,email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,t){return _u(i,"POST","/v1/accounts:signInWithIdp",ls(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="http://localhost";class na extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Bn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=e,u=Rp(e,["providerId","signInMethod"]);if(!s||!o)return null;const h=new na(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const e=this.buildRequest();return co(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,co(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,co(t,e)}buildRequest(){const t={requestUri:bI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=gu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SI(i){const t=Gl(Yl(i)).link,e=t?Gl(Yl(t)).deep_link_id:null,s=Gl(Yl(i)).deep_link_id;return(s?Gl(Yl(s)).link:null)||s||e||t||i}class kp{constructor(t){var e,s,o,u,h,m;const p=Gl(Yl(t)),g=(e=p.apiKey)!==null&&e!==void 0?e:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=wI((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const e=SI(t);try{return new kp(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,e){return ou._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=kp.parseLink(e);return Et(s,"argument-error"),ou._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends vu{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return na._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return _i.credential(e,s)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends vu{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends vu{constructor(){super("twitter.com")}static credential(t,e){return na._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Kr.credential(e,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(i,t){return _u(i,"POST","/v1/accounts:signUp",ls(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await Kn._fromIdTokenResponse(t,s,o),h=_0(s);return new ia({user:u,providerId:h,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=_0(s);return new ia({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function _0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends pr{constructor(t,e,s,o){var u;super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new Rh(t,e,s,o)}}function DT(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,t,s):u})}async function RI(i,t,e=!1){const s=await au(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,t,e=!1){const{auth:s}=i;if(An(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await au(i,DT(s,o,t,i),e);Et(u.idToken,s,"internal-error");const h=Np(u.idToken);Et(h,s,"internal-error");const{sub:m}=h;return Et(i.uid===m,s,"user-mismatch"),ia._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(i,t,e=!1){if(An(i.app))return Promise.reject(ir(i));const s="signIn",o=await DT(i,s,t),u=await ia._fromIdTokenResponse(i,s,o);return e||await i._updateCurrentUser(u.user),u}async function CI(i,t){return OT(cs(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(i){const t=cs(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xI(i,t,e){if(An(i.app))return Promise.reject(ir(i));const s=cs(i),h=await Gm(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kT(i),p}),m=await ia._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function NI(i,t,e){return An(i.app)?Promise.reject(ir(i)):CI(rn(i),Io.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kT(i),s})}function DI(i,t,e,s){return rn(i).onIdTokenChanged(t,e,s)}function OI(i,t,e){return rn(i).beforeAuthStateChanged(t,e)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1e3,MI=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!e&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Z2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MI):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const VI=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}PT.type="SESSION";const LT=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(e.origin,u)),p=await PI(m);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function UI(i){vi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function jI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BI(){return UT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebaseLocalStorageDb",HI=1,Ch="firebaseLocalStorage",zT="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xh(i,t){return i.transaction([Ch],t?"readwrite":"readonly").objectStore(Ch)}function qI(){const i=indexedDB.deleteDatabase(jT);return new Eu(i).toPromise()}function Ym(){const i=indexedDB.open(jT,HI);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ch,{keyPath:zT})}catch(o){e(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ch)?t(s):(s.close(),await qI(),t(await Ym()))})})}async function v0(i,t,e){const s=Xh(i,!0).put({[zT]:t,value:e});return new Eu(s).toPromise()}async function FI(i,t){const e=Xh(i,!1).get(t),s=await new Eu(e).toPromise();return s===void 0?null:s.value}function E0(i,t){const e=Xh(i,!0).delete(t);return new Eu(e).toPromise()}const GI=800,YI=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>YI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(BI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new LI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ym();return await v0(t,Ih,"1"),await E0(t,Ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>v0(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>FI(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>E0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const $I=BT;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i,t){return t?er(t):(Et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Op{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return co(t,this._buildIdpRequest())}_linkToIdToken(t,e){return co(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return co(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function KI(i){return OT(i.auth,new Pp(i),i.bypassAuthState)}function QI(i){const{auth:t,user:e}=i;return Et(e,t,"internal-error"),II(e,new Pp(i),i.bypassAuthState)}async function XI(i){const{auth:t,user:e}=i;return Et(e,t,"internal-error"),RI(e,new Pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KI;case"linkViaPopup":case"linkViaRedirect":return XI;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:Bn(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new yu(2e3,1e4);async function JI(i,t,e){if(An(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=cs(i);k2(i,t,Mp);const o=HT(s,e);return new Ws(s,"signInViaPopup",t,o).executeNotNull()}class Ws extends qT{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WI.get())};t()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="pendingRedirect",fh=new Map;class tC extends qT{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(i,t){const e=rC(t),s=iC(i);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function nC(i,t){fh.set(i._key(),t)}function iC(i){return er(i._redirectPersistence)}function rC(i){return hh(ZI,i.config.apiKey,i.name)}async function sC(i,t,e=!1){if(An(i.app))return Promise.reject(ir(i));const s=cs(i),o=HT(s,t),h=await new tC(s,o,e).execute();return h&&!e&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=10*60*1e3;class oC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!FT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Qn(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aC&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(t))}saveEventToCache(t){this.cachedEventUids.add(T0(t)),this.lastProcessedEventTime=Date.now()}}function T0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function FT({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,t={}){return us(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hC=/^https?/;async function fC(i){if(i.config.emulator)return;const{authorizedDomains:t}=await uC(i);for(const e of t)try{if(dC(e))return}catch{}Bn(i,"unauthorized-domain")}function dC(i){const t=qm(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&h.hostname===s}if(!hC.test(e))return!1;if(cC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new yu(3e4,6e4);function b0(){const i=vi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function pC(i){return new Promise((t,e)=>{var s,o,u;function h(){b0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b0(),e(Qn(i,"network-request-failed"))},timeout:mC.get()})}if(!((o=(s=vi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=vi().gapi)===null||u===void 0)&&u.load)h();else{const m=lI("iframefcb");return vi()[m]=()=>{gapi.load?h():e(Qn(i,"network-request-failed"))},CT(`${oI()}?onload=${m}`).catch(p=>e(p))}}).catch(t=>{throw dh=null,t})}let dh=null;function gC(i){return dh=dh||pC(i),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new yu(5e3,15e3),_C="__/auth/iframe",vC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(i){const t=i.config;Et(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?xp(t,vC):`https://${i.config.authDomain}/${_C}`,s={apiKey:t.apiKey,appName:i.name,v:Ro},o=TC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${gu(s).slice(1)}`}async function wC(i){const t=await gC(i),e=vi().gapi;return Et(e,i,"internal-error"),t.open({where:document.body,url:bC(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Qn(i,"network-request-failed"),m=vi().setTimeout(()=>{u(h)},yC.get());function p(){vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,RC=600,IC="_blank",CC="http://localhost";class w0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xC(i,t,e,s=AC,o=RC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},SC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=nn().toLowerCase();e&&(m=TT(g)?IC:e),vT(g)&&(t=t||CC,p.scrollbars="yes");const E=Object.entries(p).reduce((T,[I,x])=>`${T}${I}=${x},`,"");if(J2(g)&&m!=="_self")return NC(t||"",m),new w0(null);const b=window.open(t||"",m,E);Et(b,i,"popup-blocked");try{b.focus()}catch{}return new w0(b)}function NC(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="__/auth/handler",OC="emulator/auth/handler",kC=encodeURIComponent("fac");async function S0(i,t,e,s,o,u){Et(i.config.authDomain,i,"auth-domain-config-required"),Et(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:Ro,eventId:o};if(t instanceof Mp){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",yR(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(t instanceof vu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${kC}=${encodeURIComponent(p)}`:"";return`${MC(i)}?${gu(m).slice(1)}${g}`}function MC({config:i}){return i.emulator?xp(i,OC):`https://${i.authDomain}/${DC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=sC,this._overrideRedirectResult=nC}async _openPopup(t,e,s,o){var u;ur((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await S0(t,e,s,qm(),o);return xC(t,h,Vp())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await S0(t,e,s,qm(),o);return UI(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await wC(t),s=new oC(t);return e.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Dm,{type:Dm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];h!==void 0&&e(!!h),Bn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=fC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return RT()||ET()||Dp()}}const PC=VC;var A0="@firebase/auth",R0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jC(i){mo(new ea("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Et(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(i)},g=new rI(s,o,u,p);return mI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),mo(new ea("auth-internal",t=>{const e=cs(t.getProvider("auth").getImmediate());return(s=>new LC(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(A0,R0,UC(i)),Jr(A0,R0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=5*60,BC=rT("authIdTokenMaxAge")||zC;let I0=null;const HC=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>BC)return;const o=e==null?void 0:e.token;I0!==o&&(I0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Lp(i=uT()){const t=Ap(i,"auth");if(t.isInitialized())return t.getImmediate();const e=dI(i,{popupRedirectResolver:PC,persistence:[$I,VI,LT]}),s=rT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=HC(u.toString());OI(e,h,()=>h(e.currentUser)),DI(e,m=>h(m))}}const o=nT("auth");return o&&pI(e,`http://${o}`),e}function qC(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}sI({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",qC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jC("Browser");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,GT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function R(){}R.prototype=A.prototype,D.D=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(k,L,z){for(var O=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)O[Re-2]=arguments[Re];return A.prototype[L].apply(k,O)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,R){R||(R=0);var k=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)k[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;16>L;++L)k[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],L=D.g[2];var z=D.g[3],O=A+(z^R&(L^z))+k[0]+3614090360&4294967295;A=R+(O<<7&4294967295|O>>>25),O=z+(L^A&(R^L))+k[1]+3905402710&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(R^z&(A^R))+k[2]+606105819&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(A^L&(z^A))+k[3]+3250441966&4294967295,R=L+(O<<22&4294967295|O>>>10),O=A+(z^R&(L^z))+k[4]+4118548399&4294967295,A=R+(O<<7&4294967295|O>>>25),O=z+(L^A&(R^L))+k[5]+1200080426&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(R^z&(A^R))+k[6]+2821735955&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(A^L&(z^A))+k[7]+4249261313&4294967295,R=L+(O<<22&4294967295|O>>>10),O=A+(z^R&(L^z))+k[8]+1770035416&4294967295,A=R+(O<<7&4294967295|O>>>25),O=z+(L^A&(R^L))+k[9]+2336552879&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(R^z&(A^R))+k[10]+4294925233&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(A^L&(z^A))+k[11]+2304563134&4294967295,R=L+(O<<22&4294967295|O>>>10),O=A+(z^R&(L^z))+k[12]+1804603682&4294967295,A=R+(O<<7&4294967295|O>>>25),O=z+(L^A&(R^L))+k[13]+4254626195&4294967295,z=A+(O<<12&4294967295|O>>>20),O=L+(R^z&(A^R))+k[14]+2792965006&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(A^L&(z^A))+k[15]+1236535329&4294967295,R=L+(O<<22&4294967295|O>>>10),O=A+(L^z&(R^L))+k[1]+4129170786&4294967295,A=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(A^R))+k[6]+3225465664&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^R&(z^A))+k[11]+643717713&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^A&(L^z))+k[0]+3921069994&4294967295,R=L+(O<<20&4294967295|O>>>12),O=A+(L^z&(R^L))+k[5]+3593408605&4294967295,A=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(A^R))+k[10]+38016083&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^R&(z^A))+k[15]+3634488961&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^A&(L^z))+k[4]+3889429448&4294967295,R=L+(O<<20&4294967295|O>>>12),O=A+(L^z&(R^L))+k[9]+568446438&4294967295,A=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(A^R))+k[14]+3275163606&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^R&(z^A))+k[3]+4107603335&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^A&(L^z))+k[8]+1163531501&4294967295,R=L+(O<<20&4294967295|O>>>12),O=A+(L^z&(R^L))+k[13]+2850285829&4294967295,A=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(A^R))+k[2]+4243563512&4294967295,z=A+(O<<9&4294967295|O>>>23),O=L+(A^R&(z^A))+k[7]+1735328473&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^A&(L^z))+k[12]+2368359562&4294967295,R=L+(O<<20&4294967295|O>>>12),O=A+(R^L^z)+k[5]+4294588738&4294967295,A=R+(O<<4&4294967295|O>>>28),O=z+(A^R^L)+k[8]+2272392833&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^R)+k[11]+1839030562&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^A)+k[14]+4259657740&4294967295,R=L+(O<<23&4294967295|O>>>9),O=A+(R^L^z)+k[1]+2763975236&4294967295,A=R+(O<<4&4294967295|O>>>28),O=z+(A^R^L)+k[4]+1272893353&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^R)+k[7]+4139469664&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^A)+k[10]+3200236656&4294967295,R=L+(O<<23&4294967295|O>>>9),O=A+(R^L^z)+k[13]+681279174&4294967295,A=R+(O<<4&4294967295|O>>>28),O=z+(A^R^L)+k[0]+3936430074&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^R)+k[3]+3572445317&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^A)+k[6]+76029189&4294967295,R=L+(O<<23&4294967295|O>>>9),O=A+(R^L^z)+k[9]+3654602809&4294967295,A=R+(O<<4&4294967295|O>>>28),O=z+(A^R^L)+k[12]+3873151461&4294967295,z=A+(O<<11&4294967295|O>>>21),O=L+(z^A^R)+k[15]+530742520&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^A)+k[2]+3299628645&4294967295,R=L+(O<<23&4294967295|O>>>9),O=A+(L^(R|~z))+k[0]+4096336452&4294967295,A=R+(O<<6&4294967295|O>>>26),O=z+(R^(A|~L))+k[7]+1126891415&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~R))+k[14]+2878612391&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~A))+k[5]+4237533241&4294967295,R=L+(O<<21&4294967295|O>>>11),O=A+(L^(R|~z))+k[12]+1700485571&4294967295,A=R+(O<<6&4294967295|O>>>26),O=z+(R^(A|~L))+k[3]+2399980690&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~R))+k[10]+4293915773&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~A))+k[1]+2240044497&4294967295,R=L+(O<<21&4294967295|O>>>11),O=A+(L^(R|~z))+k[8]+1873313359&4294967295,A=R+(O<<6&4294967295|O>>>26),O=z+(R^(A|~L))+k[15]+4264355552&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~R))+k[6]+2734768916&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~A))+k[13]+1309151649&4294967295,R=L+(O<<21&4294967295|O>>>11),O=A+(L^(R|~z))+k[4]+4149444226&4294967295,A=R+(O<<6&4294967295|O>>>26),O=z+(R^(A|~L))+k[11]+3174756917&4294967295,z=A+(O<<10&4294967295|O>>>22),O=L+(A^(z|~R))+k[2]+718787259&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~A))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var R=A-this.blockSize,k=this.B,L=this.h,z=0;z<A;){if(L==0)for(;z<=R;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<A;)if(k[L++]=D.charCodeAt(z++),L==this.blockSize){o(this,k),L=0;break}}else for(;z<A;)if(k[L++]=D[z++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var R=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=R&255,R/=256;for(this.u(D),D=Array(16),A=R=0;4>A;++A)for(var k=0;32>k;k+=8)D[R++]=this.g[A]>>>k&255;return D};function u(D,A){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function h(D,A){this.h=A;for(var R=[],k=!0,L=D.length-1;0<=L;L--){var z=D[L]|0;k&&z==A||(R[L]=z,k=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(A){return new h([A|0],0>A?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return V(g(-D));for(var A=[],R=1,k=0;D>=R;k++)A[k]=D/R|0,R*=4294967296;return new h(A,0)}function E(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return V(E(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),k=b,L=0;L<D.length;L+=8){var z=Math.min(8,D.length-L),O=parseInt(D.substring(L,L+z),A);8>z?(z=g(Math.pow(A,z)),k=k.j(z).add(g(O))):(k=k.j(R),k=k.add(g(O)))}return k}var b=p(0),T=p(1),I=p(16777216);i=h.prototype,i.m=function(){if(j(this))return-V(this).m();for(var D=0,A=1,R=0;R<this.g.length;R++){var k=this.i(R);D+=(0<=k?k:4294967296+k)*A,A*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(j(this))return"-"+V(this).toString(D);for(var A=g(Math.pow(D,6)),R=this,k="";;){var L=J(R,A).g;R=G(R,L.j(A));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=L,x(R))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function j(D){return D.h==-1}i.l=function(D){return D=G(this,D),j(D)?-1:x(D)?0:1};function V(D){for(var A=D.g.length,R=[],k=0;k<A;k++)R[k]=~D.g[k];return new h(R,~D.h).add(T)}i.abs=function(){return j(this)?V(this):this},i.add=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],k=0,L=0;L<=A;L++){var z=k+(this.i(L)&65535)+(D.i(L)&65535),O=(z>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);k=O>>>16,z&=65535,O&=65535,R[L]=O<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(D,A){return D.add(V(A))}i.j=function(D){if(x(this)||x(D))return b;if(j(this))return j(D)?V(this).j(V(D)):V(V(this).j(D));if(j(D))return V(this.j(V(D)));if(0>this.l(I)&&0>D.l(I))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,R=[],k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<D.g.length;L++){var z=this.i(k)>>>16,O=this.i(k)&65535,Re=D.i(L)>>>16,ie=D.i(L)&65535;R[2*k+2*L]+=O*ie,U(R,2*k+2*L),R[2*k+2*L+1]+=z*ie,U(R,2*k+2*L+1),R[2*k+2*L+1]+=O*Re,U(R,2*k+2*L+1),R[2*k+2*L+2]+=z*Re,U(R,2*k+2*L+2)}for(k=0;k<A;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=A;k<2*A;k++)R[k]=0;return new h(R,0)};function U(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Q(D,A){this.g=D,this.h=A}function J(D,A){if(x(A))throw Error("division by zero");if(x(D))return new Q(b,b);if(j(D))return A=J(V(D),A),new Q(V(A.g),V(A.h));if(j(A))return A=J(D,V(A)),new Q(V(A.g),A.h);if(30<D.g.length){if(j(D)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,k=A;0>=k.l(D);)R=at(R),k=at(k);var L=ft(R,1),z=ft(k,1);for(k=ft(k,2),R=ft(R,2);!x(k);){var O=z.add(k);0>=O.l(D)&&(L=L.add(R),z=O),k=ft(k,1),R=ft(R,1)}return A=G(D,L.j(A)),new Q(L,A)}for(L=b;0<=D.l(A);){for(R=Math.max(1,Math.floor(D.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(R),O=z.j(A);j(O)||0<O.l(D);)R-=k,z=g(R),O=z.j(A);x(z)&&(z=T),L=L.add(z),D=G(D,O)}return new Q(L,D)}i.A=function(D){return J(this,D).h},i.and=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)&D.i(k);return new h(R,this.h&D.h)},i.or=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)|D.i(k);return new h(R,this.h|D.h)},i.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],k=0;k<A;k++)R[k]=this.i(k)^D.i(k);return new h(R,this.h^D.h)};function at(D){for(var A=D.g.length+1,R=[],k=0;k<A;k++)R[k]=D.i(k)<<1|D.i(k-1)>>>31;return new h(R,D.h)}function ft(D,A){var R=A>>5;A%=32;for(var k=D.g.length-R,L=[],z=0;z<k;z++)L[z]=0<A?D.i(z+R)>>>A|D.i(z+R+1)<<32-A:D.i(z+R);return new h(L,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,GT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Zr=h}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,$l,$T,mh,$m,KT,QT,XT;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function e(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break t;_=_[q]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,T.apply(null,arguments)}function I(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,X){for(var ot=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)ot[Pt-2]=arguments[Pt];return y.prototype[q].apply(S,ot)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function V(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const q=c.length||0,X=S.length||0;c.length=q+X;for(let ot=0;ot<X;ot++)c[q+ot]=S[ot]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var at=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ft(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function O(){var c=Ht;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Re{constructor(){this.h=this.g=null}add(y,_){const S=ie.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new G(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,Ht=new Re,M=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(rt)}};var rt=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){z(_)}var y=ie;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function xt(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{J(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xt.aa.h.call(this)}}x(xt,st);var wt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),te=0;function Zn(c,y,_,S,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=q,this.key=++te,this.da=this.fa=!1}function gr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,_,S,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ot=ms(c,y,S,q);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Zn(y,this.src,X,!!S,q),y.fa=_,c.push(y)),y};function ds(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(S,q,1),X&&(gr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ms(c,y,_,S){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==S)return q}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),ko={};function Du(c,y,_,S,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Du(c,y[X],_,S,q);return null}return _=Ou(_),c&&c[Me]?c.K(y,_,g(S)?!!S.capture:!1,q):In(c,y,_,!1,S,q)}function In(c,y,_,S,q,X){if(!y)throw Error("Invalid event type");var ot=g(q)?!!q.capture:!!q,Pt=da(c);if(Pt||(c[ps]=Pt=new Ci(c)),_=Pt.add(y,_,S,ot,X),_.proxy)return _;if(S=yf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)yt||(q=ot),q===void 0&&(q=!1),c.addEventListener(y.toString(),S,q);else if(c.attachEvent)c.attachEvent(gs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function yf(){function c(_){return y.call(c.src,c.listener,_)}const y=_f;return c}function Mo(c,y,_,S,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Mo(c,y[X],_,S,q);else S=g(S)?!!S.capture:!!S,_=Ou(_),c&&c[Me]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=ms(X,_,S,q),-1<_&&(gr(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=da(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ms(y,_,S,q)),(_=-1<c?y[c]:null)&&fa(_))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])ds(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(gs(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=da(y))?(ds(_,c),_.h==0&&(_.src=null,y[ps]=null)):gr(c)}}}function gs(c){return c in ko?ko[c]:ko[c]="on"+c}function _f(c,y){if(c.da)c=!0;else{y=new xt(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&fa(c),c=_.call(S,y)}return c}function da(c){return c=c[ps],c instanceof Ci?c:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function ce(){ut.call(this),this.i=new Ci(this),this.M=this,this.F=null}x(ce,ut),ce.prototype[Me]=!0,ce.prototype.removeEventListener=function(c,y,_,S){Mo(this,c,y,_,S)};function Yt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var q=y;y=new st(S,c),k(y,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var ot=y.g=_[X];q=gn(ot,S,!0,y)&&q}if(ot=y.g=c,q=gn(ot,S,!0,y)&&q,q=gn(ot,S,!1,y)&&q,_)for(X=0;X<_.length;X++)ot=y.g=_[X],q=gn(ot,S,!1,y)&&q}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)gr(_[S]);delete c.g[y],c.h--}}this.F=null},ce.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ce.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function gn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var ot=y[X];if(ot&&!ot.da&&ot.capture==_){var Pt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&ds(c.i,ot),q=Pt.call(Ce,S)!==!1&&q}}return q&&!S.defaultPrevented}function Qe(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ku(c){c.g=Qe(()=>{c.g=null,c.i&&(c.i=!1,ku(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class vf extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){ut.call(this),this.h=c,this.g={}}x(ys,ut);var _s=[];function vs(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&fa(y)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),vs(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,ma=m.JSON.parse,Es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function Lo(c){return c.h||(c.h=c.i())}function Uo(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){st.call(this,"d")}x(Ni,st);function jo(){st.call(this,"c")}x(jo,st);var ti={},zo=null;function yr(){return zo=zo||new ce}ti.La="serverreachability";function pa(c){st.call(this,ti.La,c)}x(pa,st);function _r(c){const y=yr();Yt(y,new pa(y))}ti.STAT_EVENT="statevent";function Mu(c,y){st.call(this,ti.STAT_EVENT,c),this.stat=y}x(Mu,st);function se(c){const y=yr();Yt(y,new Mu(y,c))}ti.Ma="timingevent";function Ie(c,y){st.call(this,ti.Ma,c),this.size=y}x(Ie,st);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Bo(c,y,_,S,q,X){c.info(function(){if(c.g)if(X)for(var ot="",Pt=X.split("&"),Ce=0;Ce<Pt.length;Ce++){var Lt=Pt[Ce].split("=");if(1<Lt.length){var Pe=Lt[0];Lt=Lt[1];var xe=Pe.split("_");ot=2<=xe.length&&xe[1]=="type"?ot+(Pe+"="+Lt+"&"):ot+(Pe+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+_+`
`+ot})}function Ef(c,y,_,S,q,X,ot){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+_+`
`+X+" "+ot})}function vr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ts(c,_)+(S?" "+S:"")})}function Vu(c,y){c.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function Ts(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<q.length;ot++)q[ot]=""}}}}return Hn(_)}catch{return y}}var Er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ni(){}x(ni,Po),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ei=new ni;function sn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Ho={},ga={};function qn(c,y,_){c.L=1,c.v=Rs(yn(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),bs(c),c.A=yn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ko(_.i,"t",S),c.C=0,_=c.j.J,c.h=new me,c.g=Wu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new vf(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(_s[0]=q.toString()),q=_s);for(var X=0;X<q.length;X++){var ot=Du(_,q[X],S||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_r(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)t:{const xe=On(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||xe!=4||y==7||(y==8||0>=zi?_r(3):_r(2)),Tr(this);var _=this.g.Z();this.X=_;e:if(Pu(this)){var S=qu(this.g);c="";var q=S.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),ii(this);var ot="";break e}this.h.i=new m.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(X&&y==q-1)});S.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,Ef(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ce=this.g;if((Pt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Pt)){var Lt=Pt;break e}}Lt=null}if(_=Lt)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,_);else{this.o=!1,this.s=3,se(12),Be(this),ii(this);break t}}if(this.P){_=!0;let He;for(;!this.J&&this.C<ot.length;)if(He=Lu(this,ot),He==ga){xe==4&&(this.s=4,se(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Ho){this.s=4,se(15),vr(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,He,null),ws(this,He);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||ot.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,ot,"[Invalid Chunked Response]"),Be(this),ii(this);else if(0<ot.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Ms(Pe),Pe.M=!0,se(11))}}else vr(this.i,this.l,ot,null),ws(this,ot);xe==4&&Be(this),this.o&&!this.J&&(xe==4?Ku(this.j,this):(this.o=!1,bs(this)))}else Af(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Be(this),ii(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ga:(_=Number(y.substring(_,S)),isNaN(_)?Ho:(S+=1,S+_>y.length?ga:(y=y.slice(S,S+_),c.C=S+_,y)))}sn.prototype.cancel=function(){this.J=!0,Be(this)};function bs(c){c.S=Date.now()+c.I,Uu(c,c.I)}function Uu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(T(c.ba,c),y)}function Tr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(_r(),se(17)),Be(this),this.s=2,ii(this)):Uu(this,this.S-c)};function ii(c){c.j.G==0||c.J||Ku(c.j,c)}function Be(c){Tr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,vs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||qo(_.h,c))){if(!c.K&&qo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ca(_),Ra(_);else break t;Zo(_),se(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(T(_.Za,_),6e3));if(1>=_a(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((c.K||_.g==c)&&Ca(_),!U(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Lt=q[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Pe=Lt[3];Pe!=null&&(_.la=Pe,_.j.info("VER="+_.la));const xe=Lt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const zi=Lt[5];zi!=null&&typeof zi=="number"&&0<zi&&(S=1.5*zi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const He=c.g;if(He){const ci=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var X=S.h;X.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(va(X,X.h),X.h=null))}if(S.D){const el=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.ya=el,Qt(S.I,S.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ot=c;if(S.qa=Xu(S,S.J?S.ia:null,S.W),ot.K){an(S.h,ot);var Pt=ot,Ce=S.L;Ce&&(Pt.I=Ce),Pt.B&&(Tr(Pt),bs(Pt)),S.g=ot}else Yu(S);0<_.i.length&&Ia(_)}else Lt[0]!="stop"&&Lt[0]!="close"||ji(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ji(_,7):Wo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}_r(4)}catch{}}var ju=class{constructor(c,y){this.g=c,this.map=y}};function ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function va(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ki.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function Tf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Go(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ea(c),S=Tf(c),q=S.length,X=0;X<q;X++)y.call(void 0,S[X],_&&_[X],c)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var X=c[_].substring(0,S);q=c[_].substring(S+1)}else X=c[_];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ee(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ee){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,br(this,c.s),this.l=c.l;var y=c.i,_=new Vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Mi(this,_),this.m=c.m}else c&&(y=String(c).match(Ss))?(this.h=!1,As(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),br(this,y[4]),this.l=xn(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Ee.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Is(y,Yo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Is(_,_.charAt(0)=="/"?wf:$o,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Is(_,Ta)),c.join("")};function yn(c){return new Ee(c)}function As(c,y,_){c.j=_?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,_){y instanceof Vi?(c.i=y,Bu(c.i,c.h)):(_||(y=Is(y,Sf)),c.i=new Vi(y,c.h))}function Qt(c,y,_){c.i.set(y,_)}function Rs(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,zu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yo=/[#\/\?@]/g,$o=/[#\?:]/g,wf=/[#\?]/g,Sf=/[#\?@]/g,Ta=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&bf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Vi.prototype,i.add=function(c,y){Nn(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pi(c,y){Nn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Li(c,y){return Nn(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){Nn(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(y,q,S,this)},this)},this)},i.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const q=c[S];for(let X=0;X<q.length;X++)_.push(y[S])}return _},i.V=function(c){Nn(this);let y=[];if(typeof c=="string")Li(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Nn(this),this.i=null,c=ri(this,c),Li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ko(c,y,_){Pi(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),j(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const X=encodeURIComponent(String(S)),ot=this.V(S);for(S=0;S<ot.length;S++){var q=X;ot[S]!==""&&(q+="="+encodeURIComponent(String(ot[S]))),c.push(q)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(Pi(this,S),Ko(this,q,_))},c)),c.j=y}function Cs(c,y){const _=new Cn;if(m.Image){const S=new Image;S.onload=I(Dn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=I(Dn,_,"TestLoadImage: error",!1,y,S),S.onabort=I(Dn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(Dn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Fn(c,y){const _=new Cn,S=new AbortController,q=setTimeout(()=>{S.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function xs(){this.g=new Es}function si(c,y,_){const S=_||"";try{Go(c,function(q,X){let ot=q;g(q)&&(ot=Hn(q)),y.push(S+X+"="+encodeURIComponent(ot))})}catch(q){throw y.push(S+"type="+encodeURIComponent("_badmap")),q}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(wr,Po),wr.prototype.g=function(){return new Ui(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){ce.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ui,ce),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&Qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return ft(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ve(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,y,_))}function Ft(c){ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ft,ce);var ba=/^https?$/i,Ns=["POST","PUT"];i=Ft.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Lo(this.o):Lo(ei),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Hu(this,X);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of _)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Hu(this,X)}};function Hu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wa(c),li(c)}function wa(c){c.A||(c.A=!0,Yt(c,"complete"),Yt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Yt(this,"complete"),Yt(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},i.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Qe(c.Ea,0,c);else if(Yt(c,"readystatechange"),On(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=ot===0){var q=String(c.D).match(Ss)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!ba.test(q?q.toLowerCase():"")}_=S}if(_)Yt(c,"complete"),Yt(c,"success");else{c.m=6;try{var X=2<On(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",wa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Ds(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Yt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ma(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(U(c[S]))continue;var _=L(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[q]||[];y[q]=X,X.push(_)}D(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Aa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){se(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Xu(this,null,this.W),Ia(this)};function Wo(c){if(Fu(c),c.G==3){var y=c.U++,_=yn(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),ks(c,_),y=new sn(c,c.j,y),y.L=2,y.v=Rs(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bs(y)}Qu(c)}function Ra(c){c.g&&(Ms(c),c.g.cancel(),c.g=null)}function Fu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!ya(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||M(),mt||(lt(),mt=!0),Ht.add(y,c),c.B=0}}function Rf(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(T(c.Ga,c,y),tl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new sn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Gu(this,q,y),_=yn(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),ks(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(Xo(X)))+"&"+y:this.m&&Ve(_,this.m,X)),va(this.h,q),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),q.T=!0,qn(q,_,null)):qn(q,_,y),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||ya(this.h)||Jo(this))};function Jo(c,y){var _;y?_=y.l:_=c.U++;const S=yn(c.I);Qt(S,"SID",c.K),Qt(S,"RID",_),Qt(S,"AID",c.T),ks(c,S),c.m&&c.o&&Ve(S,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Gu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),va(c.h,_),qn(_,S,y)}function ks(c,y){c.H&&ft(c.H,function(_,S){Qt(y,S,_)}),c.l&&Go({},function(_,S){Qt(y,S,_)})}function Gu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;t:{var q=c.i;let X=-1;for(;;){const ot=["count="+_];X==-1?0<_?(X=q[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let Pt=!0;for(let Ce=0;Ce<_;Ce++){let Lt=q[Ce].g;const Pe=q[Ce].map;if(Lt-=X,0>Lt)X=Math.max(0,q[Ce].g-100),Pt=!1;else try{si(Pe,ot,"req"+Lt+"_")}catch{S&&S(Pe)}}if(Pt){S=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||M(),mt||(lt(),mt=!0),Ht.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(T(c.Fa,c),tl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Ra(this),$u(this))};function Ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);Qt(y,"RID","rpc"),Qt(y,"SID",c.K),Qt(y,"AID",c.T),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(y,"TO",c.ja),Qt(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Ve(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Rs(yn(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ra(this),Zo(this),se(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Ca(c),Ms(c),c.g=null;var S=2}else if(qo(c.h,y))_=y.D,an(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;S=yr(),Yt(S,new Ie(S,_)),Ia(c)}else Yu(c);else if(q=y.s,q==3||q==0&&0<y.X||!(S==1&&Rf(c,y)||S==2&&Zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function tl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),S=c.Xa;const q=!S;S=new Ee(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||As(S,"https"),Rs(S),q?Cs(S.toString(),_):Fn(S.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,_){var S=_ instanceof Ee?yn(_):new Ee(_);if(S.g!="")y&&(S.g=y+"."+S.g),br(S,S.s);else{var q=m.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new Ee(null);S&&As(X,S),y&&(X.g=y),q&&br(X,q),_&&(X.l=_),S=X}return _=c.D,y=c.ya,_&&y&&Qt(S,_,y),Qt(S,"VER",c.la),ks(c,S),S}function Wu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ft(new wr({eb:_})):new Ft(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ce.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!U(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}x(on,ce),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Wo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);y.i.push(new ju(y.Ya++,c)),y.G==3&&Ia(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,on.aa.N.call(this)};function Zu(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Zu,Ni);function tc(){jo.call(this),this.status=1}x(tc,jo);function ui(c){this.g=c}x(ui,Ju),ui.prototype.ua=function(){Yt(this.g,"a")},ui.prototype.ta=function(c){Yt(this.g,new Zu(c))},ui.prototype.sa=function(c){Yt(this.g,new tc)},ui.prototype.ra=function(){Yt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,XT=function(){return new xa},QT=function(){return yr()},KT=ti,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,mh=Er,Di.COMPLETE="complete",$T=Di,Uo.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",ce.prototype.listen=ce.prototype.K,$l=Uo,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,YT=Ft}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",N0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new wp("@firebase/firestore");function ro(){return ra.logLevel}function ht(i,...t){if(ra.logLevel<=kt.DEBUG){const e=t.map(Up);ra.debug(`Firestore (${Co}): ${i}`,...e)}}function cr(i,...t){if(ra.logLevel<=kt.ERROR){const e=t.map(Up);ra.error(`Firestore (${Co}): ${i}`,...e)}}function es(i,...t){if(ra.logLevel<=kt.WARN){const e=t.map(Up);ra.warn(`Firestore (${Co}): ${i}`,...e)}}function Up(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,WT(i,s,e)}function WT(i,t,e){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw cr(s),new Error(s)}function Gt(i,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,i||WT(t,o,s)}function At(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends pr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ze.UNAUTHENTICATED))}shutdown(){}}class GC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class YC{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Gt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new JT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class $C{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KC{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Gt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Gt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new D0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function Ct(i,t){return i<t?-1:i>t?1:0}function Km(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),o=t.codePointAt(e);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=ZT(),h=WC(u.encode(O0(i,e)),u.encode(O0(t,e)));return h!==0?h:Ct(s,o)}}e+=s>65535?2:1}return Ct(i.length,t.length)}function O0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function WC(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Ct(i[e],t[e]);return Ct(i.length,t.length)}function po(i,t,e){return i.length===t.length&&i.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class gi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Tt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return gi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof gi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=gi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Ct(t.length,e.length)}static compareSegments(t,e){const s=gi.isNumericId(t),o=gi.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(t).compare(gi.extractNumericId(e)):Km(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ne extends gi{construct(t,e,s){return new ne(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends gi{construct(t,e,s){return new $e(t,e,s)}static isValidIdentifier(t){return JC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new $e([k0])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(e)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(i,t,e){if(!e)throw new ct(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function ZC(i,t,e,s){if(t===!0&&s===!0)throw new ct(et.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function M0(i){if(!gt.isDocumentKey(i))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function V0(i){if(gt.isDocumentKey(i))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function e1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function hr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Wh(i);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,t){const e={typeString:i};return t&&(e.value=t),e}function Tu(i,t){if(!e1(i))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){e=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new ct(et.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,L0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*L0);return new re(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<P0)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-P0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ae("string",re._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function tx(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new re(e+1,0):new re(e,s));return new ns(o,gt.empty(),t)}function ex(i){return new ns(i.readTime,i.key,lu)}class ns{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ns(St.min(),gt.empty(),lu)}static max(){return new ns(St.max(),gt.empty(),lu)}}function nx(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=gt.comparator(i.documentKey,t.documentKey),e!==0?e:Ct(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==ix)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,s)=>{e(t)})}static reject(t){return new it((e,s)=>{s(t)})}static waitFor(t){return new it((e,s)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&e()},p=>s(p))}),h=!0,u===o&&e()})}static or(t){let e=it.resolve(!1);for(const s of t)e=e.next(o=>o?it.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,u)=>{s.push(e.call(this,o,u))}),this.waitFor(s)}static mapArray(t,e){return new it((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(t,e){return new it((s,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):s()};u()})}}function sx(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this._e(s),this.ae=s=>e.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Jh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Zh(i){return i==null}function xh(i){return i===0&&1/i==-1/0}function ax(i){return typeof i=="number"&&Number.isInteger(i)&&!xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="";function ox(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=U0(t)),t=lx(i.get(e),t);return U0(t)}function lx(i,t){let e=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":e+="";break;case n1:e+="";break;default:e+=u}}return e}function U0(i){return i+n1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function hs(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function i1(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,e){this.comparator=t,this.root=e||Ye.EMPTY}insert(t,e){return new ue(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rh(this.root,t,this.comparator,!0)}}class rh{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Ye(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Ye(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(t){return new z0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ke(this.comparator);return e.data=t,e}}class z0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Rn([])}unionWith(t){let e=new ke($e.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Rn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new r1("Invalid base64 string: "+u):u}}(t);return new Ke(e)}static fromUint8Array(t){const e=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Ke(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if(Gt(!!i,39018),typeof i=="string"){let t=0;const e=ux.exec(i);if(Gt(!!e,46558,{timestamp:i}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(i.seconds),nanos:ye(i.nanos)}}function ye(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function rs(i){return typeof i=="string"?Ke.fromBase64String(i):Ke.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="server_timestamp",a1="__type__",o1="__previous_value__",l1="__local_write_time__";function Bp(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[a1])===null||e===void 0?void 0:e.stringValue)===s1}function tf(i){const t=i.mapValue.fields[o1];return Bp(t)?tf(t):t}function uu(i){const t=is(i.mapValue.fields[l1].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,e,s,o,u,h,m,p,g,E){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Nh="(default)";class cu{constructor(t,e){this.projectId=t,this.database=e||Nh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="__type__",hx="__max__",sh={mapValue:{}},c1="__vector__",Dh="value";function ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:dx(i)?9007199254740991:fx(i)?10:11:Tt(28295,{value:i})}function Ai(i,t){if(i===t)return!0;const e=ss(i);if(e!==ss(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return uu(i).isEqual(uu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=is(o.timestampValue),m=is(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ye(o.doubleValue),m=ye(u.doubleValue);return h===m?xh(h)===xh(m):isNaN(h)&&isNaN(m)}return!1}(i,t);case 9:return po(i.arrayValue.values||[],t.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(j0(h)!==j0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ai(h[p],m[p])))return!1;return!0}(i,t);default:return Tt(52216,{left:i})}}function hu(i,t){return(i.values||[]).find(e=>Ai(e,t))!==void 0}function go(i,t){if(i===t)return 0;const e=ss(i),s=ss(t);if(e!==s)return Ct(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ct(i.booleanValue,t.booleanValue);case 2:return function(u,h){const m=ye(u.integerValue||u.doubleValue),p=ye(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return B0(i.timestampValue,t.timestampValue);case 4:return B0(uu(i),uu(t));case 5:return Km(i.stringValue,t.stringValue);case 6:return function(u,h){const m=rs(u),p=rs(h);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ct(m[g],p[g]);if(E!==0)return E}return Ct(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Ct(ye(u.latitude),ye(h.latitude));return m!==0?m:Ct(ye(u.longitude),ye(h.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return H0(i.arrayValue,t.arrayValue);case 10:return function(u,h){var m,p,g,E;const b=u.fields||{},T=h.fields||{},I=(m=b[Dh])===null||m===void 0?void 0:m.arrayValue,x=(p=T[Dh])===null||p===void 0?void 0:p.arrayValue,j=Ct(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:H0(I,x)}(i.mapValue,t.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const T=Km(p[b],E[b]);if(T!==0)return T;const I=go(m[p[b]],g[E[b]]);if(I!==0)return I}return Ct(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Tt(23264,{le:e})}}function B0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ct(i,t);const e=is(i),s=is(t),o=Ct(e.seconds,s.seconds);return o!==0?o:Ct(e.nanos,s.nanos)}function H0(i,t){const e=i.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=go(e[o],s[o]);if(u)return u}return Ct(e.length,s.length)}function yo(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=is(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return rs(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return gt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Qm(e.fields[h])}`;return o+"}"}(i.mapValue):Tt(61005,{value:i})}function ph(i){switch(ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tf(i);return t?16+ph(t):16;case 5:return 2*i.stringValue.length;case 6:return rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ph(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return hs(s.fields,(u,h)=>{o+=u.length+ph(h)}),o}(i.mapValue);default:throw Tt(13486,{value:i})}}function q0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Xm(i){return!!i&&"integerValue"in i}function Hp(i){return!!i&&"arrayValue"in i}function F0(i){return!!i&&"nullValue"in i}function G0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gh(i){return!!i&&"mapValue"in i}function fx(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[u1])===null||e===void 0?void 0:e.stringValue)===c1}function Zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return hs(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Zl(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Zl(i.arrayValue.values[e]);return t}return Object.assign({},i)}function dx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!gh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(e)}setAll(t){let e=$e.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());gh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ai(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){hs(e,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new pn(Zl(this.value))}}function h1(i){const t=[];return hs(i.fields,(e,s)=>{const o=new $e([e]);if(gh(s)){const u=h1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,e,s,o,u,h,m){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new tn(t,0,St.min(),St.min(),St.min(),pn.empty(),0)}static newFoundDocument(t,e,s,o){return new tn(t,1,e,St.min(),s,o,0)}static newNoDocument(t,e){return new tn(t,2,e,St.min(),St.min(),pn.empty(),0)}static newUnknownDocument(t,e){return new tn(t,3,e,St.min(),St.min(),pn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e){this.position=t,this.inclusive=e}}function Y0(i,t,e){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(h.referenceValue),e.key):s=go(h,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Ai(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,e="asc"){this.field=t,this.dir=e}}function mx(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{}class Se extends f1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new gx(t,e,s):e==="array-contains"?new vx(t,s):e==="in"?new Ex(t,s):e==="not-in"?new Tx(t,s):e==="array-contains-any"?new bx(t,s):new Se(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new yx(t,s):new _x(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(go(e,this.value)):e!==null&&ss(this.value)===ss(e)&&this.matchesComparison(go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends f1{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new Wn(t,e)}matches(t){return d1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function d1(i){return i.op==="and"}function m1(i){return px(i)&&d1(i)}function px(i){for(const t of i.filters)if(t instanceof Wn)return!1;return!0}function Wm(i){if(i instanceof Se)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(m1(i))return i.filters.map(t=>Wm(t)).join(",");{const t=i.filters.map(e=>Wm(e)).join(",");return`${i.op}(${t})`}}function p1(i,t){return i instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,t):i instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&p1(h,o.filters[m]),!0):!1}(i,t):void Tt(19439)}function g1(i){return i instanceof Se?function(e){return`${e.field.canonicalString()} ${e.op} ${yo(e.value)}`}(i):i instanceof Wn?function(e){return e.op.toString()+" {"+e.getFilters().map(g1).join(" ,")+"}"}(i):"Filter"}class gx extends Se{constructor(t,e,s){super(t,e,s),this.key=gt.fromName(s.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class yx extends Se{constructor(t,e){super(t,"in",e),this.keys=y1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class _x extends Se{constructor(t,e){super(t,"not-in",e),this.keys=y1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function y1(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>gt.fromName(s.referenceValue))}class vx extends Se{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Hp(e)&&hu(e.arrayValue,this.value)}}class Ex extends Se{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&hu(this.value.arrayValue,e)}}class Tx extends Se{constructor(t,e){super(t,"not-in",e)}matches(t){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!hu(this.value.arrayValue,e)}}class bx extends Se{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Hp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,e=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function K0(i,t=null,e=[],s=[],o=null,u=null,h=null){return new wx(i,t,e,s,o,u,h)}function qp(i){const t=At(i);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Wm(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>yo(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>yo(s)).join(",")),t.Pe=e}return t.Pe}function Fp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!mx(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!p1(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!$0(i.startAt,t.startAt)&&$0(i.endAt,t.endAt)}function Jm(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,e=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Sx(i,t,e,s,o,u,h,m){return new bu(i,t,e,s,o,u,h,m)}function Gp(i){return new bu(i)}function Q0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _1(i){return i.collectionGroup!==null}function tu(i){const t=At(i);if(t.Te===null){t.Te=[];const e=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new ke($e.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Te.push(new kh(u,s))}),e.has($e.keyField().canonicalString())||t.Te.push(new kh($e.keyField(),s))}return t.Te}function Ei(i){const t=At(i);return t.Ie||(t.Ie=Ax(t,tu(i))),t.Ie}function Ax(i,t){if(i.limitType==="F")return K0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kh(o.field,u)});const e=i.endAt?new Oh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Oh(i.startAt.position,i.startAt.inclusive):null;return K0(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function Zm(i,t){const e=i.filters.concat([t]);return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Mh(i,t,e){return new bu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function ef(i,t){return Fp(Ei(i),Ei(t))&&i.limitType===t.limitType}function v1(i){return`${qp(Ei(i))}|lt:${i.limitType}`}function so(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>g1(o)).join(", ")}]`),Zh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>yo(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>yo(o)).join(",")),`Target(${s})`}(Ei(i))}; limitType=${i.limitType})`}function nf(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=Y0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,tu(s),o)||s.endAt&&!function(h,m,p){const g=Y0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,tu(s),o))}(i,t)}function Rx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function E1(i){return(t,e)=>{let s=!1;for(const o of tu(i)){const u=Ix(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Ix(i,t,e){const s=i.field.isKeyField()?gt.comparator(t.key,e.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):Tt(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){hs(this.inner,(e,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new ue(gt.comparator);function fr(){return Cx}const T1=new ue(gt.comparator);function Kl(...i){let t=T1;for(const e of i)t=t.insert(e.key,e);return t}function b1(i){let t=T1;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Js(){return eu()}function w1(){return eu()}function eu(){return new oa(i=>i.toString(),(i,t)=>i.isEqual(t))}const xx=new ue(gt.comparator),Nx=new ke(gt.comparator);function Mt(...i){let t=Nx;for(const e of i)t=t.add(e);return t}const Dx=new ke(Ct);function Ox(){return Dx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function S1(i){return{integerValue:""+i}}function kx(i,t){return ax(t)?S1(t):Yp(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function Mx(i,t,e){return i instanceof Vh?function(o,u){const h={fields:{[a1]:{stringValue:s1},[l1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=tf(u)),u&&(h.fields[o1]=u),{mapValue:h}}(e,t):i instanceof _o?R1(i,t):i instanceof vo?I1(i,t):function(o,u){const h=A1(o,u),m=X0(h)+X0(o.Ee);return Xm(h)&&Xm(o.Ee)?S1(m):Yp(o.serializer,m)}(i,t)}function Vx(i,t,e){return i instanceof _o?R1(i,t):i instanceof vo?I1(i,t):e}function A1(i,t){return i instanceof Ph?function(s){return Xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Vh extends rf{}class _o extends rf{constructor(t){super(),this.elements=t}}function R1(i,t){const e=C1(t);for(const s of i.elements)e.some(o=>Ai(o,s))||e.push(s);return{arrayValue:{values:e}}}class vo extends rf{constructor(t){super(),this.elements=t}}function I1(i,t){let e=C1(t);for(const s of i.elements)e=e.filter(o=>!Ai(o,s));return{arrayValue:{values:e}}}class Ph extends rf{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function X0(i){return ye(i.integerValue||i.doubleValue)}function C1(i){return Hp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,e){this.field=t,this.transform=e}}function Px(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof _o&&o instanceof _o||s instanceof vo&&o instanceof vo?po(s.elements,o.elements,Ai):s instanceof Ph&&o instanceof Ph?Ai(s.Ee,o.Ee):s instanceof Vh&&o instanceof Vh}(i.transform,t.transform)}class Lx{constructor(t,e){this.version=t,this.transformResults=e}}class Ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class sf{}function N1(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new O1(i.key,Ti.none()):new wu(i.key,i.data,Ti.none());{const e=i.data,s=pn.empty();let o=new ke($e.comparator);for(let u of t.fields)if(!o.has(u)){let h=e.field(u);h===null&&u.length>1&&(u=u.popLast(),h=e.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new fs(i.key,s,new Rn(o.toArray()),Ti.none())}}function Ux(i,t,e){i instanceof wu?function(o,u,h){const m=o.value.clone(),p=J0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,t,e):i instanceof fs?function(o,u,h){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=J0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(D1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,t,e):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,e)}function nu(i,t,e,s){return i instanceof wu?function(u,h,m,p){if(!yh(u.precondition,h))return m;const g=u.value.clone(),E=Z0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,t,e,s):i instanceof fs?function(u,h,m,p){if(!yh(u.precondition,h))return m;const g=Z0(u.fieldTransforms,p,h),E=h.data;return E.setAll(D1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,t,e,s):function(u,h,m){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,t,e)}function jx(i,t){let e=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=A1(s.transform,o||null);u!=null&&(e===null&&(e=pn.empty()),e.set(s.field,u))}return e||null}function W0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,h)=>Px(u,h))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class wu extends sf{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends sf{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D1(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function J0(i,t,e){const s=new Map;Gt(i.length===e.length,32656,{Ae:e.length,Re:i.length});for(let o=0;o<e.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,Vx(h,m,e[o]))}return s}function Z0(i,t,e){const s=new Map;for(const o of i){const u=o.transform,h=e.data.field(o.field);s.set(o.field,Mx(u,h,t))}return s}class O1 extends sf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends sf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Ux(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=nu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=nu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=w1();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=e.has(o.key)?null:m;const p=N1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Mt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(e,s)=>W0(e,s))&&po(this.baseMutations,t.baseMutations,(e,s)=>W0(e,s))}}class $p{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Gt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return xx}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new $p(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,jt;function Fx(i){switch(i){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function k1(i){if(i===void 0)return cr("GRPC error has no .code"),et.UNKNOWN;switch(i){case we.OK:return et.OK;case we.CANCELLED:return et.CANCELLED;case we.UNKNOWN:return et.UNKNOWN;case we.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case we.INTERNAL:return et.INTERNAL;case we.UNAVAILABLE:return et.UNAVAILABLE;case we.UNAUTHENTICATED:return et.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case we.NOT_FOUND:return et.NOT_FOUND;case we.ALREADY_EXISTS:return et.ALREADY_EXISTS;case we.PERMISSION_DENIED:return et.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case we.ABORTED:return et.ABORTED;case we.OUT_OF_RANGE:return et.OUT_OF_RANGE;case we.UNIMPLEMENTED:return et.UNIMPLEMENTED;case we.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:i})}}(jt=we||(we={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new Zr([4294967295,4294967295],0);function tE(i){const t=ZT().encode(i),e=new GT;return e.update(t),new Uint8Array(e.digest())}function eE(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([e,s],0),new Zr([o,u],0)]}class Kp{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Ql(`Invalid padding: ${e}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=Zr.fromNumber(this.fe)}pe(t,e,s){let o=t.add(e.multiply(Zr.fromNumber(s)));return o.compare(Gx)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=tE(t),[s,o]=eE(e);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Kp(u,o,e);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.fe===0)return;const e=tE(t),[s,o]=eE(e);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Su.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new af(St.min(),o,new ue(Ct),fr(),Mt())}}class Su{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Su(s,e,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,e,s,o){this.Se=t,this.removedTargetIds=e,this.key=s,this.be=o}}class M1{constructor(t,e){this.targetId=t,this.De=e}}class V1{constructor(t,e,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class nE{constructor(){this.ve=0,this.Ce=iE(),this.Fe=Ke.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Mt(),e=Mt(),s=Mt();return this.Ce.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new Su(this.Fe,this.Me,t,e,s)}ke(){this.xe=!1,this.Ce=iE()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Yx{constructor(t){this.We=t,this.Ge=new Map,this.ze=fr(),this.je=ah(),this.Je=ah(),this.He=new ue(Ct)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,e=>{const s=this.tt(e);switch(t.state){case 0:this.nt(e)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),s.Be(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach((s,o)=>{this.nt(o)&&e(o)})}it(t){const e=t.targetId,s=t.De.count,o=this.st(e);if(o){const u=o.target;if(Jm(u))if(s===0){const h=new gt(u.path);this.Xe(e,h,tn.newNoDocument(h,St.min()))}else Gt(s===1,20013,{expectedCount:s});else{const h=this.ot(e);if(h!==s){const m=this._t(t),p=m?this.ut(m,t,h):1;if(p!==0){this.rt(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,g)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let h,m;try{h=rs(s).toUint8Array()}catch(p){if(p instanceof r1)return es("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(h,o,u)}catch(p){return es(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,e,s){return e.De.count===s-this.ht(t,e.targetId)?0:2}ht(t,e){const s=this.We.getRemoteKeysForTarget(e);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(e,u,null),o++)}),o}Pt(t){const e=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Jm(m.target)){const p=new gt(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,tn.newNoDocument(p,t))}u.Ne&&(e.set(h,u.Le()),u.ke())}});let s=Mt();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(t));const o=new af(t,e,this.He,this.ze,s);return this.ze=fr(),this.je=ah(),this.Je=ah(),this.He=new ue(Ct),o}Ze(t,e){if(!this.nt(t))return;const s=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,s),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,e)?o.qe(e,1):o.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),s&&(this.ze=this.ze.insert(e,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new nE,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new ke(Ct),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new ke(Ct),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new nE),this.We.getRemoteKeysForTarget(t).forEach(e=>{this.Xe(t,e,null)})}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function ah(){return new ue(gt.comparator)}function iE(){return new ue(gt.comparator)}const $x={asc:"ASCENDING",desc:"DESCENDING"},Kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qx={and:"AND",or:"OR"};class Xx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function tp(i,t){return i.useProto3Json||Zh(t)?t:{value:t}}function Lh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function P1(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Wx(i,t){return Lh(i,t.toTimestamp())}function bi(i){return Gt(!!i,49232),St.fromTimestamp(function(e){const s=is(e);return new re(s.seconds,s.nanos)}(i))}function Qp(i,t){return ep(i,t).canonicalString()}function ep(i,t){const e=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?e:e.child(t)}function L1(i){const t=ne.fromString(i);return Gt(H1(t),10190,{key:t.toString()}),t}function np(i,t){return Qp(i.databaseId,t.path)}function Om(i,t){const e=L1(t);if(e.get(1)!==i.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new gt(j1(e))}function U1(i,t){return Qp(i.databaseId,t)}function Jx(i){const t=L1(i);return t.length===4?ne.emptyPath():j1(t)}function ip(i){return new ne(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function j1(i){return Gt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rE(i,t,e){return{name:np(i,t),fields:e.value.mapValue.fields}}function Zx(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const E=g.code===void 0?et.UNKNOWN:k1(g.code);return new ct(E,g.message||"")}(h);e=new V1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(i,s.document.name),u=bi(s.document.updateTime),h=s.document.createTime?bi(s.document.createTime):St.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];e=new _h(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Om(i,s.document),u=s.readTime?bi(s.readTime):St.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];e=new _h([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Om(i,s.document),u=s.removedTargetIds||[];e=new _h([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new qx(o,u),m=s.targetId;e=new M1(m,h)}}return e}function tN(i,t){let e;if(t instanceof wu)e={update:rE(i,t.key,t.value)};else if(t instanceof O1)e={delete:np(i,t.key)};else if(t instanceof fs)e={update:rE(i,t.key,t.data),updateMask:uN(t.fieldMask)};else{if(!(t instanceof zx))return Tt(16599,{Rt:t.type});e={verify:np(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _o)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Tt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Wx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(i,t.precondition)),e}function eN(i,t){return i&&i.length>0?(Gt(t!==void 0,14353),i.map(e=>function(o,u){let h=o.updateTime?bi(o.updateTime):bi(u);return h.isEqual(St.min())&&(h=bi(u)),new Lx(h,o.transformResults||[])}(e,t))):[]}function nN(i,t){return{documents:[U1(i,t.path)]}}function iN(i,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=U1(i,o);const u=function(g){if(g.length!==0)return B1(Wn.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(T){return{field:ao(T.field),direction:aN(T.dir)}}(E))}(t.orderBy);h&&(e.structuredQuery.orderBy=h);const m=tp(i,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:e,parent:o}}function rN(i){let t=Jx(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=e.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];e.where&&(u=function(b){const T=z1(b);return T instanceof Wn&&m1(T)?T.getFilters():[T]}(e.where));let h=[];e.orderBy&&(h=function(b){return b.map(T=>function(x){return new kh(oo(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(T))}(e.orderBy));let m=null;e.limit&&(m=function(b){let T;return T=typeof b=="object"?b.value:b,Zh(T)?null:T}(e.limit));let p=null;e.startAt&&(p=function(b){const T=!!b.before,I=b.values||[];return new Oh(I,T)}(e.startAt));let g=null;return e.endAt&&(g=function(b){const T=!b.before,I=b.values||[];return new Oh(I,T)}(e.endAt)),Sx(t,o,h,u,m,"F",p,g)}function sN(i,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function z1(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=oo(e.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(e.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(e.unaryFilter.field);return Se.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(e.unaryFilter.field);return Se.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(i):i.fieldFilter!==void 0?function(e){return Se.create(oo(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Wn.create(e.compositeFilter.filters.map(s=>z1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(e.compositeFilter.op))}(i):Tt(30097,{filter:i})}function aN(i){return $x[i]}function oN(i){return Kx[i]}function lN(i){return Qx[i]}function ao(i){return{fieldPath:i.canonicalString()}}function oo(i){return $e.fromServerFormat(i.fieldPath)}function B1(i){return i instanceof Se?function(e){if(e.op==="=="){if(G0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NAN"}};if(F0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(G0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NOT_NAN"}};if(F0(e.value))return{unaryFilter:{field:ao(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(e.field),op:oN(e.op),value:e.value}}}(i):i instanceof Wn?function(e){const s=e.getFilters().map(o=>B1(o));return s.length===1?s[0]:{compositeFilter:{op:lN(e.op),filters:s}}}(i):Tt(54877,{filter:i})}function uN(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function H1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,e,s,o,u=St.min(),h=St.min(),m=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.gt=t}}function hN(i){const t=rN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Mh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.Dn=new dN}addToCollectionParentIndex(t,e){return this.Dn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(ns.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(ns.min())}updateCollectionGroup(t,e,s){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class dN{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new ke(ne.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(q1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Eo(0)}static ur(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",mN=1048576;function oE([i,t],[e,s]){const o=Ct(i,e);return o===0?Ct(t,s):o}class pN{constructor(t){this.Tr=t,this.buffer=new ke(oE),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();oE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class gN{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(aE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){No(e)?ht(aE,"Ignoring IndexedDB error during garbage collection: ",e):await xo(e)}await this.Rr(3e5)})}}class yN{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return it.resolve(Jh.ue);const s=new pN(e);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(sE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.pr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,e))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(g=Date.now(),ro()<=kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function _N(i,t){return new yN(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.changes=new oa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?it.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&nu(s.mutation,o,Rn.empty(),re.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Mt()){const o=Js();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(u=>{let h=Kl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,e){const s=Js();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Mt()))}populateOverlays(t,e,s){const o=[];return s.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{e.set(h,m)})})}computeViews(t,e,s,o){let u=fr();const h=eu(),m=function(){return eu()}();return e.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof fs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),nu(E.mutation,g,E.mutation.getFieldMask(),re.now())):h.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),e.forEach((g,E)=>{var b;return m.set(g,new EN(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,e){const s=eu();let o=new ue((h,m)=>h-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=w1();E.forEach(T=>{if(!u.has(T)){const I=N1(e.get(T),s.get(T));I!==null&&b.set(T,I),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,b))}return it.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):it.resolve(Js());let m=lu,p=u;return h.next(g=>it.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next(T=>{p=p.insert(E,T)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Mt())).next(E=>({batchId:m,changes:b1(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(t,u).next(m=>it.forEach(m,p=>{const g=function(b,T){return new bu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((b,T)=>{h=h.insert(b,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))});let m=Kl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,g,Rn.empty(),re.now()),nf(e,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return it.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,function(o){return{name:o.name,query:hN(o.bundledQuery),readTime:bi(o.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.overlays=new ue(gt.comparator),this.kr=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Js();return it.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,u)=>{this.wt(t,e,u)}),it.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),it.resolve()}getOverlaysForCollection(t,e,s){const o=Js(),u=e.length+1,h=new gt(e.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new ue((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return it.resolve(m)}wt(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Hx(e,s));let u=this.kr.get(e);u===void 0&&(u=Mt(),this.kr.set(e,u)),this.kr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.qr=new ke(ze.Qr),this.$r=new ke(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const s=new ze(t,e);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.Wr(new ze(t,e))}Gr(t,e){t.forEach(s=>this.removeReference(s,e))}zr(t){const e=new gt(new ne([])),s=new ze(e,t),o=new ze(e,t+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new gt(new ne([])),s=new ze(e,t),o=new ze(e,t+1);let u=Mt();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(t){const e=new ze(t,0),s=this.qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return gt.comparator(t.key,e.key)||Ct(t.Hr,e.Hr)}static Ur(t,e){return Ct(t.Hr,e.Hr)||gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new ke(ze.Qr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Bx(u,e,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,e){return it.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.Xr(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?zp:this.er-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new ze(e,0),o=new ze(e,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new ke(Ct);return e.forEach(o=>{const u=new ze(o,0),h=new ze(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),it.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const h=new ze(new gt(u),0);let m=new ke(Ct);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),it.resolve(this.ei(m))}ei(t){const e=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Gt(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return it.forEach(e.mutations,o=>{const u=new ze(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,e){const s=new ze(e,0),o=this.Yr.firstAfterOrEqual(s);return it.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.ni=t,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return it.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(e))}getEntries(t,e){let s=fr();return e.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),it.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=fr();const h=e.path,m=new gt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||nx(ex(E),s)<=0||(o.has(E.key)||nf(e,E))&&(u=u.insert(E.key,E.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,e,s,o){Tt(9500)}ri(t,e){return it.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new IN(this)}getSize(t){return it.resolve(this.size)}}class IN extends vN{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),it.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.persistence=t,this.ii=new oa(e=>qp(e),Fp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Xp,this.targetCount=0,this._i=Eo.ar()}forEachTarget(t,e){return this.ii.forEach((s,o)=>e(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.si&&(this.si=e),it.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new Eo(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.hr(e),it.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=e&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),it.waitFor(u).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const s=this.ii.get(e)||null;return it.resolve(s)}addMatchingKeys(t,e,s){return this.oi.Kr(e,s),it.resolve()}removeMatchingKeys(t,e,s){this.oi.Gr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),it.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),it.resolve()}getMatchingKeysForTargetId(t,e){const s=this.oi.Jr(e);return it.resolve(s)}containsKey(t,e){return it.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,e){this.ai={},this.overlays={},this.ui=new Jh(0),this.ci=!1,this.ci=!0,this.li=new SN,this.referenceDelegate=t(this),this.hi=new CN(this),this.indexManager=new fN,this.remoteDocumentCache=function(o){return new RN(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new cN(e),this.Ti=new bN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new wN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ai[t.toKey()];return s||(s=new AN(e,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const o=new xN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(t,e){return it.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,e)))}}class xN extends rx{constructor(t){super(),this.currentSequenceNumber=t}}class Wp{constructor(t){this.persistence=t,this.Ai=new Xp,this.Ri=null}static Vi(t){return new Wp(t)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(t,e,s){return this.Ai.addReference(s,e),this.mi.delete(s.toString()),it.resolve()}removeReference(t,e,s){return this.Ai.removeReference(s,e),this.mi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.mi,s=>{const o=gt.fromPath(s);return this.fi(t,o).next(u=>{u||e.removeEntry(o,St.min())})}).next(()=>(this.Ri=null,e.apply(t)))}updateLimboDocument(t,e){return this.fi(t,e).next(s=>{s?this.mi.delete(e.toString()):this.mi.add(e.toString())})}Pi(t){return 0}fi(t,e){return it.or([()=>it.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Uh{constructor(t,e){this.persistence=t,this.gi=new oa(s=>ox(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_N(this,e)}static Vi(t,e){return new Uh(t,e)}Ii(){}di(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}yr(t){let e=0;return this.gr(t,s=>{e++}).next(()=>e)}gr(t,e){return it.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(u=>u?it.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,h=>this.Sr(t,h,e).next(m=>{m||(s++,u.removeEntry(h,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.gi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,e,s){return this.gi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),it.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ph(t.data.value)),e}Sr(t,e,s){return it.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.gi.get(e);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Is=s,this.ds=o}static Es(t,e){let s=Mt(),o=Mt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return hR()?8:sx(nn())>0?6:4}()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ps(t,e).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(t,e,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new NN;return this.ws(t,e,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(t,e,h,m.size)})}).next(()=>u.result)}Ss(t,e,s,o){return s.documentReadCount<this.Vs?(ro()<=kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",so(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(ro()<=kt.DEBUG&&ht("QueryEngine","Query:",so(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ro()<=kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",so(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(e))):it.resolve())}ps(t,e){if(Q0(e))return it.resolve(null);let s=Ei(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Mh(e,null,"F"),s=Ei(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const h=Mt(...u);return this.gs.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.bs(e,m);return this.Ds(e,g,h,p.readTime)?this.ps(t,Mh(e,null,"F")):this.vs(t,g,e,p)}))})))}ys(t,e,s,o){return Q0(e)||o.isEqual(St.min())?it.resolve(null):this.gs.getDocuments(t,s).next(u=>{const h=this.bs(e,u);return this.Ds(e,h,s,o)?it.resolve(null):(ro()<=kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(e)),this.vs(t,h,e,tx(o,lu)).next(m=>m))})}bs(t,e){let s=new ke(E1(t));return e.forEach((o,u)=>{nf(t,u)&&(s=s.add(u))}),s}Ds(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,e,s){return ro()<=kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",so(e)),this.gs.getDocumentsMatchingQuery(t,e,ns.min(),s)}vs(t,e,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(u=>(e.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",ON=3e8;class kN{constructor(t,e,s,o){this.persistence=t,this.Cs=e,this.serializer=o,this.Fs=new ue(Ct),this.Ms=new oa(u=>qp(u),Fp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Fs))}}function MN(i,t,e,s){return new kN(i,t,e,s)}async function G1(i,t){const e=At(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,e.Ns(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Mt();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return e.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function VN(i,t){const e=At(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=e.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,T=b.keys();let I=it.resolve();return T.forEach(x=>{I=I.next(()=>E.getEntry(p,x)).next(j=>{const V=g.docVersions.get(x);Gt(V!==null,48541),j.version.compareTo(V)<0&&(b.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),E.addEntry(j)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function Y1(i){const t=At(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function PN(i,t){const e=At(i),s=t.snapshotVersion;let o=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=e.Os.newChangeBuffer({trackRemovals:!0});o=e.Fs;const m=[];t.targetChanges.forEach((E,b)=>{const T=o.get(b);if(!T)return;m.push(e.hi.removeMatchingKeys(u,E.removedDocuments,b).next(()=>e.hi.addMatchingKeys(u,E.addedDocuments,b)));let I=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?I=I.withResumeToken(Ke.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(b,I),function(j,V,G){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=ON?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,I,E)&&m.push(e.hi.updateTargetData(u,I))});let p=fr(),g=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(LN(u,h,t.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(St.min())){const E=e.hi.getLastRemoteSnapshotVersion(u).next(b=>e.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return it.waitFor(m).next(()=>h.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(e.Fs=o,u))}function LN(i,t,e){let s=Mt(),o=Mt();return e.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let h=fr();return e.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ht(Zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function UN(i,t){const e=At(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=zp),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function jN(i,t){const e=At(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.hi.getTargetData(s,t).next(u=>u?(o=u,it.resolve(o)):e.hi.allocateTargetId(s).next(h=>(o=new Qr(t,h,"TargetPurposeListen",s.currentSequenceNumber),e.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(s.targetId,s),e.Ms.set(t,s.targetId)),s})}async function rp(i,t,e){const s=At(i),o=s.Fs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!No(h))throw h;ht(Zp,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function lE(i,t,e){const s=At(i);let o=St.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=At(p),T=b.Ms.get(E);return T!==void 0?it.resolve(b.Fs.get(T)):b.hi.getTargetData(g,E)}(s,h,Ei(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,t,e?o:St.min(),e?u:Mt())).next(m=>(zN(s,Rx(t),m),{documents:m,qs:u})))}function zN(i,t,e){let s=i.xs.get(t)||St.min();e.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(t,s)}class uE{constructor(){this.activeTargetIds=Ox()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BN{constructor(){this.Fo=new uE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,s){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new uE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(cE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(cE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function sp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FN{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,e,s,o,u){const h=sp(),m=this.Go(t,e.toUriEncodedString());ht(km,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Ao(g);return this.jo(t,m,p,s,E).then(b=>(ht(km,`Received RPC '${t}' ${h}: `,b),b),b=>{throw es(km,`RPC '${t}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Jo(t,e,s,o,u,h){return this.Wo(t,e,s,o,u)}zo(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}Go(t,e){const s=qN[t];return`${this.$o}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class YN extends FN{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,s,o,u){const h=sp();return new Promise((m,p)=>{const g=new YT;g.setWithCredentials(!0),g.listenOnce($T.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const b=g.getResponseJson();ht(Je,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(b)),m(b);break;case mh.TIMEOUT:ht(Je,`RPC '${t}' ${h} timed out`),p(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const T=g.getStatus();if(ht(Je,`RPC '${t}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I==null?void 0:I.error;if(x&&x.status&&x.message){const j=function(G){const U=G.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(U)>=0?U:et.UNKNOWN}(x.status);p(new ct(j,x.message))}else p(new ct(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ht(Je,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);ht(Je,`RPC '${t}' ${h} sending request:`,o),g.send(e,"POST",E,s,15)})}P_(t,e,s){const o=sp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=XT(),m=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(Je,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);this.T_(b);let T=!1,I=!1;const x=new GN({Ho:V=>{I?ht(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(T||(ht(Je,`Opening RPC '${t}' stream ${o} transport.`),b.open(),T=!0),ht(Je,`RPC '${t}' stream ${o} sending:`,V),b.send(V))},Yo:()=>b.close()}),j=(V,G,U)=>{V.listen(G,Q=>{try{U(Q)}catch(J){setTimeout(()=>{throw J},0)}})};return j(b,$l.EventType.OPEN,()=>{I||(ht(Je,`RPC '${t}' stream ${o} transport opened.`),x.s_())}),j(b,$l.EventType.CLOSE,()=>{I||(I=!0,ht(Je,`RPC '${t}' stream ${o} transport closed`),x.__(),this.I_(b))}),j(b,$l.EventType.ERROR,V=>{I||(I=!0,es(Je,`RPC '${t}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),x.__(new ct(et.UNAVAILABLE,"The operation could not be completed")))}),j(b,$l.EventType.MESSAGE,V=>{var G;if(!I){const U=V.data[0];Gt(!!U,16349);const Q=U,J=(Q==null?void 0:Q.error)||((G=Q[0])===null||G===void 0?void 0:G.error);if(J){ht(Je,`RPC '${t}' stream ${o} received error:`,J);const at=J.status;let ft=function(R){const k=we[R];if(k!==void 0)return k1(k)}(at),D=J.message;ft===void 0&&(ft=et.INTERNAL,D="Unknown error status: "+at+" with message "+J.message),I=!0,x.__(new ct(ft,D)),b.close()}else ht(Je,`RPC '${t}' stream ${o} received:`,U),x.a_(U)}}),j(m,KT.STAT_EVENT,V=>{V.stat===$m.PROXY?ht(Je,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===$m.NOPROXY&&ht(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(e=>e===t)}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new Xx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=e,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,e-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class K1{constructor(t,e,s,o,u,h,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $1(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===et.RESOURCE_EXHAUSTED?(cr(e.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===e&&this.W_(s,o)},s=>{t(()=>{const o=new ct(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,e){const s=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ht(fE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget(()=>this.b_===t?e():(ht(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $N extends K1{constructor(t,e,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,h),this.serializer=u}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=Zx(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?bi(h.readTime):St.min()}(t);return this.listener.J_(e,s)}H_(t){const e={};e.database=ip(this.serializer),e.addTarget=function(u,h){let m;const p=h.target;if(m=Jm(p)?{documents:nN(u,p)}:{query:iN(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=P1(u,h.resumeToken);const g=tp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=Lh(u,h.snapshotVersion.toTimestamp());const g=tp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=sN(this.serializer,t);s&&(e.labels=s),this.k_(e)}Y_(t){const e={};e.database=ip(this.serializer),e.removeTarget=t,this.k_(e)}}class KN extends K1{constructor(t,e,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=eN(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.ta(s,e)}na(){const t={};t.database=ip(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>tN(this.serializer,s))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{}class XN extends QN{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,ep(e,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(et.UNKNOWN,u.toString())})}Jo(t,e,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(t,ep(e,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(et.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class WN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(cr(e),this._a=!1):ht("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class JN{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{la(this)&&(ht(sa,"Restarting streams for network reachability change."),await async function(p){const g=At(p);g.Ia.add(4),await Au(g),g.Aa.set("Unknown"),g.Ia.delete(4),await lf(g)}(this))})}),this.Aa=new WN(s,o)}}async function lf(i){if(la(i))for(const t of i.da)await t(!0)}async function Au(i){for(const t of i.da)await t(!1)}function Q1(i,t){const e=At(i);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),ig(e)?ng(e):Do(e).x_()&&eg(e,t))}function tg(i,t){const e=At(i),s=Do(e);e.Ta.delete(t),s.x_()&&X1(e,t),e.Ta.size===0&&(s.x_()?s.B_():la(e)&&e.Aa.set("Unknown"))}function eg(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Do(i).H_(t)}function X1(i,t){i.Ra.$e(t),Do(i).Y_(t)}function ng(i){i.Ra=new Yx({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Aa.aa()}function ig(i){return la(i)&&!Do(i).M_()&&i.Ta.size>0}function la(i){return At(i).Ia.size===0}function W1(i){i.Ra=void 0}async function ZN(i){i.Aa.set("Online")}async function tD(i){i.Ta.forEach((t,e)=>{eg(i,t)})}async function eD(i,t){W1(i),ig(i)?(i.Aa.la(t),ng(i)):i.Aa.set("Unknown")}async function nD(i,t,e){if(i.Aa.set("Online"),t instanceof V1&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,t)}catch(s){ht(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jh(i,s)}else if(t instanceof _h?i.Ra.Ye(t):t instanceof M1?i.Ra.it(t):i.Ra.et(t),!e.isEqual(St.min()))try{const s=await Y1(i.localStore);e.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),X1(u,p);const b=new Qr(E.target,p,g,E.sequenceNumber);eg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,e)}catch(s){ht(sa,"Failed to raise snapshot:",s),await jh(i,s)}}async function jh(i,t,e){if(!No(t))throw t;i.Ia.add(1),await Au(i),i.Aa.set("Offline"),e||(e=()=>Y1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ht(sa,"Retrying IndexedDB access"),await e(),i.Ia.delete(1),await lf(i)})}function J1(i,t){return t().catch(e=>jh(i,e,t))}async function uf(i){const t=At(i),e=as(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:zp;for(;iD(t);)try{const o=await UN(t.localStore,s);if(o===null){t.Pa.length===0&&e.B_();break}s=o.batchId,rD(t,o)}catch(o){await jh(t,o)}Z1(t)&&tb(t)}function iD(i){return la(i)&&i.Pa.length<10}function rD(i,t){i.Pa.push(t);const e=as(i);e.x_()&&e.Z_&&e.X_(t.mutations)}function Z1(i){return la(i)&&!as(i).M_()&&i.Pa.length>0}function tb(i){as(i).start()}async function sD(i){as(i).na()}async function aD(i){const t=as(i);for(const e of i.Pa)t.X_(e.mutations)}async function oD(i,t,e){const s=i.Pa.shift(),o=$p.from(s,t,e);await J1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function lD(i,t){t&&as(i).Z_&&await async function(s,o){if(function(h){return Fx(h)&&h!==et.ABORTED}(o.code)){const u=s.Pa.shift();as(s).N_(),await J1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,t),Z1(i)&&tb(i)}async function dE(i,t){const e=At(i);e.asyncQueue.verifyOperationInProgress(),ht(sa,"RemoteStore received new credentials");const s=la(e);e.Ia.add(3),await Au(e),s&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await lf(e)}async function uD(i,t){const e=At(i);t?(e.Ia.delete(2),await lf(e)):t||(e.Ia.add(2),await Au(e),e.Aa.set("Unknown"))}function Do(i){return i.Va||(i.Va=function(e,s,o){const u=At(e);return u.ia(),new $N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:ZN.bind(null,i),e_:tD.bind(null,i),n_:eD.bind(null,i),J_:nD.bind(null,i)}),i.da.push(async t=>{t?(i.Va.N_(),ig(i)?ng(i):i.Aa.set("Unknown")):(await i.Va.stop(),W1(i))})),i.Va}function as(i){return i.ma||(i.ma=function(e,s,o){const u=At(e);return u.ia(),new KN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:sD.bind(null,i),n_:lD.bind(null,i),ea:aD.bind(null,i),ta:oD.bind(null,i)}),i.da.push(async t=>{t?(i.ma.N_(),await uf(i)):(await i.ma.stop(),i.Pa.length>0&&(ht(sa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const h=Date.now()+s,m=new rg(t,e,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,t){if(cr("AsyncQueue",`${t}: ${i}`),No(i))return new ct(et.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||gt.comparator(e.key,s.key):(e,s)=>gt.comparator(e.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new ho;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.fa=new ue(gt.comparator)}track(t){const e=t.doc.key,s=this.fa.get(e);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(e,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(e):t.type===1&&s.type===2?this.fa=this.fa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Tt(63341,{At:t,ga:s}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal((e,s)=>{t.push(s)}),t}}class To{constructor(t,e,s,o,u,h,m,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const h=[];return e.forEach(m=>{h.push({type:0,doc:m})}),new To(t,e,ho.emptySet(e),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class hD{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,s){const o=At(e),u=o.queries;o.queries=pE(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function pE(){return new oa(i=>v1(i),ef)}async function eb(i,t){const e=At(i);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new cD,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await e.onListen(o,!0);break;case 1:u.ya=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${so(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.wa.push(t),t.va(e.onlineState),u.ya&&t.Ca(u.ya)&&ag(e)}async function nb(i,t){const e=At(i),s=t.query;let o=3;const u=e.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function fD(i,t){const e=At(i);let s=!1;for(const o of t){const u=o.query,h=e.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&ag(e)}function dD(i,t,e){const s=At(i),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(e);s.queries.delete(t)}function ag(i){i.Da.forEach(t=>{t.next()})}var ap,gE;(gE=ap||(ap={})).Fa="default",gE.Cache="cache";class ib{constructor(t,e,s){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new To(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const s=e!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t){this.key=t}}class sb{constructor(t){this.key=t}}class mD{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=E1(t),this.eu=new ho(this.Xa)}get tu(){return this.Ha}nu(t,e){const s=e?e.ru:new mE,o=e?e.eu:this.eu;let u=e?e.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const T=o.get(E),I=nf(this.query,b)?b:null,x=!!T&&this.mutatedKeys.has(T.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;T&&I?T.data.isEqual(I.data)?x!==j&&(s.track({type:3,doc:I}),V=!0):this.iu(T,I)||(s.track({type:2,doc:I}),V=!0,(p&&this.Xa(I,p)>0||g&&this.Xa(I,g)<0)&&(m=!0)):!T&&I?(s.track({type:0,doc:I}),V=!0):T&&!I&&(s.track({type:1,doc:T}),V=!0,(p||g)&&(m=!0)),V&&(I?(h=h.add(I),u=j?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort((E,b)=>function(I,x){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:V})}};return j(I)-j(x)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(s),o=o!=null&&o;const m=e&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new To(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new mE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Mt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const e=[];return t.forEach(s=>{this.Za.has(s)||e.push(new sb(s))}),this.Za.forEach(s=>{t.has(s)||e.push(new rb(s))}),e}uu(t){this.Ha=t.qs,this.Za=Mt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return To.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const og="SyncEngine";class pD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class gD{constructor(t){this.key=t,this.lu=!1}}class yD{constructor(t,e,s,o,u,h){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new oa(m=>v1(m),ef),this.Tu=new Map,this.Iu=new Set,this.du=new ue(gt.comparator),this.Eu=new Map,this.Au=new Xp,this.Ru={},this.Vu=new Map,this.mu=Eo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _D(i,t,e=!0){const s=hb(i);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await ab(s,t,e,!0),o}async function vD(i,t){const e=hb(i);await ab(e,t,!0,!1)}async function ab(i,t,e,s){const o=await jN(i.localStore,Ei(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,e);let m;return s&&(m=await ED(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&e&&Q1(i.remoteStore,o),m}async function ED(i,t,e,s,o){i.gu=(b,T,I)=>async function(j,V,G,U){let Q=V.view.nu(G);Q.Ds&&(Q=await lE(j.localStore,V.query,!1).then(({documents:D})=>V.view.nu(D,Q)));const J=U&&U.targetChanges.get(V.targetId),at=U&&U.targetMismatches.get(V.targetId)!=null,ft=V.view.applyChanges(Q,j.isPrimaryClient,J,at);return _E(j,V.targetId,ft._u),ft.snapshot}(i,b,T,I);const u=await lE(i.localStore,t,!0),h=new mD(t,u.qs),m=h.nu(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);_E(i,e,g._u);const E=new pD(t,e,h);return i.Pu.set(t,E),i.Tu.has(e)?i.Tu.get(e).push(t):i.Tu.set(e,[t]),g.snapshot}async function TD(i,t,e){const s=At(i),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!ef(h,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&tg(s.remoteStore,o.targetId),op(s,o.targetId)}).catch(xo)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function bD(i,t){const e=At(i),s=e.Pu.get(t),o=e.Tu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),tg(e.remoteStore,s.targetId))}async function wD(i,t,e){const s=ND(i);try{const o=await function(h,m){const p=At(h),g=re.now(),E=m.reduce((I,x)=>I.add(x.key),Mt());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let x=fr(),j=Mt();return p.Os.getEntries(I,E).next(V=>{x=V,x.forEach((G,U)=>{U.isValidDocument()||(j=j.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,x)).next(V=>{b=V;const G=[];for(const U of m){const Q=jx(U,b.get(U.key).overlayedDocument);Q!=null&&G.push(new fs(U.key,Q,h1(Q.value.mapValue),Ti.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,G,m)}).next(V=>{T=V;const G=V.applyToLocalDocumentSet(b,j);return p.documentOverlayCache.saveOverlays(I,V.batchId,G)})}).then(()=>({batchId:T.batchId,changes:b1(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ue(Ct)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,e),await Ru(s,o.changes),await uf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");e.reject(u)}}async function ob(i,t){const e=At(i);try{const s=await PN(e.localStore,t);t.targetChanges.forEach((o,u)=>{const h=e.Eu.get(u);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Gt(h.lu,14607):o.removedDocuments.size>0&&(Gt(h.lu,42227),h.lu=!1))}),await Ru(e,s,t)}catch(s){await xo(s)}}function yE(i,t,e){const s=At(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=At(h);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const T of b.wa)T.va(m)&&(g=!0)}),g&&ag(p)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function SD(i,t,e){const s=At(i);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ue(gt.comparator);h=h.insert(u,tn.newNoDocument(u,St.min()));const m=Mt().add(u),p=new af(St.min(),new Map,new ue(Ct),h,m);await ob(s,p),s.du=s.du.remove(u),s.Eu.delete(t),lg(s)}else await rp(s.localStore,t,!1).then(()=>op(s,t,e)).catch(xo)}async function AD(i,t){const e=At(i),s=t.batch.batchId;try{const o=await VN(e.localStore,t);ub(e,s,null),lb(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(e,o)}catch(o){await xo(o)}}async function RD(i,t,e){const s=At(i);try{const o=await function(h,m){const p=At(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Gt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);ub(s,t,e),lb(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Ru(s,o)}catch(o){await xo(o)}}function lb(i,t){(i.Vu.get(t)||[]).forEach(e=>{e.resolve()}),i.Vu.delete(t)}function ub(i,t,e){const s=At(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function op(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Tu.get(t))i.Pu.delete(s),e&&i.hu.pu(s,e);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach(s=>{i.Au.containsKey(s)||cb(i,s)})}function cb(i,t){i.Iu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(tg(i.remoteStore,e),i.du=i.du.remove(t),i.Eu.delete(e),lg(i))}function _E(i,t,e){for(const s of e)s instanceof rb?(i.Au.addReference(s.key,t),ID(i,s)):s instanceof sb?(ht(og,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,t),i.Au.containsKey(s.key)||cb(i,s.key)):Tt(19791,{yu:s})}function ID(i,t){const e=t.key,s=e.path.canonicalString();i.du.get(e)||i.Iu.has(s)||(ht(og,"New document in limbo: "+e),i.Iu.add(s),lg(i))}function lg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const e=new gt(ne.fromString(t)),s=i.mu.next();i.Eu.set(s,new gD(e)),i.du=i.du.insert(e,s),Q1(i.remoteStore,new Qr(Ei(Gp(e.path)),s,"TargetPurposeLimboResolution",Jh.ue))}}async function Ru(i,t,e){const s=At(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,t,e).then(g=>{var E;if((g||e)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=e==null?void 0:e.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Jp.Es(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>it.forEach(g,T=>it.forEach(T.Is,I=>E.persistence.referenceDelegate.addReference(b,T.targetId,I)).next(()=>it.forEach(T.ds,I=>E.persistence.referenceDelegate.removeReference(b,T.targetId,I)))))}catch(b){if(!No(b))throw b;ht(Zp,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const I=E.Fs.get(T),x=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(x);E.Fs=E.Fs.insert(T,j)}}}(s.localStore,u))}async function CD(i,t){const e=At(i);if(!e.currentUser.isEqual(t)){ht(og,"User change. New user:",t.toKey());const s=await G1(e.localStore,t);e.currentUser=t,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ct(et.CANCELLED,h))})}),u.Vu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ru(e,s.Bs)}}function xD(i,t){const e=At(i),s=e.Eu.get(t);if(s&&s.lu)return Mt().add(s.key);{let o=Mt();const u=e.Tu.get(t);if(!u)return o;for(const h of u){const m=e.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function hb(i){const t=At(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=ob.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SD.bind(null,t),t.hu.J_=fD.bind(null,t.eventManager),t.hu.pu=dD.bind(null,t.eventManager),t}function ND(i){const t=At(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RD.bind(null,t),t}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=of(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return MN(this.persistence,new DN,t.initialUser,this.serializer)}Du(t){return new F1(Wp.Vi,this.serializer)}bu(t){return new BN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class DD extends zh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Gt(this.persistence.referenceDelegate instanceof Uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gN(s,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new F1(s=>Uh.Vi(s,e),this.serializer)}}class lp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CD.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hD}()}createDatastore(t){const e=of(t.databaseInfo.databaseId),s=function(u){return new YN(u)}(t.databaseInfo);return function(u,h,m,p){return new XN(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,u,h,m){return new JN(s,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,e=>yE(this.syncEngine,e,0),function(){return hE.C()?new hE:new HN}())}createSyncEngine(t,e){return function(o,u,h,m,p,g,E){const b=new yD(o,u,h,m,p,g);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(o){const u=At(o);ht(sa,"RemoteStore shutting down."),u.Ia.add(5),await Au(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class OD{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ht(os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ht(os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=sg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Vm(i,t){i.asyncQueue.verifyOperationInProgress(),ht(os,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await G1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{es("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{es("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=t}async function vE(i,t){i.asyncQueue.verifyOperationInProgress();const e=await kD(i);ht(os,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>dE(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>dE(t.remoteStore,o)),i._onlineComponents=t}async function kD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht(os,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;es("Error using user provided cache. Falling back to memory cache: "+e),await Vm(i,new zh)}}else ht(os,"Using default OfflineComponentProvider"),await Vm(i,new DD(void 0));return i._offlineComponents}async function db(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht(os,"Using user provided OnlineComponentProvider"),await vE(i,i._uninitializedComponentsProvider._online)):(ht(os,"Using default OnlineComponentProvider"),await vE(i,new lp))),i._onlineComponents}function MD(i){return db(i).then(t=>t.syncEngine)}async function mb(i){const t=await db(i),e=t.eventManager;return e.onListen=_D.bind(null,t.syncEngine),e.onUnlisten=TD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bD.bind(null,t.syncEngine),e}function VD(i,t,e={}){const s=new rr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new fb({next:T=>{E.Ou(),h.enqueueAndForget(()=>nb(u,b));const I=T.docs.has(m);!I&&T.fromCache?g.reject(new ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new ib(Gp(m.path),E,{includeMetadataChanges:!0,ka:!0});return eb(u,b)}(await mb(i),i.asyncQueue,t,e,s)),s.promise}function PD(i,t,e={}){const s=new rr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new fb({next:T=>{E.Ou(),h.enqueueAndForget(()=>nb(u,b)),T.fromCache&&p.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new ib(m,E,{includeMetadataChanges:!0,ka:!0});return eb(u,b)}(await mb(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firestore.googleapis.com",TE=!0;class bE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gb,this.ssl=TE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:TE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mN)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pb((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cf{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new FC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=EE.get(e);s&&(ht("ComponentProvider","Removing Datastore"),EE.delete(e),s.terminate())}(this),Promise.resolve()}}function LD(i,t,e,s={}){var o;i=hr(i,cf);const u=Ao(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${e}`;u&&(sT(`https://${p}`),aT("Firestore",!0)),h.host!==gb&&h.host!==p&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!or(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ze.MOCK_USER;else{E=nR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(T)}i._authCredentials=new GC(new JT(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class _e{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Tu(e,_e._jsonSchema))return new _e(t,s||null,new gt(ne.fromString(e.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Ae("string",_e._jsonSchemaVersion),referencePath:Ae("string")};class ts extends ua{constructor(t,e,s){super(t,e,Gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new gt(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function UD(i,t,...e){if(i=rn(i),t1("collection","path",t),i instanceof cf){const s=ne.fromString(t,...e);return V0(s),new ts(i,null,s)}{if(!(i instanceof _e||i instanceof ts))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ne.fromString(t,...e));return V0(s),new ts(i.firestore,null,s)}}function de(i,t,...e){if(i=rn(i),arguments.length===1&&(t=jp.newId()),t1("doc","path",t),i instanceof cf){const s=ne.fromString(t,...e);return M0(s),new _e(i,null,new gt(s))}{if(!(i instanceof _e||i instanceof ts))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ne.fromString(t,...e));return M0(s),new _e(i.firestore,i instanceof ts?i.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $1(this,"async_queue_retry"),this.oc=()=>{const s=Mm();s&&ht(wE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const e=Mm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Mm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const e=new rr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!No(t))throw t;ht(wE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const e=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,cr("INTERNAL UNHANDLED ERROR: ",AE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=e,e}enqueueAfterDelay(t,e,s){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const o=rg.createAndSchedule(this,t,e,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Tt(47125,{hc:AE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function AE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class Iu extends cf{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new SE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function ug(i,t){const e=typeof i=="object"?i:uT(),s=typeof i=="string"?i:Nh,o=Ap(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=tR("firestore");u&&LD(o,...u)}return o}function cg(i){if(i._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jD(i),i._firestoreClient}function jD(i){var t,e,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new cx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,pb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((e=o.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new OD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ke.fromBase64String(t))}catch(e){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tu(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ae("string",zn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Tu(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ae("string",wi._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tu(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Si(t.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ae("string",Si._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class BD{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new fs(t,this.data,this.fieldMask,e,this.fieldTransforms):new wu(t,this.data,e,this.fieldTransforms)}}class yb{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new fs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _b(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:i})}}class ff{constructor(t,e,s,o,u,h){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new ff(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Bh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(_b(this.Ec)&&zD.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class HD{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||of(t)}Dc(t,e,s,o=!1){return new ff({Ec:t,methodName:e,bc:s,path:$e.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(i){const t=i._freezeSettings(),e=of(i._databaseId);return new HD(i._databaseId,!!t.ignoreUndefinedProperties,e)}function qD(i,t,e,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,t,e,o);mg("Data must be an object, but it was:",h,s);const m=Eb(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const T=up(t,b,e);if(!h.contains(T))throw new ct(et.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);bb(E,T)||E.push(T)}p=new Rn(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new BD(new pn(m),p,g)}class df extends Cu{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof df}}function vb(i,t,e){return new ff({Ec:3,bc:t.settings.bc,methodName:i._methodName,mc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fg extends Cu{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=vb(this,t,!0),s=this.vc.map(u=>ca(u,e)),o=new _o(s);return new x1(t.path,o)}isEqual(t){return t instanceof fg&&or(this.vc,t.vc)}}class dg extends Cu{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=vb(this,t,!0),s=this.vc.map(u=>ca(u,e)),o=new vo(s);return new x1(t.path,o)}isEqual(t){return t instanceof dg&&or(this.vc,t.vc)}}function FD(i,t,e,s){const o=i.Dc(1,t,e);mg("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();hs(s,(p,g)=>{const E=pg(t,p,e);g=rn(g);const b=o.gc(E);if(g instanceof df)u.push(E);else{const T=ca(g,b);T!=null&&(u.push(E),h.set(E,T))}});const m=new Rn(u);return new yb(h,m,o.fieldTransforms)}function GD(i,t,e,s,o,u){const h=i.Dc(1,t,e),m=[up(t,s,e)],p=[o];if(u.length%2!=0)throw new ct(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(up(t,u[T])),p.push(u[T+1]);const g=[],E=pn.empty();for(let T=m.length-1;T>=0;--T)if(!bb(g,m[T])){const I=m[T];let x=p[T];x=rn(x);const j=h.gc(I);if(x instanceof df)g.push(I);else{const V=ca(x,j);V!=null&&(g.push(I),E.set(I,V))}}const b=new Rn(g);return new yb(E,b,h.fieldTransforms)}function YD(i,t,e,s=!1){return ca(e,i.Dc(s?4:3,t))}function ca(i,t){if(Tb(i=rn(i)))return mg("Unsupported field value:",t,i),Eb(i,t);if(i instanceof Cu)return function(s,o){if(!_b(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=ca(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:P1(o.serializer,s._byteString)};if(s instanceof _e){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Si)return function(h,m){return{mapValue:{fields:{[u1]:{stringValue:c1},[Dh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Yp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Wh(s)}`)}(i,t)}function Eb(i,t){const e={};return i1(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(i,(s,o)=>{const u=ca(o,t.Vc(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function Tb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof wi||i instanceof zn||i instanceof _e||i instanceof Cu||i instanceof Si)}function mg(i,t,e){if(!Tb(e)||!e1(e)){const s=Wh(e);throw s==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+s)}}function up(i,t,e){if((t=rn(t))instanceof hf)return t._internalPath;if(typeof t=="string")return pg(i,t);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,e)}const $D=new RegExp("[~\\*/\\[\\]]");function pg(i,t,e){if(t.search($D)>=0)throw Bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new hf(...t.split("."))._internalPath}catch{throw Bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Bh(i,t,e,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ct(et.INVALID_ARGUMENT,m+i+p)}function bb(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Sb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KD extends wb{data(){return super.data()}}function Sb(i,t){return typeof t=="string"?pg(i,t):t instanceof hf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class Ab extends gg{}function XD(i,t,...e){let s=[];t instanceof gg&&s.push(t),s=s.concat(e),function(u){const h=u.filter(p=>p instanceof _g).length,m=u.filter(p=>p instanceof yg).length;if(h>1||h>0&&m>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class yg extends Ab{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new yg(t,e,s)}_apply(t){const e=this._parse(t);return Rb(t._query,e),new ua(t.firestore,t.converter,Zm(t._query,e))}_parse(t){const e=hg(t.firestore);return function(u,h,m,p,g,E,b){let T;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){IE(b,E);const x=[];for(const j of b)x.push(RE(p,u,j));T={arrayValue:{values:x}}}else T=RE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||IE(b,E),T=YD(m,h,b,E==="in"||E==="not-in");return Se.create(g,E,T)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class _g extends gg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new _g(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:Wn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Rb(h,p),h=Zm(h,p)}(t._query,e),new ua(t.firestore,t.converter,Zm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends Ab{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new vg(t,e,s)}_apply(t){return new ua(t.firestore,t.converter,Mh(t._query,this._limit,this._limitType))}}function WD(i){return vg._create("limit",i,"F")}function RE(i,t,e){if(typeof(e=rn(e))=="string"){if(e==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_1(t)&&e.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ne.fromString(e));if(!gt.isDocumentKey(s))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q0(i,new gt(s))}if(e instanceof _e)return q0(i,e._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(e)}.`)}function IE(i,t){if(!Array.isArray(i)||i.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Rb(i,t){const e=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class JD{convertValue(t,e="none"){switch(ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return hs(t,(o,u)=>{s[o]=this.convertValue(u,e)}),s}convertVectorValue(t){var e,s,o;const u=(o=(s=(e=t.fields)===null||e===void 0?void 0:e[Dh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ye(h.doubleValue));return new Si(u)}convertGeoPoint(t){return new wi(ye(t.latitude),ye(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=tf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(uu(t));default:return null}}convertTimestamp(t){const e=is(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ne.fromString(t);Gt(H1(s),9688,{name:t});const o=new cu(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(e)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i,t,e){let s;return s=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,s}class Xl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zs extends wb{constructor(t,e,s,o,u,h){super(t,e,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Sb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Zs._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Ae("string",Zs._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class vh extends Zs{data(t={}){return super.data(t)}}class fo{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new vh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:t4(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function t4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(i){i=hr(i,_e);const t=hr(i.firestore,Iu);return VD(cg(t),i._key).then(e=>n4(t,i,e))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Ae("string",fo._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Ib extends JD{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,e)}}function e4(i){i=hr(i,ua);const t=hr(i.firestore,Iu),e=cg(t),s=new Ib(t);return QD(i._query),PD(e,i._query).then(o=>new fo(t,s,i,o))}function en(i,t,e){i=hr(i,_e);const s=hr(i.firestore,Iu),o=ZD(i.converter,t,e);return Cb(s,[qD(hg(s),"setDoc",i._key,o,i.converter!==null,e).toMutation(i._key,Ti.none())])}function Eg(i,t,e,...s){i=hr(i,_e);const o=hr(i.firestore,Iu),u=hg(o);let h;return h=typeof(t=rn(t))=="string"||t instanceof hf?GD(u,"updateDoc",i._key,t,e,s):FD(u,"updateDoc",i._key,t),Cb(o,[h.toMutation(i._key,Ti.exists(!0))])}function Cb(i,t){return function(s,o){const u=new rr;return s.asyncQueue.enqueueAndForget(async()=>wD(await MD(s),o,u)),u.promise}(cg(i),t)}function n4(i,t,e){const s=e.docs.get(t._key),o=new Ib(i);return new Zs(i,o,t._key,s,new Xl(e.hasPendingWrites,e.fromCache),t.converter)}function Tg(...i){return new fg("arrayUnion",i)}function bg(...i){return new dg("arrayRemove",i)}(function(t,e=!0){(function(o){Co=o})(Ro),mo(new ea("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Iu(new YC(s.getProvider("auth-internal")),new QC(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(x0,N0,t),Jr(x0,N0,"esm2017")})();const i4={apiKey:"AIzaSyBvk7wTEnnSb7Knu3KXBCSq1OiXDbRHa6o",authDomain:"authentication-88284.firebaseapp.com",projectId:"authentication-88284",storageBucket:"authentication-88284.firebasestorage.app",messagingSenderId:"909103155673",appId:"1:909103155673:web:182de88261f43a9e1ab1c8"},xb=$h(i4);new _i;Lp(xb);const Nb=ug(xb),r4={apiKey:"AIzaSyBvk7wTEnnSb7Knu3KXBCSq1OiXDbRHa6o",authDomain:"authentication-88284.firebaseapp.com",projectId:"authentication-88284",storageBucket:"authentication-88284.firebasestorage.app",messagingSenderId:"909103155673",appId:"1:909103155673:web:182de88261f43a9e1ab1c8"},Db=$h(r4),iu=Lp(Db),s4=new _i,CE=ug(Db);function cp(){return cp=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},cp.apply(this,arguments)}var a4={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(i){},onComplete:function(i){},preStringTyped:function(i,t){},onStringTyped:function(i,t){},onLastStringBackspaced:function(i){},onTypingPaused:function(i,t){},onTypingResumed:function(i,t){},onReset:function(i){},onStop:function(i,t){},onStart:function(i,t){},onDestroy:function(i){}},o4=new(function(){function i(){}var t=i.prototype;return t.load=function(e,s,o){if(e.el=typeof o=="string"?document.querySelector(o):o,e.options=cp({},a4,s),e.isInput=e.el.tagName.toLowerCase()==="input",e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map(function(g){return g.trim()}),e.stringsElement=typeof e.options.stringsElement=="string"?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var u=Array.prototype.slice.apply(e.stringsElement.children),h=u.length;if(h)for(var m=0;m<h;m+=1)e.strings.push(u[m].innerHTML.trim())}for(var p in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[p]=p;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},t.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:e.contentType==="html"?e.el.innerHTML:e.el.textContent},t.appendCursorAnimationCss=function(e){var s="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+s+"]")){var o=document.createElement("style");o.setAttribute(s,"true"),o.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(o)}},t.appendFadeOutAnimationCss=function(e){var s="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+s+"]")){var o=document.createElement("style");o.setAttribute(s,"true"),o.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(o)}},i}()),xE=new(function(){function i(){}var t=i.prototype;return t.typeHtmlChars=function(e,s,o){if(o.contentType!=="html")return s;var u=e.substring(s).charAt(0);if(u==="<"||u==="&"){var h;for(h=u==="<"?">":";";e.substring(s+1).charAt(0)!==h&&!(1+ ++s>e.length););s++}return s},t.backSpaceHtmlChars=function(e,s,o){if(o.contentType!=="html")return s;var u=e.substring(s).charAt(0);if(u===">"||u===";"){var h;for(h=u===">"?"<":"&";e.substring(s-1).charAt(0)!==h&&!(--s<0););s--}return s},i}()),l4=function(){function i(e,s){o4.load(this,s,e),this.begin()}var t=i.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(e){e===void 0&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){e.strPos===0?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)},this.startDelay)},t.typewrite=function(e,s){var o=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var u=this.humanizer(this.typeSpeed),h=1;this.pause.status!==!0?this.timeout=setTimeout(function(){s=xE.typeHtmlChars(e,s,o);var m=0,p=e.substring(s);if(p.charAt(0)==="^"&&/^\^\d+/.test(p)){var g=1;g+=(p=/\d+/.exec(p)[0]).length,m=parseInt(p),o.temporaryPause=!0,o.options.onTypingPaused(o.arrayPos,o),e=e.substring(0,s)+e.substring(s+g),o.toggleBlinking(!0)}if(p.charAt(0)==="`"){for(;e.substring(s+h).charAt(0)!=="`"&&(h++,!(s+h>e.length)););var E=e.substring(0,s),b=e.substring(E.length+1,s+h),T=e.substring(s+h+1);e=E+b+T,h--}o.timeout=setTimeout(function(){o.toggleBlinking(!1),s>=e.length?o.doneTyping(e,s):o.keepTyping(e,s,h),o.temporaryPause&&(o.temporaryPause=!1,o.options.onTypingResumed(o.arrayPos,o))},m)},u):this.setPauseStatus(e,s,!0)},t.keepTyping=function(e,s,o){s===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var u=e.substring(0,s+=o);this.replaceText(u),this.typewrite(e,s)},t.doneTyping=function(e,s){var o=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){o.backspace(e,s)},this.backDelay))},t.backspace=function(e,s){var o=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var u=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){s=xE.backSpaceHtmlChars(e,s,o);var h=e.substring(0,s);if(o.replaceText(h),o.smartBackspace){var m=o.strings[o.arrayPos+1];o.stopNum=m&&h===m.substring(0,s)?s:0}s>o.stopNum?(s--,o.backspace(e,s)):s<=o.stopNum&&(o.arrayPos++,o.arrayPos===o.strings.length?(o.arrayPos=0,o.options.onLastStringBackspaced(),o.shuffleStringsIfNeeded(),o.begin()):o.typewrite(o.strings[o.sequence[o.arrayPos]],s))},u)}else this.setPauseStatus(e,s,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(e,s,o){this.pause.typewrite=o,this.pause.curString=e,this.pause.curStrPos=s},t.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(e){return Math.round(Math.random()*e/2)+e},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},t.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)},this.fadeOutDelay)},t.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:this.contentType==="html"?this.el.innerHTML=e:this.el.textContent=e},t.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",function(s){e.stop()}),this.el.addEventListener("blur",function(s){e.el.value&&e.el.value.length!==0||e.start()}))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},i}();const u4=H.memo(({style:i,className:t,typedRef:e,parseRef:s,stopped:o,children:u,startWhenVisible:h,...m})=>{const p=H.useRef(null),g=H.useMemo(()=>{var b;return[...Object.values(m).filter(T=>typeof T=="boolean"||typeof T=="number"||typeof T=="string"),(b=m.strings)==null?void 0:b.join(",")]},[m]);H.useEffect(()=>{const b=s&&s(p)||p.current,T=new l4(b,{...m});if((o||h)&&(T==null||T.stop()),h){const I=new IntersectionObserver(([x])=>{x.isIntersecting&&(T==null||T.start(),I.disconnect())});I.observe(b)}return e&&T&&e(T),()=>{T.destroy()}},g);const E=u?Vt.cloneElement(u,{ref:p}):Vt.createElement("span",{style:i,ref:p});return Vt.createElement("span",{style:i,className:t,"data-testid":"react-typed"},E)});function Ob(i){var t,e,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(e=Ob(i[t]))&&(s&&(s+=" "),s+=e)}else for(e in i)i[e]&&(s&&(s+=" "),s+=e);return s}function ta(){for(var i,t,e=0,s="",o=arguments.length;e<o;e++)(i=arguments[e])&&(t=Ob(i))&&(s&&(s+=" "),s+=t);return s}function c4(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}c4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xu=i=>typeof i=="number"&&!isNaN(i),aa=i=>typeof i=="string",dr=i=>typeof i=="function",h4=i=>aa(i)||xu(i),hp=i=>aa(i)||dr(i)?i:null,f4=(i,t)=>i===!1||xu(i)&&i>0?i:t,fp=i=>H.isValidElement(i)||aa(i)||dr(i)||xu(i);function d4(i,t,e=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${e}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,e)})})}function m4({enter:i,exit:t,appendPosition:e=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:b}){let T=e?`${i}--${h}`:i,I=e?`${t}--${h}`:t,x=H.useRef(0);return H.useLayoutEffect(()=>{let j=g.current,V=T.split(" "),G=U=>{U.target===g.current&&(b(),j.removeEventListener("animationend",G),j.removeEventListener("animationcancel",G),x.current===0&&U.type!=="animationcancel"&&j.classList.remove(...V))};j.classList.add(...V),j.addEventListener("animationend",G),j.addEventListener("animationcancel",G)},[]),H.useEffect(()=>{let j=g.current,V=()=>{j.removeEventListener("animationend",V),s?d4(j,p,o):p()};E||(m?V():(x.current=1,j.className+=` ${I}`,j.addEventListener("animationend",V)))},[E]),Vt.createElement(Vt.Fragment,null,u)}}function NE(i,t){return{content:kb(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function kb(i,t,e=!1){return H.isValidElement(i)&&!aa(i.type)?H.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):dr(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function p4({closeToast:i,theme:t,ariaLabel:e="close"}){return Vt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":e},Vt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Vt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function g4({delay:i,isRunning:t,closeToast:e,type:s="default",hide:o,className:u,controlledProgress:h,progress:m,rtl:p,isIn:g,theme:E}){let b=o||h&&m===0,T={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};h&&(T.transform=`scaleX(${m})`);let I=ta("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),x=dr(u)?u({rtl:p,type:s,defaultClassName:I}):ta(I,u),j={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{g&&e()}};return Vt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Vt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Vt.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:x,style:T,...j}))}var y4=1,Mb=()=>`${y4++}`;function _4(i,t,e){let s=1,o=0,u=[],h=[],m=t,p=new Map,g=new Set,E=U=>(g.add(U),()=>g.delete(U)),b=()=>{h=Array.from(p.values()),g.forEach(U=>U())},T=({containerId:U,toastId:Q,updateId:J})=>{let at=U?U!==i:i!==1,ft=p.has(Q)&&J==null;return at||ft},I=(U,Q)=>{p.forEach(J=>{var at;(Q==null||Q===J.props.toastId)&&((at=J.toggle)==null||at.call(J,U))})},x=U=>{var Q,J;(J=(Q=U.props)==null?void 0:Q.onClose)==null||J.call(Q,U.removalReason),U.isActive=!1},j=U=>{if(U==null)p.forEach(x);else{let Q=p.get(U);Q&&x(Q)}b()},V=()=>{o-=u.length,u=[]},G=U=>{var Q,J;let{toastId:at,updateId:ft}=U.props,D=ft==null;U.staleId&&p.delete(U.staleId),U.isActive=!0,p.set(at,U),b(),e(NE(U,D?"added":"updated")),D&&((J=(Q=U.props).onOpen)==null||J.call(Q))};return{id:i,props:m,observe:E,toggle:I,removeToast:j,toasts:p,clearQueue:V,buildToast:(U,Q)=>{if(T(Q))return;let{toastId:J,updateId:at,data:ft,staleId:D,delay:A}=Q,R=at==null;R&&o++;let k={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Q).filter(([z,O])=>O!=null)),toastId:J,updateId:at,data:ft,isIn:!1,className:hp(Q.className||m.toastClassName),progressClassName:hp(Q.progressClassName||m.progressClassName),autoClose:Q.isLoading?!1:f4(Q.autoClose,m.autoClose),closeToast(z){p.get(J).removalReason=z,j(J)},deleteToast(){let z=p.get(J);if(z!=null){if(e(NE(z,"removed")),p.delete(J),o--,o<0&&(o=0),u.length>0){G(u.shift());return}b()}}};k.closeButton=m.closeButton,Q.closeButton===!1||fp(Q.closeButton)?k.closeButton=Q.closeButton:Q.closeButton===!0&&(k.closeButton=fp(m.closeButton)?m.closeButton:!0);let L={content:U,props:k,staleId:D};m.limit&&m.limit>0&&o>m.limit&&R?u.push(L):xu(A)?setTimeout(()=>{G(L)},A):G(L)},setProps(U){m=U},setToggle:(U,Q)=>{let J=p.get(U);J&&(J.toggle=Q)},isToastActive:U=>{var Q;return(Q=p.get(U))==null?void 0:Q.isActive},getSnapshot:()=>h}}var un=new Map,fu=[],dp=new Set,v4=i=>dp.forEach(t=>t(i)),Vb=()=>un.size>0;function E4(){fu.forEach(i=>Lb(i.content,i.options)),fu=[]}var T4=(i,{containerId:t})=>{var e;return(e=un.get(t||1))==null?void 0:e.toasts.get(i)};function Pb(i,t){var e;if(t)return!!((e=un.get(t))!=null&&e.isToastActive(i));let s=!1;return un.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function b4(i){if(!Vb()){fu=fu.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||h4(i))un.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=un.get(i.containerId);t?t.removeToast(i.id):un.forEach(e=>{e.removeToast(i.id)})}}var w4=(i={})=>{un.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function Lb(i,t){fp(i)&&(Vb()||fu.push({content:i,options:t}),un.forEach(e=>{e.buildToast(i,t)}))}function S4(i){var t;(t=un.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function Ub(i,t){un.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(i,t==null?void 0:t.id)})}function A4(i){let t=i.containerId||1;return{subscribe(e){let s=_4(t,i,v4);un.set(t,s);let o=s.observe(e);return E4(),()=>{o(),un.delete(t)}},setProps(e){var s;(s=un.get(t))==null||s.setProps(e)},getSnapshot(){var e;return(e=un.get(t))==null?void 0:e.getSnapshot()}}}function R4(i){return dp.add(i),()=>{dp.delete(i)}}function I4(i){return i&&(aa(i.toastId)||xu(i.toastId))?i.toastId:Mb()}function Nu(i,t){return Lb(i,t),t.toastId}function mf(i,t){return{...t,type:t&&t.type||i,toastId:I4(t)}}function pf(i){return(t,e)=>Nu(t,mf(i,e))}function Bt(i,t){return Nu(i,mf("default",t))}Bt.loading=(i,t)=>Nu(i,mf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function C4(i,{pending:t,error:e,success:s},o){let u;t&&(u=aa(t)?Bt.loading(t,o):Bt.loading(t.render,{...o,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,b)=>{if(E==null){Bt.dismiss(u);return}let T={type:g,...h,...o,data:b},I=aa(E)?{render:E}:E;return u?Bt.update(u,{...T,...I}):Bt(I.render,{...T,...I}),b},p=dr(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",e,g)),p}Bt.promise=C4;Bt.success=pf("success");Bt.info=pf("info");Bt.error=pf("error");Bt.warning=pf("warning");Bt.warn=Bt.warning;Bt.dark=(i,t)=>Nu(i,mf("default",{theme:"dark",...t}));function x4(i){b4(i)}Bt.dismiss=x4;Bt.clearWaitingQueue=w4;Bt.isActive=Pb;Bt.update=(i,t={})=>{let e=T4(i,t);if(e){let{props:s,content:o}=e,u={delay:100,...s,...t,toastId:t.toastId||i,updateId:Mb()};u.toastId!==i&&(u.staleId=i);let h=u.render||o;delete u.render,Nu(h,u)}};Bt.done=i=>{Bt.update(i,{progress:1})};Bt.onChange=R4;Bt.play=i=>Ub(!0,i);Bt.pause=i=>Ub(!1,i);function N4(i){var t;let{subscribe:e,getSnapshot:s,setProps:o}=H.useRef(A4(i)).current;o(i);let u=(t=H.useSyncExternalStore(e,s,s))==null?void 0:t.slice();function h(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:h,isToastActive:Pb,count:u==null?void 0:u.length}}function D4(i){let[t,e]=H.useState(!1),[s,o]=H.useState(!1),u=H.useRef(null),h=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:b}=i;S4({id:i.toastId,containerId:i.containerId,fn:e}),H.useEffect(()=>{if(i.pauseOnFocusLoss)return T(),()=>{I()}},[i.pauseOnFocusLoss]);function T(){document.hasFocus()||G(),window.addEventListener("focus",V),window.addEventListener("blur",G)}function I(){window.removeEventListener("focus",V),window.removeEventListener("blur",G)}function x(D){if(i.draggable===!0||i.draggable===D.pointerType){U();let A=u.current;h.canCloseOnClick=!0,h.canDrag=!0,A.style.transition="none",i.draggableDirection==="x"?(h.start=D.clientX,h.removalDistance=A.offsetWidth*(i.draggablePercent/100)):(h.start=D.clientY,h.removalDistance=A.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function j(D){let{top:A,bottom:R,left:k,right:L}=u.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&i.pauseOnHover&&D.clientX>=k&&D.clientX<=L&&D.clientY>=A&&D.clientY<=R?G():V()}function V(){e(!0)}function G(){e(!1)}function U(){h.didMove=!1,document.addEventListener("pointermove",J),document.addEventListener("pointerup",at)}function Q(){document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",at)}function J(D){let A=u.current;if(h.canDrag&&A){h.didMove=!0,t&&G(),i.draggableDirection==="x"?h.delta=D.clientX-h.start:h.delta=D.clientY-h.start,h.start!==D.clientX&&(h.canCloseOnClick=!1);let R=i.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;A.style.transform=`translate3d(${R},0)`,A.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function at(){Q();let D=u.current;if(h.canDrag&&h.didMove&&D){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let ft={onPointerDown:x,onPointerUp:j};return m&&p&&(ft.onMouseEnter=G,i.stacked||(ft.onMouseLeave=V)),b&&(ft.onClick=D=>{E&&E(D),h.canCloseOnClick&&g(!0)}),{playToast:V,pauseToast:G,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:ft}}var O4=typeof window<"u"?H.useLayoutEffect:H.useEffect,gf=({theme:i,type:t,isLoading:e,...s})=>Vt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function k4(i){return Vt.createElement(gf,{...i},Vt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function M4(i){return Vt.createElement(gf,{...i},Vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function V4(i){return Vt.createElement(gf,{...i},Vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function P4(i){return Vt.createElement(gf,{...i},Vt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function L4(){return Vt.createElement("div",{className:"Toastify__spinner"})}var mp={info:M4,warning:k4,success:V4,error:P4,spinner:L4},U4=i=>i in mp;function j4({theme:i,type:t,isLoading:e,icon:s}){let o=null,u={theme:i,type:t};return s===!1||(dr(s)?o=s({...u,isLoading:e}):H.isValidElement(s)?o=H.cloneElement(s,u):e?o=mp.spinner():U4(t)&&(o=mp[t](u))),o}var z4=i=>{let{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:o,playToast:u}=D4(i),{closeButton:h,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:b,closeToast:T,transition:I,position:x,className:j,style:V,progressClassName:G,updateId:U,role:Q,progress:J,rtl:at,toastId:ft,deleteToast:D,isIn:A,isLoading:R,closeOnClick:k,theme:L,ariaLabel:z}=i,O=ta("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":at},{"Toastify__toast--close-on-click":k}),Re=dr(j)?j({rtl:at,position:x,type:E,defaultClassName:O}):ta(O,j),ie=j4(i),W=!!J||!p,lt={closeToast:T,type:E,theme:L},mt=null;return h===!1||(dr(h)?mt=h(lt):H.isValidElement(h)?mt=H.cloneElement(h,lt):mt=p4(lt)),Vt.createElement(I,{isIn:A,done:D,position:x,preventExitTransition:e,nodeRef:s,playToast:u},Vt.createElement("div",{id:ft,tabIndex:0,onClick:g,"data-in":A,className:Re,...o,style:V,ref:s,...A&&{role:Q,"aria-label":z}},ie!=null&&Vt.createElement("div",{className:ta("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ie),kb(m,i,!t),mt,!i.customProgressBar&&Vt.createElement(g4,{...U&&!W?{key:`p-${U}`}:{},rtl:at,theme:L,delay:p,isRunning:t,isIn:A,closeToast:T,hide:b,type:E,className:G,controlledProgress:W,progress:J||0})))},B4=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),H4=m4(B4("bounce",!0)),q4={position:"top-right",transition:H4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function wg(i){let t={...q4,...i},e=i.stacked,[s,o]=H.useState(!0),u=H.useRef(null),{getToastToRender:h,isToastActive:m,count:p}=N4(t),{className:g,style:E,rtl:b,containerId:T,hotKeys:I}=t;function x(V){let G=ta("Toastify__toast-container",`Toastify__toast-container--${V}`,{"Toastify__toast-container--rtl":b});return dr(g)?g({position:V,rtl:b,defaultClassName:G}):ta(G,hp(g))}function j(){e&&(o(!0),Bt.play())}return O4(()=>{var V;if(e){let G=u.current.querySelectorAll('[data-in="true"]'),U=12,Q=(V=t.position)==null?void 0:V.includes("top"),J=0,at=0;Array.from(G).reverse().forEach((ft,D)=>{let A=ft;A.classList.add("Toastify__toast--stacked"),D>0&&(A.dataset.collapsed=`${s}`),A.dataset.pos||(A.dataset.pos=Q?"top":"bot");let R=J*(s?.2:1)+(s?0:U*D);A.style.setProperty("--y",`${Q?R:R*-1}px`),A.style.setProperty("--g",`${U}`),A.style.setProperty("--s",`${1-(s?at:0)}`),J+=A.offsetHeight,at+=.025})}},[s,p,e]),H.useEffect(()=>{function V(G){var U;let Q=u.current;I(G)&&((U=Q.querySelector('[tabIndex="0"]'))==null||U.focus(),o(!1),Bt.pause()),G.key==="Escape"&&(document.activeElement===Q||Q!=null&&Q.contains(document.activeElement))&&(o(!0),Bt.play())}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[I]),Vt.createElement("section",{ref:u,className:"Toastify",id:T,onMouseEnter:()=>{e&&(o(!1),Bt.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((V,G)=>{let U=G.length?{...E}:{...E,pointerEvents:"none"};return Vt.createElement("div",{tabIndex:-1,className:x(V),"data-stacked":e,style:U,key:`c-${V}`},G.map(({content:Q,props:J})=>Vt.createElement(z4,{...J,stacked:e,collapseAll:j,isIn:m(J.toastId,J.containerId),key:`t-${J.key}`},Q)))}))}const DE=({onLogin:i})=>{const[t,e]=H.useState(""),[s,o]=H.useState(""),u=async h=>{h.preventDefault(),NI(iu,t,s).then(()=>{const m=iu.user;console.log("User signed in:",m),Bt.success("Login successful!",{position:"top-center",autoClose:3e3}),i()}).catch(m=>{console.error("Sign in error:",m.message),Bt.error("Login failed: "+m.message,{position:"bottom-center",autoClose:3e3})})};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:'flex flex-col gap-10 md:gap-1 items-center justify-center min-h-screen bg-[url("./assets/home_bg.png")] bg-cover bg-center bg-no-repeat bg-opacity-80',children:[C.jsxs("div",{className:"text-white text-center md:text-6xl sm:text-6xl font-bold md:py-6",children:[C.jsx("p",{className:"md:text-6xl sm:text-6xl font-bold md:py-6",children:"Unlimited movies,"}),C.jsx(u4,{strings:["TV","Shows","and more."],typeSpeed:200,backSpeed:100,backDelay:7e3,loop:!0})]}),C.jsxs("form",{action:"",name:"forms",onSubmit:u,className:" text-center mx-auto  w-450px bg- p-8  h-110 max-w-m relative z-10 bg-black/70 text-white px-8 py-10 rounded-lg shadow-lg max-w-md w-full backdrop-blur-sm ",children:[C.jsx("h1",{className:"text-3xl font-bold mb-8 text-center ",children:"Login Page"}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"Email",className:"block mb-1 text-left pl-5 ",children:"Email Address:"}),C.jsx("input",{type:"email",required:!0,placeholder:"Enter email",value:t,className:"w-full p-3 rounded bg-gray-800 text-white placeholder-gray-400 focus:outline-none ",onChange:h=>e(h.target.value)})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{htmlFor:"Password",className:"block mb-1 text-left pl-5 ",children:" Password"}),C.jsx("input",{type:"password",className:"form-control w-full p-3 rounded bg-gray-800 text-white placeholder-gray-400 focus:outline-none",placeholder:"Enter password",value:s,onChange:h=>o(h.target.value)})]}),C.jsx("button",{onClick:u,className:"w-full bg-[#e50914] text-white py-3 rounded font-semibold hover:bg-red-700 transition duration-300 cursor-pointer my-2",type:"submit",children:"Submit"}),C.jsx(wg,{}),C.jsxs("span",{className:"text-sm mt-2 text-gray-300  flex justify-end mr-4 ",children:[" new user?","  ",C.jsx(yi,{to:"/signup",className:"text-[#e50914] hover:underline ",children:"  Register Here"})]})]})]})})};var jb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OE=Vt.createContext&&Vt.createContext(jb),F4=["attr","size","title"];function G4(i,t){if(i==null)return{};var e=Y4(i,t),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(e[s]=i[s])}return e}function Y4(i,t){if(i==null)return{};var e={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(t.indexOf(s)>=0)continue;e[s]=i[s]}return e}function Hh(){return Hh=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}return i},Hh.apply(this,arguments)}function kE(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),e.push.apply(e,s)}return e}function qh(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(e),!0).forEach(function(s){$4(i,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):kE(Object(e)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(e,s))})}return i}function $4(i,t,e){return t=K4(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function K4(i){var t=Q4(i,"string");return typeof t=="symbol"?t:t+""}function Q4(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var s=e.call(i,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function zb(i){return i&&i.map((t,e)=>Vt.createElement(t.tag,qh({key:e},t.attr),zb(t.child)))}function Ii(i){return t=>Vt.createElement(X4,Hh({attr:qh({},i.attr)},t),zb(i.child))}function X4(i){var t=e=>{var{attr:s,size:o,title:u}=i,h=G4(i,F4),m=o||e.size||"1em",p;return e.className&&(p=e.className),i.className&&(p=(p?p+" ":"")+i.className),Vt.createElement("svg",Hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,s,h,{className:p,style:qh(qh({color:i.color||e.color},e.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Vt.createElement("title",null,u),i.children)};return OE!==void 0?Vt.createElement(OE.Consumer,null,e=>t(e)):t(jb)}function W4(i){return Ii({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"},child:[]}]})(i)}function ha(i){return Ii({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"},child:[]}]})(i)}function Oo(i){return Ii({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 480 256 357.41 96 480V32h320z"},child:[]}]})(i)}const J4={apiKey:"AIzaSyBvk7wTEnnSb7Knu3KXBCSq1OiXDbRHa6o",authDomain:"authentication-88284.firebaseapp.com",projectId:"authentication-88284",storageBucket:"authentication-88284.firebasestorage.app",messagingSenderId:"909103155673",appId:"1:909103155673:web:182de88261f43a9e1ab1c8"},Bb=$h(J4),Z4=Lp(Bb),Oe=ug(Bb),ME=()=>{const[i,t]=H.useState([]),[e,s]=H.useState([]),[o,u]=H.useState([]);console.log(e);const h=async b=>{u(T=>{if(T.some(V=>V.id===b.id))return T;const x=[...T,b];return(async()=>{const V=de(Oe,"moviseBook","100");await en(V,{details:x})})(),x})},m=async b=>{const T=de(Oe,"moviseBook","100"),I=await sr(T);(I.exists()?I.data().details||[]:[]).some(V=>V.id===b.id)?(await Eg(T,{details:bg(b)}),u(V=>V.filter(G=>G.id!==b.id))):(await en(T,{details:Tg(b)},{merge:!0}),u(V=>[...V,b]))},p=async b=>{s([b]),window.location.href="./project",await en(de(Oe,"accomodations","10"),{details:b})},g=async()=>{const b={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjA4OTUxYmI3ZjI5OTYwZGUzNThmYzBiODZjNWU2NyIsIm5iZiI6MTc1MTYzMTY1NS44MzAwMDAyLCJzdWIiOiI2ODY3YzcyNzA2YjgyNzQ2NmU1M2I4YTIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.7dHa7DBREfgiJkB7wiCYLMDJFv2LBXLDcYMBtpaQyBA"}};let T=5;const I=[];for(let U=1;U<=T;U++){const Q=`https://api.themoviedb.org/3/discover/movie?language=en-US&sort_by=popularity.desc&page=${U}&include_adult=false`;I.push(fetch(Q,b).then(J=>J.json()))}const x=[27,53,80,9648,99,10764,10766,10749],j=["sex","erotic","evil","lust","sin","sinners","horror","curse","thriller","demon","witch","kill","murder","love","romance","romantic","affair","affairs","mistress"],G=(await Promise.all(I)).flatMap(U=>U.results).filter(U=>{var Q;return!((Q=U.genre_ids)!=null&&Q.some(J=>x.includes(J)))&&!j.some(J=>(U.title||"").toLowerCase().includes(J)||(U.original_title||"").toLowerCase().includes(J)||(U.overview||"").toLowerCase().includes(J))});try{const U=de(Oe,"moviesAbout","20");await en(U,{allMovies:G})}catch(U){console.error("Error storing recommendations:",U)}},E=async()=>{const b=de(Oe,"moviesAbout","20"),T=await sr(b);if(T.exists()){const I=T.data();t(I.allMovies)}};return H.useEffect(()=>{g(),E()},[]),C.jsx(C.Fragment,{children:C.jsxs("div",{className:"bg-gray-900 z-0 min-h-screen w-screen overflow-hidden",children:[C.jsx("h1",{className:"md:text-4xl text-2xl pl-15 md:pl-27 bg-gray-900 text-white w-full h-17 pt-14",children:"MOVIES"}),C.jsx("div",{className:"text-blue-600 justify-center flex-row gap-5 md:pl-10 flex-wrap flex overflow-y-auto w-screen pt-10 mx-auto items-center whitespace-nowrap no-scrollbar",children:i.map(b=>C.jsx("div",{children:C.jsx(tO,{...b,onBookmark:()=>h(b),onDropbook:()=>m(b),isBookmark:o.some(T=>T.id===b.id),hanleClick:()=>p(b)})},b.id))})]})})},tO=i=>{var o,u;const[t,e]=H.useState(!1),s=()=>{t?i.onDropbook():i.onBookmark(),e(!t)};return C.jsx(C.Fragment,{children:C.jsx("div",{onClick:i.hanleClick,children:C.jsxs("div",{className:"relative w-90 h-98 md:h-98 text-white overflow-hidden group bg-gray-900 p-4 flex flex-col justify-between",children:[C.jsx("img",{className:"w-93 rounded-xl h-68 object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out",src:`https://image.tmdb.org/t/p/w500/${i.backdrop_path||i.poster_path}`,alt:i.title}),C.jsx("button",{className:`absolute top-6 right-8 bg-gray-800 bg-opacity-60 p-2 rounded-full text-white hover:bg-opacity-80 transition ${t?"bg-red-700":"bg-gray-800 bg-opacity-60 hover:bg-opacity-80"}`,onClick:h=>{h.stopPropagation(),s()},children:C.jsx(Oo,{size:18})}),C.jsxs("div",{className:"flex items-left pl-10 text-sm gap-4 opacity-95",children:[C.jsx("h4",{children:(o=i.release_date)==null?void 0:o.slice(0,4)}),C.jsx("h5",{className:"text-sm font-semibold leading-tight truncate",children:i.original_language}),C.jsxs("p",{className:"flex text-sm gap-3",children:[C.jsx(ha,{className:"mt-1"}),i.popularity]}),C.jsx("p",{children:"Movie"})]}),C.jsx("h1",{className:"text-2xl text-white font-semibold leading-tight truncate flex items-left pl-10",children:(u=i.title)==null?void 0:u.slice(0,25)})]})})})},eO=()=>{const[i,t]=H.useState([]),[e,s]=H.useState([]),[o,u]=H.useState([]);console.log(e);const h=async b=>{u(T=>{if(T.some(V=>V.id===b.id))return T;const x=[...T,b];return(async()=>{const V=de(Oe,"moviseBook","100");await en(V,{details:x})})(),x})},m=async b=>{const T=de(Oe,"moviseBook","100"),I=await sr(T);(I.exists()?I.data().details||[]:[]).some(V=>V.id===b.id)?(await Eg(T,{details:bg(b)}),u(V=>V.filter(G=>G.id!==b.id))):(await en(T,{details:Tg(b)},{merge:!0}),u(V=>[...V,b]))},p=async b=>{s([b]),window.location.href="./project",await en(de(Oe,"accomodations","10"),{details:b})},g=async()=>{const b={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjA4OTUxYmI3ZjI5OTYwZGUzNThmYzBiODZjNWU2NyIsIm5iZiI6MTc1MTYzMTY1NS44MzAwMDAyLCJzdWIiOiI2ODY3YzcyNzA2YjgyNzQ2NmU1M2I4YTIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.7dHa7DBREfgiJkB7wiCYLMDJFv2LBXLDcYMBtpaQyBA"}};let T=5;const I=[];for(let U=1;U<=T;U++){const Q=`https://api.themoviedb.org/3/tv/airing_today?language=en-US&page=${U}`;I.push(fetch(Q,b).then(J=>J.json()))}const x=[27,53,80,9648,99,10764,10766,10749],j=["sex","erotic","evil","lust","sin","sinners","horror","curse","thriller","demon","witch","kill","murder","love","romance","romantic","affair","affairs","mistress"],G=(await Promise.all(I)).flatMap(U=>U.results).filter(U=>{var Q;return!((Q=U.genre_ids)!=null&&Q.some(J=>x.includes(J)))&&!j.some(J=>(U.name||"").toLowerCase().includes(J)||(U.original_name||"").toLowerCase().includes(J)||(U.overview||"").toLowerCase().includes(J))});try{const U=de(Oe,"movies8","510");await en(U,{allMovies:G})}catch(U){console.error("Error storing recommendations:",U)}},E=async()=>{const b=de(Oe,"movies8","510"),T=await sr(b);if(T.exists()){const I=T.data();return t(I.allMovies)}};return H.useEffect(()=>{g(),E()},[]),C.jsx(C.Fragment,{children:C.jsx("div",{className:"bg-gray-900 z-0 min-h-screen w-screen overflow-hidden",children:C.jsxs("div",{className:"bg-gray-900 overflow-hidden",children:[C.jsx("h1",{className:"md:text-4xl text-2xl pl-15 md:pl-27 bg-gray-900 text-white w-full h-17 pt-14",children:"TV SHOWS"}),C.jsx("div",{className:"text-blue-600 justify-center flex-row gap-5 md:pl-10 flex-wrap flex overflow-y-auto w-screen pt-10 mx-auto items-center whitespace-nowrap no-scrollbar",children:i.map(b=>C.jsx("div",{children:C.jsx(nO,{...b,onBookmark:()=>h(b),onDropbook:()=>m(b),isBookmark:o.some(T=>T.id===b.id),hanleClick:()=>p(b)})},b.id))})]})})})},nO=i=>{var o,u;const[t,e]=H.useState(!1),s=()=>{t?i.onDropbook():i.onBookmark(),e(!t)};return C.jsx(C.Fragment,{children:C.jsx("div",{to:"/project",onClick:i.hanleClick,children:C.jsxs("div",{className:"relative w-90 h-98 md:h-98 text-white overflow-hidden group bg-gray-900 p-4 flex flex-col justify-between",children:[C.jsx("img",{className:"w-93 rounded-xl h-68 object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out",src:`https://image.tmdb.org/t/p/w500/${i.backdrop_path||i.poster_path}`,alt:i.title}),C.jsx("button",{className:`absolute top-6 right-8 bg-gray-800 bg-opacity-60 p-2 rounded-full text-white hover:bg-opacity-80 transition ${t?"bg-red-700":"bg-gray-800 bg-opacity-60 hover:bg-opacity-80"}`,onClick:h=>{h.stopPropagation(),s()},children:C.jsx(Oo,{size:18})}),C.jsxs("div",{className:"flex items-left pl-10 text-sm gap-4 opacity-95",children:[C.jsx("h4",{children:(o=i.first_air_date)==null?void 0:o.slice(0,4)}),C.jsx("h5",{className:"text-sm font-semibold leading-tight truncate",children:i.original_language}),C.jsxs("p",{className:"flex text-sm gap-3",children:[C.jsx(ha,{className:"mt-1"}),i.popularity]}),C.jsx("p",{children:"TV"})]}),C.jsx("h1",{className:"text-2xl text-white font-semibold leading-tight truncate flex items-left pl-10",children:(u=i.name)==null?void 0:u.slice(0,25)})]})})})};function iO(i){return Ii({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"},child:[]}]})(i)}const rO=()=>{const[i,t]=H.useState([]),e=async()=>{const s=de(Nb,"accomodations","10"),o=await sr(s);if(o.exists()){const u=o.data();return console.log("Full Data:",u),console.log("Fetched Recommendations:",u.details),t([u.details])}else return console.log(" Document not found"),[]};return console.log(i),H.useEffect(()=>{e()},[]),C.jsx(C.Fragment,{children:C.jsx("div",{children:i.map(s=>C.jsx("div",{children:C.jsx(sO,{...s})},s.id))})})},sO=i=>{const t=()=>{const e=i.title||i.original_title,o=`https://www.youtube.com/results?search_query=${encodeURIComponent(`${e} trailer`)}`;window.open(o,"_blank")};return C.jsxs("div",{className:"relative w-full min-h-screen bg-gray-900 text-white overflow-hidden",children:[C.jsxs("div",{className:"relative h-[60vh]  w-full overflow-hidden",children:[C.jsx("img",{src:`https://image.tmdb.org/t/p/original/${i.backdrop_path||i.poster_path}`,alt:i.title,className:"w-full h-full object-cover object-center filter brightness-75"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"})]}),C.jsxs("div",{className:"px-8 md:px-20 py-10 flex flex-col gap-9 max-w-4xl mx-auto",children:[C.jsxs("div",{className:"flex  gap-9 md:gap-7 justify-center items-center text-center mx-auto w-full px-4",children:[C.jsx("h1",{className:"text-2xl sm:text-3xl md:text-5xl font-bold tracking-wide text-white",children:i.title||i.original_title||i.original_name}),C.jsxs("div",{className:"text-black cursor-pointer md:w-70 hover:text-red-700 bg-white flex gap-1 sm:gap-3  sm:w-auto h-12 mt-3 text-center justify-center items-center rounded-full px-2",onClick:t,children:[C.jsx(iO,{className:"hover:text-blue-400 transition-transform transform hover:scale-110",size:28}),C.jsx("p",{className:" sm:text-[17px] font-semibold",children:"Play trailer"})]})]}),C.jsxs("div",{className:"flex gap-6 text-sm text-gray-300 items-center",children:[C.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-xs",children:i.release_date?i.release_date.slice(0,4):"N/A"}),C.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-xs",children:i.movie_vote??"NR"}),C.jsxs("span",{className:"flex items-center bg-gray-800 px-3 py-1 rounded-full text-xs",children:[C.jsx(ha,{className:"mr-1"})," ",i.movie_type||"Movie"]})]}),C.jsx("p",{className:"text-gray-300 text-base leading-relaxed max-w-3xl",children:i.overview||"No description available."})]})]})};function aO(i){return Ii({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(i)}function oO(i){return Ii({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm0 400H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zM464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm0 400H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16z"},child:[]}]})(i)}function lO(i){return Ii({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M16 3l-4 4l-4 -4"},child:[]},{tag:"path",attr:{d:"M15 7v13"},child:[]},{tag:"path",attr:{d:"M18 15v.01"},child:[]},{tag:"path",attr:{d:"M18 12v.01"},child:[]}]})(i)}function uO(i){return Ii({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M386.061 228.496c1.834 9.692 3.143 19.384 3.143 31.956C389.204 370.205 315.599 448 204.8 448c-106.084 0-192-85.915-192-192s85.916-192 192-192c51.864 0 95.083 18.859 128.611 50.292l-52.126 50.03c-14.145-13.621-39.028-29.599-76.485-29.599-65.484 0-118.92 54.221-118.92 121.277 0 67.056 53.436 121.277 118.92 121.277 75.961 0 104.513-54.745 108.965-82.773H204.8v-66.009h181.261zm185.406 6.437V179.2h-56.001v55.733h-55.733v56.001h55.733v55.733h56.001v-55.733H627.2v-56.001h-55.733z"},child:[]}]})(i)}function cO(i){return Ii({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(i)}function hO(i){return Ii({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function fO({onLogin:i}){mr();const[t,e]=H.useState(!1),[s,o]=H.useState(!0),u=()=>{e(!t),o(!s)};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:`group md:fixed absolute top-0 left-0 cursor-pointer h-170 pt-4 hover:w-46 mt-0 flex flex-col text-gray-500
    md:w-26 w-20 text-[12px] gap-8 bg-[#161d2f] overflow-hidden transition-all duration-500 ease-in-out z-40
    rounded-3xl shadow-lg
    ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-full"} 
    md:opacity-100 md:translate-x-0 md:flex list-none`,children:[C.jsxs("ul",{className:"flex flex-col justify-center items-center gap-6 md:gap-10 text-center mt-5 group-hover:gap-16",children:[C.jsx("li",{children:C.jsxs(yi,{className:`flex items-center group-hover:items-start flex-col group-hover:flex-row gap-2 px-2 mb-5 ${location.pathname==="/"?"text-white":"text-gray-500"}`,to:"/",children:[C.jsx("i",{className:"text-xl group-hover:text-red-500 hover:text-red-500 group-hover:pl-1",children:C.jsx(W4,{})}),C.jsx("span",{className:"text-sm opacity-0 group-hover:text-red-500 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Movies"})]})}),C.jsxs("div",{className:"flex flex-col justify-center text-center gap-7 items-center group-hover:gap-10",children:[C.jsx("li",{children:C.jsxs(yi,{className:`flex items-center group-hover:items-start flex-col group-hover:flex-row gap-2 px-2 ${location.pathname==="/homes"?"text-white":"text-gray-500"}`,to:"/homes",children:[C.jsx("i",{className:"text-xl group-hover:text-red-500",children:C.jsx(oO,{})}),C.jsx("span",{className:"text-sm opacity-0 group-hover:text-red-500 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Home"})]})}),C.jsx("li",{children:C.jsxs(yi,{className:`flex items-center group-hover:items-start flex-col group-hover:flex-row gap-2 px-2 ${location.pathname==="/tvicons"?"text-white":"text-gray-500"}`,to:"/tvicons",children:[C.jsx("i",{className:"text-xl group-hover:text-red-500 group-hover:pl-3",children:C.jsx(ha,{})}),C.jsx("span",{className:"text-sm opacity-0 group-hover:text-red-500 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"TV Icons"})]})}),C.jsx("li",{children:C.jsxs(yi,{className:`flex items-center group-hover:items-start flex-col group-hover:flex-row gap-2 px-2 ${location.pathname==="/shows"?"text-white":"text-gray-500"}`,to:"/shows",children:[C.jsx("i",{className:"text-xl group-hover:text-red-500",children:C.jsx(lO,{})}),C.jsx("span",{className:"text-sm opacity-0 group-hover:text-red-500 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Shows"})]})}),C.jsx("li",{children:C.jsxs(yi,{className:`flex items-center group-hover:items-start flex-col group-hover:flex-row gap-2 px-2 ${location.pathname==="/foot"?"text-white":"text-gray-500"}`,to:"/foot",children:[C.jsx("i",{className:"text-xl group-hover:text-red-500 group-hover:pl-6",children:C.jsx(Oo,{})}),C.jsx("span",{className:"text-sm opacity-0 group-hover:text-red-500 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:"Bookmarks"})]})})]})]}),C.jsx("button",{className:"h-8 text-center text-white w-20 bg-[#e50914] mt-auto mx-auto mb-8 rounded font-semibold hover:bg-red-700 transition duration-300 cursor-pointer",onClick:()=>{i()},children:"Logout"})]}),C.jsx("div",{className:"md:hidden fixed top-4 right-4 text-white z-50",children:C.jsx("button",{onClick:u,children:s?C.jsx(aO,{}):C.jsx(hO,{})})})]})}const dO=H.createContext(),mO=({children:i,value:t})=>C.jsx(dO.Provider,{value:t,children:i}),VE=()=>{const[i,t]=H.useState([]),[e,s]=H.useState([]),[o,u]=H.useState([]),[h,m]=H.useState([]),p=async I=>{m(x=>{if(x.some(U=>U.id===I.id))return x;const V=[...x,I];return console.log(V),(async()=>{const U=de(Oe,"moviseBook","100");await en(U,{details:V})})(),V})},g=async I=>{const x=de(Oe,"moviseBook","100"),j=await sr(x);(j.exists()?j.data().details||[]:[]).some(U=>U.id===I.id)?(await Eg(x,{details:bg(I)}),m(U=>U.filter(Q=>Q.id!==I.id)),console.log(" Removed from Firestore")):(await en(x,{details:Tg(I)},{merge:!0}),m(U=>[...U,I]),console.log(" Added to Firestore"))},E=async I=>{t([I]),window.location.href="./project",await en(de(Oe,"accomodations","10"),{details:I}),console.log("Saved")};console.log(i),console.log(h);const b=async()=>{const I={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjA4OTUxYmI3ZjI5OTYwZGUzNThmYzBiODZjNWU2NyIsIm5iZiI6MTc1MTYzMTY1NS44MzAwMDAyLCJzdWIiOiI2ODY3YzcyNzA2YjgyNzQ2NmU1M2I4YTIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.7dHa7DBREfgiJkB7wiCYLMDJFv2LBXLDcYMBtpaQyBA"}};let x=4;const j=[];for(let J=1;J<=x;J++){const at=`https://api.themoviedb.org/3/tv/airing_today?language=en-US&page=${J}`;j.push(fetch(at,I).then(ft=>ft.json()))}const V=[27,53,80,9648,99,10764,10766,10749],G=["sex","erotic","evil","lust","sin","sinners","horror","curse","thriller","demon","witch","kill","murder","love","romance","romantic","affair","affairs","mistress"],Q=(await Promise.all(j)).flatMap(J=>J.results).filter(J=>{var at;return!((at=J.genre_ids)!=null&&at.some(ft=>V.includes(ft)))&&!G.some(ft=>(J.name||"").toLowerCase().includes(ft)||(J.original_name||"").toLowerCase().includes(ft)||(J.overview||"").toLowerCase().includes(ft))});try{const J=de(Oe,"movies2","550");await en(J,{allMovies:Q})}catch(J){console.error("Error storing recommendations:",J)}},T=async()=>{const I=de(Oe,"movies2","550"),x=await sr(I);if(x.exists()){const j=x.data();return console.log("Full Data:",j),console.log("Fetched Recommendations:",j.allMovies),console.log(j.allMovies),u(j.allMovies)}else return console.log(" Document not found"),[]};return H.useEffect(()=>{const I=Z4.onAuthStateChanged(async x=>{if(x){const j=de(Oe,"users",x.uid),V=await sr(j),G=V.data().firstName.toUpperCase();V.exists()&&Bt.success(`Welcome  ${G}`,{position:"top-center"})}});return()=>I()},[]),H.useEffect(()=>{T(),b(),(async()=>{const x=XD(UD(Oe,"movies"),WD(8));try{const j=await e4(x);console.log(j);const V=j.docs.map(G=>({id:G.id,...G.data()}));console.log(V.length),s(V),console.log("Movies fetched successfully:",V)}catch{console.error("Error fetching movies:")}})()},[]),C.jsx(C.Fragment,{children:C.jsxs(mO,{value:h,children:[C.jsx(wg,{}),C.jsxs("div",{className:"bg-gray-900  z-0 min-h-screen w-screen overflow-hidden",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"md:text-4xl text-2xl pl-24 md:pl-27 bg-gray-900  text-white w-full h-17 pt-4",children:"Trending"}),C.jsx("div",{className:" text-blue-600  gap-9 overflow-x-auto bg-gray-900 flex w-screen md:pl-30   whitespace-nowrap no-scrollbar",children:e.map(I=>C.jsx("div",{children:C.jsx(pO,{...I,onBookmark:()=>p(I),onDropbook:()=>g(I),isBookmark:h.some(x=>x.id===I.id),hanleClick:()=>E(I)})},I.id))})]}),C.jsxs("div",{children:[C.jsx("h1",{className:"md:text-4xl text-center text-2xl  ml-[-50px] md:text-left md:pl-45 bg-gray-900  text-white w-full h-17 pt-14",children:"Recommended for you "}),C.jsx("div",{className:" text-blue-600 justify-center flex-row gap-4 pl-10  flex-wrap flex overflow-y-auto w-screen pt-10 mx-auto items-center whitespace-nowrap no-scrollbar",children:o.map(I=>C.jsx("div",{children:H.createElement(gO,{...I,key:I.id,onBookmark:()=>p(I),onDropbook:()=>g(I),isBookmark:h.some(x=>x.id===I.id),hanleClick:()=>E(I)})}))})]})]})]})})},pO=i=>{const[t,e]=H.useState(!1),s=()=>{t?i.onDropbook():i.onBookmark(),e(!t)};return C.jsx(C.Fragment,{children:C.jsx("div",{onClick:i.hanleClick,children:C.jsxs("div",{className:"relative w-75 md:w-120  h-48 md:h-68 text-white overflow-hidden shadow-lg group bg-gray-900 p-4 flex flex-col justify-between ",children:[C.jsx("img",{className:" w-75 md:w-110 rounded-xl h-78  object-cover  group-hover:scale-105 transition-transform duration-300 ease-in-out",src:`https://image.tmdb.org/t/p/w500/${i.poster_path}`,alt:i.title}),C.jsx("button",{className:`absolute top-6 right-8 bg-gray-800 bg-opacity-60 p-2 rounded-full text-white hover:bg-opacity-80 transition ${t?"bg-red-700":"bg-gray-800 bg-opacity-60 hover:bg-opacity-80"} `,onClick:o=>{o.stopPropagation(),o.preventDefault,s()},children:C.jsx(Oo,{size:18})}),C.jsxs("div",{className:"flex items-left  pl-10 text-sm md:mt-[-130px] mt-[-0px] gap-4 opacity-95",children:[C.jsx("h4",{children:i.release_date.slice(0,4)}),C.jsx("h5",{className:"text-sm font-semibold leading-tight truncate",children:i.movie_vote}),C.jsxs("p",{className:"flex text-sm",children:[C.jsx(ha,{className:"mt-1"}),i.movie_type]}),C.jsx("p",{children:"PG"})]}),C.jsx("h1",{className:"text-2xl text-white  font-semibold leading-tight truncate flex items-left  pl-10",children:i.title})]})})})},gO=i=>{const[t,e]=H.useState(!1),s=()=>{t?i.onDropbook():i.onBookmark(),e(!t)};return C.jsx(C.Fragment,{children:C.jsx("div",{onClick:i.hanleClick,children:C.jsxs("div",{className:"relative w-90   h-98 md:h-83 text-white overflow-hidden group bg-gray-900 p-4 flex flex-col justify-between gap-4 ",children:[C.jsx("img",{className:" w-90  rounded-xl h-68  object-cover  group-hover:scale-105 transition-transform duration-300 ease-in-out",src:`https://image.tmdb.org/t/p/w500/${i.backdrop_path||i.poster_path}`,alt:i.title}),C.jsx("div",{className:`absolute top-6 right-10 bg-gray-800 bg-opacity-60 p-2 rounded-full text-white hover:bg-opacity-80 transition ${t?"bg-red-700":"bg-gray-800 bg-opacity-60 hover:bg-opacity-80"} `,onClick:o=>{o.stopPropagation(),o.preventDefault,s()},children:C.jsx(Oo,{size:18})}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-left  pl-5 text-sm  mt-[-0px] gap-4 opacity-95",children:[C.jsx("h4",{children:i.first_air_date.slice(0,4)}),C.jsx("h5",{className:"text-sm font-semibold leading-tight truncate",children:i.movie_vote}),C.jsxs("p",{className:"flex text-sm",children:[C.jsx(ha,{className:"mt-1"}),i.movie_type]}),C.jsx("p",{children:"PG"})]}),C.jsx("h1",{className:"text-2xl text-white  font-semibold leading-tight truncate flex items-left  pl-5",children:i.name.slice(0,23)})]})]})})})},yO=()=>{const[i,t]=H.useState([]),e=async()=>{const o=de(Oe,"moviseBook","100"),u=await sr(o);if(u.exists()){const h=u.data();return console.log("Full Data:",h),console.log("Fetched Recommendations:",h.details),t(h.details)}else return console.log(" Document not found"),[]},s=async o=>{await en(de(Oe,"accomodations","10"),{details:o}),console.log("Saved")};return H.useEffect(()=>{e()},[]),C.jsx(C.Fragment,{children:C.jsx("div",{className:" bg-gray-900  z-0 min-h-screen w-screen overflow-hidden",children:C.jsxs("div",{children:[C.jsxs("h1",{className:"text-4xl pl-27 md:pl-45 bg-gray-900  text-white w-full h-17 pt-14 flex gap-3",children:["Bookmarks ",C.jsx(Oo,{className:"hover:text-red-700 mt-1 cursor-pointer",size:38})]}),C.jsx("div",{className:" text-blue-600 justify-start md:pl-50 flex-row gap-5 flex-wrap flex overflow-y-auto w-screen pt-16 mx-auto items-center whitespace-nowrap no-scrollbar",children:i.map(o=>C.jsx("div",{children:H.createElement(_O,{...o,key:o.id,hanleClick:()=>s(o)})}))})]})})})},_O=i=>C.jsx(C.Fragment,{children:C.jsx(yi,{to:"/project",onClick:i.hanleClick,children:C.jsxs("div",{className:"relative w-110 h-98 md:h-110 text-white overflow-hidden group bg-gray-900 p-4 flex flex-col gap-4 ",children:[C.jsx("img",{className:" md:w-100  rounded-xl  md:h-68 w-90 h-48  object-cover  group-hover:scale-105 transition-transform duration-300 ease-in-out",src:`https://image.tmdb.org/t/p/w500/${i.backdrop_path||i.poster_path}`,alt:i.title}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-start pl-4 text-sm  mt-[-0px] gap-4 opacity-95",children:[C.jsx("h4",{children:i.release_date||i.first_air_date}),C.jsx("h5",{className:"text-sm font-semibold leading-tight truncate",children:i.movie_vote}),C.jsxs("p",{className:"flex text-sm",children:[C.jsx(ha,{className:"mt-1"}),i.movie_type]}),C.jsx("p",{children:"PG"})]}),C.jsx("h1",{className:"text-2xl text-white  font-semibold leading-tight truncate flex items-start pl-4 text-center pt-4",children:i.title||i.name})]})]})})}),PE=()=>C.jsx(C.Fragment,{children:C.jsxs("div",{className:"bg-gray-900 flex gap-5 pl-4 w-full md:justify-start md:pl-42 pb-2 md:items-left justify-start items-left text-left md:text-left md:pt-7   pt-6  ",children:[C.jsx(cO,{className:"sm:text-[24px] text-white border-none mt-2 ml-4"}),C.jsx("input",{type:"text",name:"search",id:"",className:"sm:text-2xl text-[12px] fl text-gray-200 sm:w-100 w-40 border-none h-10",placeholder:"Search for movies or TV series "})]})}),vO=({onLogin:i})=>{const[t,e]=H.useState(""),[s,o]=H.useState(""),[u,h]=H.useState(""),[m,p]=H.useState(""),g=async()=>{try{const b=await JI(iu,s4),T=b.user;console.log("login succesful"+b.user);const I=T.displayName||"",x=I.split(" ")[0]||"",j=I.split(" ")[1]||"";await en(de(CE,"users",T.uid),{firstName:x,lastName:j,email:T.email,photo:T.photoURL},{merge:!0}),i()}catch(b){console.log("there is problem with ur sign in "+b.message)}},E=async b=>{b.preventDefault();try{await xI(iu,t,s);const T=iu.currentUser;console.log(T),T&&await en(de(CE,"users",T.uid),{firstName:u,lastName:m,email:T.email}),console.log("User created successfully"),Bt.success("Login successful!",{position:"top-center",autoClose:3e3})}catch(T){console.error("Error creating user:",T.message),Bt.error("Login failed: "+T.message,{position:"bottom-center",autoClose:3e3})}};return C.jsx("div",{className:'flex items-center justify-center min-h-screen bg-[url("./assets/home_bg.png")] bg-cover bg-center bg-no-repeat bg-opacity-80',children:C.jsxs("form",{onSubmit:E,className:" text-center mx-auto  w-450px bg- p-8  h-160 max-w-m relative z-10 bg-black/70 text-white px-8 py-10 rounded-lg shadow-lg max-w-md w-full backdrop-blur-sm ",children:[C.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Sign Up"}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-1 text-left pl-5 ",children:"First Name"}),C.jsx("input",{type:"text",className:"w-full p-3 rounded bg-gray-800 text-white placeholder-gray-400 focus:outline-none ",placeholder:"First name",onChange:b=>h(b.target.value),required:!0})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-1 text-left pl-5 ",children:"Last Name"}),C.jsx("input",{type:"text",className:"w-full p-3 rounded bg-gray-800 text-white placeholder-gray-400 focus:outline-none ",placeholder:"Last name",onChange:b=>p(b.target.value)})]}),C.jsxs("div",{className:"mb-4",children:[C.jsx("label",{className:"block mb-1 text-left pl-5 ",children:"Email Address"}),C.jsx("input",{type:"email",className:"w-full p-3 rounded bg-gray-800 text-white placeholder-gray-400",placeholder:"Enter email",onChange:b=>e(b.target.value),required:!0})]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("label",{className:"block mb-1 text-left pl-5 ",children:"Password"}),C.jsx("input",{type:"password",className:"w-full p-3 rounded bg-gray-800 text-white placeholder-gray-400",placeholder:"Enter password",onChange:b=>o(b.target.value),required:!0})]}),C.jsx("button",{onSubmit:E,type:"submit",className:"w-full bg-[#e50914] text-white py-3 rounded font-semibold hover:bg-red-700 transition duration-300 cursor-pointer",children:"Sign Up"}),C.jsxs("button",{onClick:g,className:"w-full bg-white flex justify-center items-center gap-3  mt-6 text-black py-3 rounded font-semibold transition duration-300 cursor-pointer",children:["Sign in using Google ",C.jsx(uO,{size:28,className:"text-[#e50914] hover:text-blue-400"})]}),C.jsx(wg,{}),C.jsxs("p",{className:"text-sm text-center mt-6 text-gray-300",children:["Already registered?"," ",C.jsx(yi,{to:"/login",className:"text-[#e50914] hover:underline",children:"Login"})]})]})})};function EO(){const[i,t]=H.useState(()=>localStorage.getItem("isLoggedIn")==="true");i?localStorage.setItem("isLoggedIn","true"):localStorage.removeItem("isLoggedIn");const e=async()=>{const s={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNjA4OTUxYmI3ZjI5OTYwZGUzNThmYzBiODZjNWU2NyIsIm5iZiI6MTc1MTYzMTY1NS44MzAwMDAyLCJzdWIiOiI2ODY3YzcyNzA2YjgyNzQ2NmU1M2I4YTIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.7dHa7DBREfgiJkB7wiCYLMDJFv2LBXLDcYMBtpaQyBA"}},o=await fetch("https://api.themoviedb.org/3/movie/550/recommendations?language=en-US&page=1",s);try{if(!u.ok)throw new Error("Network response was not ok");const h=await o.json();return console.log(h),h}catch(h){console.error("There has been a problem with your fetch operation:",h)}const u=await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",s);try{if(!u.ok)throw new Error("Network response was not ok");const h=await u.json();console.log(h);const m=de(Nb,"movies","200");h.results.forEach(async p=>{await en(m,{id:p.id,movie_type:p.media_type||"movie",title:p.title,overview:p.overview,poster_path:p.poster_path,release_date:p.release_date,movie_vote:p.vote_average})})}catch(h){console.error("There has been a problem with your fetch operation:",h)}};return H.useEffect(()=>{e()},[]),C.jsx(C.Fragment,{children:i?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:" bg-gray-900  md:justify-left md:items-left justify-center  text-center ",children:[C.jsx(PE,{}),C.jsx(fO,{onLogin:()=>t(!1)})]}),C.jsxs(Xv,{children:[C.jsx(dn,{path:"/",element:C.jsx(VE,{})}),C.jsx(dn,{path:"/project",element:C.jsx(rO,{})}),C.jsx(dn,{path:"/home",element:C.jsx(PE,{})}),C.jsx(dn,{path:"/login",element:C.jsx(DE,{})}),C.jsx(dn,{path:"/homes",element:C.jsx(ME,{})}),C.jsx(dn,{path:"/tvicons",element:C.jsx(eO,{})}),C.jsx(dn,{path:"/foot",element:C.jsx(yO,{})}),C.jsx(dn,{path:"/shows",element:C.jsx(ME,{})}),C.jsx(dn,{path:"*",element:C.jsx(Qv,{to:"/"})})]})]}):C.jsxs(Xv,{children:[C.jsx(dn,{path:"/",element:C.jsx(DE,{onLogin:()=>t(!0)})}),C.jsx(dn,{path:"/signup",element:C.jsx(vO,{onLogin:()=>t(!0)})}),C.jsx(dn,{path:"/home",element:C.jsx(VE,{})}),C.jsx(dn,{path:"*",element:C.jsx(Qv,{to:"/"})})]})})}const TO=bS.createRoot(document.getElementById("root"));TO.render(C.jsx(PA,{children:C.jsx(EO,{})}));
